{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./service/galeria.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"ngx-pagination\";\nimport * as i4 from \"./add-imagen/add-imagen.component\";\nfunction GaleriaComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵlistener(\"click\", function GaleriaComponent_div_6_Template_div_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.fotoSeleccionada($event));\n    });\n    i0.ɵɵelementStart(1, \"label\", 14);\n    i0.ɵɵelement(2, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const imagen_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"for\", imagen_r3.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"../../assets/imagenes/galeria/\", imagen_r3.nombre, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"id\", imagen_r3.id);\n    i0.ɵɵpropertyInterpolate(\"alt\", imagen_r3.nombre);\n  }\n}\nconst _c0 = function (a1) {\n  return {\n    itemsPerPage: 6,\n    currentPage: a1\n  };\n};\nexport class GaleriaComponent {\n  constructor(galeriaServicio) {\n    this.galeriaServicio = galeriaServicio;\n    this.p = 1;\n    this.imagenesSeleccionadas = [];\n    this.galeria_imagenes = [];\n  }\n  ngOnInit() {\n    this.galeriaServicio.getGaleria_Imagenes().subscribe(imagen => {\n      this.galeria_imagenes = imagen;\n    });\n  }\n  eliminandoFotos() {\n    this.imagenesSeleccionadas.forEach(id => {\n      this.galeriaServicio.borrarImagenes(id).subscribe(res => {\n        this.mostrarImagenes();\n      });\n    });\n  }\n  mostrarImagenes() {\n    this.galeriaServicio.getGaleria_Imagenes().subscribe(imagen => {\n      this.galeria_imagenes = imagen;\n    });\n  }\n  fotoSeleccionada(event) {\n    if (event.target.type == 'checkbox') {\n      if (event.target.checked) {\n        this.imagenesSeleccionadas.push(event.target.id);\n      } else {\n        let i = this.imagenesSeleccionadas.indexOf(event.target.id);\n        this.imagenesSeleccionadas.splice(i, 1);\n      }\n    }\n  }\n}\nGaleriaComponent.ɵfac = function GaleriaComponent_Factory(t) {\n  return new (t || GaleriaComponent)(i0.ɵɵdirectiveInject(i1.GaleriaService));\n};\nGaleriaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: GaleriaComponent,\n  selectors: [[\"app-galeria\"]],\n  decls: 19,\n  vars: 6,\n  consts: [[1, \"row\", \"w-100\"], [1, \"row\"], [1, \"col-12\", \"text-center\", \"mt-5\", \"mb-4\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"g-2\", \"g-lg-3\", \"w-100\"], [\"class\", \"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"previousLabel\", \"Anterior\", \"nextLabel\", \"Siguiente\", 1, \"text-center\", 3, \"pageChange\"], [1, \"row\", \"d-flex\", \"justify-content-evenly\", \"mb-3\"], [1, \"col-md-6\", \"col-12\", \"text-center\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalSubirFoto\", 1, \"btn\", \"btn-danger\", \"border-3\", \"rounded-2\", \"w-50\", \"mb-2\"], [\"boton_A\\u00F1adir\", \"\"], [1, \"btn\", \"btn-danger\", \"border-3\", \"rounded-2\", \"w-50\", \"mb-2\", 3, \"click\"], [\"boton_Eliminar\", \"\"], [3, \"recargarImagenes\"], [1, \"col-md-4\", \"col-sm-6\", \"col-12\", \"p-3\", \"custom-control\", \"custom-checkbox\", \"image-checkbox\", \"text-center\", 3, \"click\"], [1, \"custom-control-label\", 3, \"for\"], [1, \"img-fluid\", \"w-50\", 3, \"src\"], [\"type\", \"checkbox\", 1, \"custom-control-input\", \"checkbox-inline\", 3, \"id\", \"alt\"]],\n  template: function GaleriaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\");\n      i0.ɵɵtext(4, \"Galeria: \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(5, \"div\", 3);\n      i0.ɵɵtemplate(6, GaleriaComponent_div_6_Template, 4, 4, \"div\", 4);\n      i0.ɵɵpipe(7, \"paginate\");\n      i0.ɵɵelementStart(8, \"pagination-controls\", 5);\n      i0.ɵɵlistener(\"pageChange\", function GaleriaComponent_Template_pagination_controls_pageChange_8_listener($event) {\n        return ctx.p = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"div\", 6)(10, \"div\", 7)(11, \"button\", 8, 9);\n      i0.ɵɵtext(13, \"Subir foto\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 7)(15, \"button\", 10, 11);\n      i0.ɵɵlistener(\"click\", function GaleriaComponent_Template_button_click_15_listener() {\n        return ctx.eliminandoFotos();\n      });\n      i0.ɵɵtext(17, \"Eliminar fotos\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(18, \"app-add-imagen\", 12);\n      i0.ɵɵlistener(\"recargarImagenes\", function GaleriaComponent_Template_app_add_imagen_recargarImagenes_18_listener() {\n        return ctx.mostrarImagenes();\n      });\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(7, 1, ctx.galeria_imagenes, i0.ɵɵpureFunction1(4, _c0, ctx.p)));\n    }\n  },\n  dependencies: [i2.NgForOf, i3.PaginationControlsComponent, i4.AddImagenComponent, i3.PaginatePipe],\n  styles: [\".custom-control.image-checkbox[_ngcontent-%COMP%] {\\n  position: relative;\\n  padding-left: 0 !important;\\n}\\n.custom-control.image-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] {\\n  box-sizing: border-box;\\n  padding: 0 !important;\\n}\\n.custom-control.image-checkbox[_ngcontent-%COMP%]   input[type=checkbox].custom-control-input[_ngcontent-%COMP%] {\\n  z-index: -1;\\n  opacity: 0;\\n}\\n.custom-control.image-checkbox[_ngcontent-%COMP%]   input[type=checkbox].custom-control-input[_ngcontent-%COMP%]:hover {\\n  opacity: 0.8;\\n}\\n.custom-control.image-checkbox[_ngcontent-%COMP%]   input[type=checkbox].custom-control-input[_ngcontent-%COMP%]:checked {\\n  z-index: 0;\\n  opacity: 1;\\n}\\n.custom-control.image-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n.custom-control.image-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus, .custom-control.image-checkbox[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover {\\n  opacity: 0.8;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: var(--color-granate-oscuro);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2FsZXJpYS9nYWxlcmlhLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0Usa0JBQUE7RUFDQSwwQkFBQTtBQUNGO0FBRUU7RUFDRSxzQkFBQTtFQUNBLHFCQUFBO0FBQUo7QUFFSTtFQUNFLFdBQUE7RUFDQSxVQUFBO0FBQU47QUFDTTtFQUNFLFlBQUE7QUFDUjtBQUNNO0VBQ0UsVUFBQTtFQUNBLFVBQUE7QUFDUjtBQUlFO0VBQ0ksZUFBQTtBQUZOO0FBSU07RUFFSSxZQUFBO0FBSFY7O0FBU0E7RUFDRSw2Q0FBQTtBQU5GIiwic291cmNlc0NvbnRlbnQiOlsiLmN1c3RvbS1jb250cm9sLmltYWdlLWNoZWNrYm94e1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHBhZGRpbmctbGVmdDogMCAhaW1wb3J0YW50O1xuXG5cbiAgaW5wdXRbdHlwZT1jaGVja2JveF17XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG5cbiAgICAmLmN1c3RvbS1jb250cm9sLWlucHV0e1xuICAgICAgei1pbmRleDogLTE7XG4gICAgICBvcGFjaXR5OiAwO1xuICAgICAgJjpob3ZlcntcbiAgICAgICAgb3BhY2l0eTogLjg7XG4gICAgICB9XG4gICAgICAmOmNoZWNrZWR7XG4gICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGFiZWx7XG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgICAgICY6Zm9jdXMsXG4gICAgICAmOmhvdmVye1xuICAgICAgICAgIG9wYWNpdHk6IC44O1xuICAgICAgfVxuICB9XG59XG5cblxuYnV0dG9uOmhvdmVye1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1ncmFuYXRlLW9zY3Vybyk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAQIA,+BAC8F;IADzFA;MAAAA;MAAA;MAAA,OAASA,8CAAwB;IAAA,EAAC;IAErCA,iCAAwD;IACtDA,0BAAmF;IACrFA,iBAAQ;IACRA,4BAA+G;IACjHA,iBAAM;;;;IAJgCA,eAAmB;IAAnBA,6CAAmB;IACxBA,eAAqD;IAArDA,0GAAqD;IAEhBA,eAAkB;IAAlBA,4CAAkB;IAACA,iDAAuB;;;;;;;;;ACJpH,OAAM,MAAOC,gBAAgB;EAI3BC,YAAmBC,eAA+B;IAA/B,oBAAe,GAAfA,eAAe;IAHlC,MAAC,GAAW,CAAC;IACb,0BAAqB,GAAU,EAAE;IACjC,qBAAgB,GAAc,EAAE;EACsB;EAEtDC,QAAQ;IACN,IAAI,CAACD,eAAe,CAACE,mBAAmB,EAAE,CAACC,SAAS,CAAEC,MAAM,IAAG;MAAE,IAAI,CAACC,gBAAgB,GAAGD,MAAM;IAAA,CAAC,CAAC;EAEnG;EAKAE,eAAe;IAEb,IAAI,CAACC,qBAAqB,CAACC,OAAO,CAACC,EAAE,IAAG;MACtC,IAAI,CAACT,eAAe,CAACU,cAAc,CAACD,EAAE,CAAC,CAACN,SAAS,CAAEQ,GAAG,IAAI;QACxD,IAAI,CAACC,eAAe,EAAE;MACxB,CAAC,CAAC;IACJ,CAAC,CAAC;EAEJ;EAEAA,eAAe;IACb,IAAI,CAACZ,eAAe,CAACE,mBAAmB,EAAE,CAACC,SAAS,CAAEC,MAAM,IAAG;MAAE,IAAI,CAACC,gBAAgB,GAAGD,MAAM;IAAA,CAAC,CAAC;EACnG;EAEAS,gBAAgB,CAACC,KAAU;IACzB,IAAGA,KAAK,CAACC,MAAM,CAACC,IAAI,IAAI,UAAU,EAAC;MACjC,IAAGF,KAAK,CAACC,MAAM,CAACE,OAAO,EAAC;QACtB,IAAI,CAACV,qBAAqB,CAACW,IAAI,CAACJ,KAAK,CAACC,MAAM,CAACN,EAAE,CAAC;OACjD,MACG;QACF,IAAIU,CAAC,GAAG,IAAI,CAACZ,qBAAqB,CAACa,OAAO,CAACN,KAAK,CAACC,MAAM,CAACN,EAAE,CAAC;QAC3D,IAAI,CAACF,qBAAqB,CAACc,MAAM,CAACF,CAAC,EAAE,CAAC,CAAC;;;EAG7C;;AAtCWrB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAAwB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDT7B7B,8BAAuB;MAGbA,yBAAS;MAAAA,iBAAK;MAGtBA,8BAAmF;MAEjFA,iEAMM;;MAyCNA,8CAAkH;MAA7FA;QAAA;MAAA,EAAyB;MAE9CA,iBAAsB;MAExBA,8BAAoD;MAGfA,2BAAU;MAAAA,iBAAS;MAGtDA,+BAAyC;MACqCA;QAAA,OAAS8B,qBAAiB;MAAA,EAAC;MAAC9B,+BAAc;MAAAA,iBAAS;MAMrIA,2CAAuD;MAAvCA;QAAA,OAAoB8B,qBAAiB;MAAA,EAAC;MAAC9B,iBAAiB;;;MA/DjDA,eAAwE;MAAxEA,uGAAwE","names":["i0","GaleriaComponent","constructor","galeriaServicio","ngOnInit","getGaleria_Imagenes","subscribe","imagen","galeria_imagenes","eliminandoFotos","imagenesSeleccionadas","forEach","id","borrarImagenes","res","mostrarImagenes","fotoSeleccionada","event","target","type","checked","push","i","indexOf","splice","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/mario/donantesSangrePuertollano/front/src/app/galeria/galeria.component.html","/home/mario/donantesSangrePuertollano/front/src/app/galeria/galeria.component.ts"],"sourcesContent":["<div class=\"row w-100\">\n  <div class=\"row\">\n    <div class=\"col-12 text-center mt-5 mb-4\">\n      <h1>Galeria: </h1>\n    </div>\n  </div>\n  <div class=\"row d-flex justify-content-center align-items-center g-2 g-lg-3 w-100\">\n\n    <div (click)=\"fotoSeleccionada($event)\" class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\"\n    *ngFor=\"let imagen of this.galeria_imagenes | paginate: { itemsPerPage: 6, currentPage: p } \">\n      <label class=\"custom-control-label\" for=\"{{imagen.id}}\">\n        <img  class=\"img-fluid w-50\" src=\"../../assets/imagenes/galeria/{{imagen.nombre}}\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"{{imagen.id}}\" alt=\"{{imagen.nombre}}\">\n    </div>\n\n    <!-- <div class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\">\n      <label class=\"custom-control-label\" for=\"1\">\n        <img class=\"img-fluid w-50 border border-3 border-dark rounded-3\" src=\"../../assets/imagenes/apto_sangre/viaje.png\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"1\">\n    </div>\n    <div class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\">\n      <label class=\"custom-control-label\" for=\"2\">\n        <img class=\"img-fluid w-50 border border-3 border-dark rounded-3\" src=\"../../assets/imagenes/apto_sangre/donar.png\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"2\">\n    </div>\n    <div class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\">\n      <label class=\"custom-control-label\" for=\"3\">\n        <img class=\"img-fluid w-50 border border-3 border-dark rounded-3\" src=\"../../assets/imagenes/apto_sangre/edad.png\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"3\">\n    </div>\n\n    <div class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\">\n      <label class=\"custom-control-label\" for=\"4\">\n        <img class=\"img-fluid w-50 border border-3 border-dark rounded-3\" src=\"../../assets/imagenes/apto_sangre/embarazo.png\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"4\">\n    </div>\n\n    <div class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\">\n      <label class=\"custom-control-label\" for=\"5\">\n        <img class=\"img-fluid w-50 border border-3 border-dark rounded-3\" src=\"../../assets/imagenes/apto_sangre/enfermedad.png\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"5\">\n    </div>\n\n    <div class=\"col-md-4 col-sm-6 col-12 p-3 custom-control custom-checkbox image-checkbox text-center\">\n      <label class=\"custom-control-label\" for=\"6\">\n        <img class=\"img-fluid w-50 border border-3 border-dark rounded-3\" src=\"../../assets/imagenes/apto_sangre/peso.png\">\n      </label>\n      <input type=\"checkbox\" class=\"custom-control-input checkbox-inline\" id=\"6\">\n    </div> -->\n    <pagination-controls (pageChange)=\"p = $event\" previousLabel=\"Anterior\" nextLabel=\"Siguiente\" class=\"text-center\">\n\n    </pagination-controls>\n  </div>\n  <div class=\"row d-flex justify-content-evenly mb-3\">\n    <div class=\"col-md-6 col-12 text-center\">\n      <button #boton_Añadir class=\"btn btn-danger border-3 rounded-2 w-50 mb-2\" data-bs-toggle=\"modal\"\n      data-bs-target=\"#modalSubirFoto\">Subir foto</button>\n\n    </div>\n    <div class=\"col-md-6 col-12 text-center\">\n      <button #boton_Eliminar class=\"btn btn-danger border-3 rounded-2 w-50 mb-2\" (click)=\"eliminandoFotos()\">Eliminar fotos</button>\n    </div>\n  </div>\n</div>\n\n<!-- Modal -->\n<app-add-imagen (recargarImagenes)=\"mostrarImagenes()\"></app-add-imagen>\n","import { Component, ViewChild, ElementRef, Renderer2, OnInit, SimpleChanges } from '@angular/core';\nimport { GaleriaService } from './service/galeria.service';\nimport { Galeria } from './interface/galeria';\n\n@Component({\n  selector: 'app-galeria',\n  templateUrl: './galeria.component.html',\n  styleUrls: ['./galeria.component.scss']\n})\nexport class GaleriaComponent implements OnInit{\n  p: number = 1;\n  imagenesSeleccionadas: any[] = [];\n  galeria_imagenes: Galeria[] = [];\n  constructor(public galeriaServicio: GaleriaService) { }\n\n  ngOnInit(): void {\n    this.galeriaServicio.getGaleria_Imagenes().subscribe( imagen => {this.galeria_imagenes = imagen});\n\n  }\n\n\n\n\n  eliminandoFotos(): void{\n\n    this.imagenesSeleccionadas.forEach(id => {\n      this.galeriaServicio.borrarImagenes(id).subscribe((res) => {\n        this.mostrarImagenes();\n      })\n    })\n\n  }\n\n  mostrarImagenes(): void{\n    this.galeriaServicio.getGaleria_Imagenes().subscribe( imagen => {this.galeria_imagenes = imagen});\n  }\n\n  fotoSeleccionada(event: any): void{\n    if(event.target.type == 'checkbox'){\n      if(event.target.checked){\n        this.imagenesSeleccionadas.push(event.target.id);\n      }\n      else{\n        let i = this.imagenesSeleccionadas.indexOf(event.target.id);\n        this.imagenesSeleccionadas.splice(i, 1);\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}