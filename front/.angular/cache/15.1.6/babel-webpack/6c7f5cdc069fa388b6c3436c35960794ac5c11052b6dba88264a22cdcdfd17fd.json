{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class StickyTopDirective {\n  constructor(elemento, renderer) {\n    this.elemento = elemento;\n    this.renderer = renderer;\n    // Fuente código http://blog.enriqueoriol.com/2018/07/como-crear-un-elemento-sticky-en-angular.html\n    this.posicionElementoOriginal = 0;\n    this.getPosicionElemento();\n  }\n  getPosicionElemento() {\n    //Necesito saber a qué distancia está el elemento de la parte superior de la ventana.\n    let distanciaVentanaElemento = this.elemento.nativeElement.getBoundingClientRect().top;\n    let scrollActual = window.scrollY;\n    this.posicionElementoOriginal = distanciaVentanaElemento + scrollActual;\n  }\n  handleScroll($event) {\n    const scrollActual = window.scrollY;\n    if (scrollActual >= this.posicionElementoOriginal) {\n      this.renderer.addClass(this.elemento.nativeElement, 'fijo');\n    } else if (scrollActual < this.posicionElementoOriginal) {\n      this.renderer.removeClass(this.elemento.nativeElement, 'fijo');\n    }\n  }\n}\nStickyTopDirective.ɵfac = function StickyTopDirective_Factory(t) {\n  return new (t || StickyTopDirective)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i0.Renderer2));\n};\nStickyTopDirective.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: StickyTopDirective,\n  selectors: [[\"\", \"appStickyTop\", \"\"]],\n  hostBindings: function StickyTopDirective_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"scroll\", function StickyTopDirective_scroll_HostBindingHandler($event) {\n        return ctx.handleScroll($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  }\n});","map":{"version":3,"mappings":";AAMA,OAAM,MAAOA,kBAAkB;EAK7BC,YACUC,QAAoB,EACpBC,QAAmB;IADnB,aAAQ,GAARD,QAAQ;IACR,aAAQ,GAARC,QAAQ;IANlB;IAEQ,6BAAwB,GAAG,CAAC;IAMlC,IAAI,CAACC,mBAAmB,EAAE;EAC5B;EAEQA,mBAAmB;IACzB;IACA,IAAIC,wBAAwB,GAAG,IAAI,CAACH,QAAQ,CAACI,aAAa,CAACC,qBAAqB,EAAE,CAACC,GAAG;IACtF,IAAIC,YAAY,GAAGC,MAAM,CAACC,OAAO;IACjC,IAAI,CAACC,wBAAwB,GAAGP,wBAAwB,GAAGI,YAAY;EACzE;EAGQI,YAAY,CAACC,MAAa;IAChC,MAAML,YAAY,GAAGC,MAAM,CAACC,OAAO;IAEnC,IAAIF,YAAY,IAAI,IAAI,CAACG,wBAAwB,EAAE;MACjD,IAAI,CAACT,QAAQ,CAACY,QAAQ,CAAC,IAAI,CAACb,QAAQ,CAACI,aAAa,EAAE,MAAM,CAAC;KAC5D,MAAM,IAAIG,YAAY,GAAG,IAAI,CAACG,wBAAwB,EAAE;MACvD,IAAI,CAACT,QAAQ,CAACa,WAAW,CAAC,IAAI,CAACd,QAAQ,CAACI,aAAa,EAAE,MAAM,CAAC;;EAElE;;AA5BWN,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAiB;EAAAC;IAAA;;eAAlBC,wBAAoB;MAAA","names":["StickyTopDirective","constructor","elemento","renderer","getPosicionElemento","distanciaVentanaElemento","nativeElement","getBoundingClientRect","top","scrollActual","window","scrollY","posicionElementoOriginal","handleScroll","$event","addClass","removeClass","selectors","hostBindings","ctx"],"sourceRoot":"","sources":["/home/mario/donantesSangrePuertollano/front/src/app/shared/directivas/sticky-top.directive.ts"],"sourcesContent":["import { Directive, ElementRef, HostBinding, HostListener, Renderer2 } from '@angular/core';\n\n\n@Directive({\n  selector: '[appStickyTop]'\n})\nexport class StickyTopDirective {\n  // Fuente código http://blog.enriqueoriol.com/2018/07/como-crear-un-elemento-sticky-en-angular.html\n\n  private posicionElementoOriginal = 0;\n\n  constructor(\n    private elemento: ElementRef,\n    private renderer: Renderer2\n  ) {\n    this.getPosicionElemento();\n  }\n\n  private getPosicionElemento() {\n    //Necesito saber a qué distancia está el elemento de la parte superior de la ventana.\n    let distanciaVentanaElemento = this.elemento.nativeElement.getBoundingClientRect().top;\n    let scrollActual = window.scrollY;\n    this.posicionElementoOriginal = distanciaVentanaElemento + scrollActual;\n  }\n\n  @HostListener(\"window:scroll\", ['$event'])\n  private handleScroll($event: Event) {\n    const scrollActual = window.scrollY;\n\n    if (scrollActual >= this.posicionElementoOriginal) {\n      this.renderer.addClass(this.elemento.nativeElement, 'fijo');\n    } else if (scrollActual < this.posicionElementoOriginal) {\n      this.renderer.removeClass(this.elemento.nativeElement, 'fijo');\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}