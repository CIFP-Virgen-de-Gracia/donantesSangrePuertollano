{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/config.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@kolkov/angular-editor\";\nconst _c0 = [\"audio\"];\nfunction AddHimnoComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"strong\");\n    i0.ɵɵtext(3, \"Error!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" El campo titulo y el campo de audio son obligatorios. \");\n    i0.ɵɵelementStart(5, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AddHimnoComponent_div_22_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddHimnoComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 24);\n    i0.ɵɵtext(2, \" El himno o audio se ha a\\u00F1adido correctamente. \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AddHimnoComponent_div_23_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddHimnoComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵtext(2, \" El himno o audio no se ha podido a\\u00F1adir. \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AddHimnoComponent_div_24_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddHimnoComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵtext(2, \" Asegurate de que el archivo tiene extension y es una de las siguientes: mp3 o mp4 \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function AddHimnoComponent_div_25_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class AddHimnoComponent {\n  constructor(ConfigService) {\n    this.ConfigService = ConfigService;\n    this.addLetra = {\n      editable: true,\n      height: '100px',\n      minHeight: '0',\n      maxHeight: 'auto',\n      width: 'auto',\n      minWidth: '0',\n      translate: 'yes',\n      enableToolbar: true,\n      showToolbar: true,\n      placeholder: 'Enter text here...',\n      defaultParagraphSeparator: '',\n      defaultFontName: '',\n      defaultFontSize: '',\n      toolbarHiddenButtons: [['fontName', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\n    };\n    this.res = \"no\";\n    this.alert = \"no\";\n    this.aviso = 0;\n    this.cancion = {\n      titulo: \"\",\n      letra: \"\",\n      archivo: \"\"\n    };\n  }\n  limpiarAlert() {\n    this.alert = \"no\";\n    this.aviso = 0;\n  }\n  capturarFile(event) {\n    const files = event.target.files[0];\n    this.cancion.archivo = files;\n  }\n  limpiarContenido() {\n    this.cancion.titulo = \"\";\n    this.cancion.letra = \"\";\n    this.audio.nativeElement.value = '';\n  }\n  comprobarExtension(file) {\n    let permitida = false;\n    if (file != \"\") {\n      let extensiones_permitidas = ['.mp3', \".mp4\"];\n      let extension = file.name.substring(file.name.lastIndexOf(\".\")).toLowerCase();\n      if (extension != \"\") {\n        for (let i = 0; i < extensiones_permitidas.length && !permitida; i++) {\n          if (extensiones_permitidas[i] == extension) {\n            permitida = true;\n          }\n        }\n      }\n    } else {\n      permitida = true;\n    }\n    return permitida;\n  }\n  agregarAudio() {\n    if (this.cancion.titulo.trim().length === 0 || Object.prototype.toString.call(this.cancion.archivo) === '[object String]') {\n      this.alert = \"si\";\n    } else {\n      if (!this.comprobarExtension(this.cancion.archivo)) {\n        this.aviso = 3;\n        console.log(this.aviso);\n      } else {\n        this.ConfigService.addAudio(this.cancion).subscribe(res => {\n          if (res.success !== false) {\n            this.aviso = 1;\n            this.ConfigService.agregarAudio(res.data);\n            this.limpiarContenido();\n          } else {\n            this.aviso = 2;\n          }\n        });\n      }\n    }\n  }\n}\nAddHimnoComponent.ɵfac = function AddHimnoComponent_Factory(t) {\n  return new (t || AddHimnoComponent)(i0.ɵɵdirectiveInject(i1.ConfigService));\n};\nAddHimnoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddHimnoComponent,\n  selectors: [[\"app-add-himno\"]],\n  viewQuery: function AddHimnoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.audio = _t.first);\n    }\n  },\n  decls: 31,\n  vars: 8,\n  consts: [[\"id\", \"modalAdd\", \"tabindex\", \"-1\", 1, \"modal\"], [1, \"modal-dialog\", \"modal-xl\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", \"bordeColor\"], [1, \"modal-title\", \"modalTitulo\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [1, \"row\"], [1, \"col-12\"], [1, \"form-group\"], [\"for\", \"titulo\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"placeholder\", \"Escribe un titulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"addLetra\", 3, \"config\", \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"for\", \"audio\", 1, \"mt-4\"], [\"type\", \"file\", \"name\", \"audio\", 1, \"form-control\", \"mb-3\", 3, \"change\"], [\"audio\", \"\"], [\"class\", \"container mt-3 mb-2\", 4, \"ngIf\"], [1, \"modal-footer\", \"bordeArriba\"], [\"type\", \"submit\", 1, \"btn\", \"botonAdd\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"botonCerrar\", \"ms-4\", 3, \"click\"], [1, \"container\", \"mt-3\", \"mb-2\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"]],\n  template: function AddHimnoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n      i0.ɵɵtext(5, \"A\\u00F1adiendo Audio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function AddHimnoComponent_Template_button_click_6_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function AddHimnoComponent_Template_button_click_6_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function AddHimnoComponent_Template_form_ngSubmit_8_listener() {\n        return ctx.agregarAudio();\n      });\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10)(12, \"label\", 11);\n      i0.ɵɵtext(13, \"T\\u00EDtulo del himno o audio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function AddHimnoComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.cancion.titulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"label\", 11);\n      i0.ɵɵtext(16, \"Letra del himno o audio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"angular-editor\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AddHimnoComponent_Template_angular_editor_ngModelChange_17_listener($event) {\n        return ctx.cancion.letra = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"label\", 14);\n      i0.ɵɵtext(19, \"Seleccionar archivo de audio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 15, 16);\n      i0.ɵɵlistener(\"change\", function AddHimnoComponent_Template_input_change_20_listener($event) {\n        return ctx.capturarFile($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(22, AddHimnoComponent_div_22_Template, 6, 0, \"div\", 17);\n      i0.ɵɵtemplate(23, AddHimnoComponent_div_23_Template, 4, 0, \"div\", 17);\n      i0.ɵɵtemplate(24, AddHimnoComponent_div_24_Template, 4, 0, \"div\", 17);\n      i0.ɵɵtemplate(25, AddHimnoComponent_div_25_Template, 4, 0, \"div\", 17);\n      i0.ɵɵelementStart(26, \"div\", 18)(27, \"button\", 19);\n      i0.ɵɵtext(28, \"Aceptar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function AddHimnoComponent_Template_button_click_29_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function AddHimnoComponent_Template_button_click_29_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵtext(30, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.cancion.titulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"config\", ctx.addLetra)(\"placeholder\", \"Escribe la letra\")(\"ngModel\", ctx.cancion.letra);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.alert !== \"no\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 3);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm, i3.NgIf, i4.AngularEditorComponent],\n  styles: [\".modalTitulo[_ngcontent-%COMP%] {\\n  color: var(--color-secundario);\\n  font-family: var(--tipo-textos);\\n}\\n\\n.bordeColor[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--color-secundario);\\n}\\n\\n.bordeArriba[_ngcontent-%COMP%] {\\n  border-top: 1px solid var(--color-secundario);\\n}\\n\\n.botonAdd[_ngcontent-%COMP%], .botonCerrar[_ngcontent-%COMP%] {\\n  position: relative;\\n  padding: 9px 30px;\\n  margin: 5px 0;\\n  color: var(--color-secundario);\\n  text-decoration: none;\\n  text-align: center;\\n  text-transform: uppercase;\\n  transition: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::before, .botonCerrar[_ngcontent-%COMP%]::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: -1px;\\n  left: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-top: 2px solid var(--color-secundario);\\n  border-left: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::after, .botonCerrar[_ngcontent-%COMP%]::after {\\n  content: \\\" \\\";\\n  position: absolute;\\n  bottom: -1px;\\n  right: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-bottom: 2px solid var(--color-secundario);\\n  border-right: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover::before, .botonAdd[_ngcontent-%COMP%]:hover::after, .botonCerrar[_ngcontent-%COMP%]:hover::before, .botonCerrar[_ngcontent-%COMP%]:hover::after {\\n  width: 100%;\\n  height: 100%;\\n  transition-delay: 0s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover, .botonCerrar[_ngcontent-%COMP%]:hover {\\n  background: var(--color-secundario);\\n  color: var(--bs-white);\\n  box-shadow: 0 0 20px var(--color-granate-oscuro);\\n  transition-delay: 0.5s;\\n}\\n\\n.custom-btn[_ngcontent-%COMP%] {\\n  width: 200px;\\n  height: 40px;\\n  color: var(--bs-white);\\n  border-radius: 5px;\\n  padding: 10px 25px;\\n  background: transparent;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  position: relative;\\n  display: inline-block;\\n  box-shadow: inset 2px 2px 2px 0px rgba(255, 255, 255, 0.5), 7px 7px 20px 0px rgba(0, 0, 0, 0.1), 4px 4px 5px 0px rgba(0, 0, 0, 0.1);\\n  outline: none;\\n}\\n\\n.btn-1[_ngcontent-%COMP%] {\\n  width: 175px;\\n  height: 40px;\\n  line-height: 47px;\\n  padding: 0;\\n  border: none;\\n  background: var(--color-secundario);\\n}\\n.btn-1[_ngcontent-%COMP%]:hover {\\n  color: var(--color-granate);\\n  background: transparent;\\n  box-shadow: none;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:before, .btn-1[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  height: 2px;\\n  width: 0;\\n  background: linear-gradient(320deg, var(--color-granate-oscuro) 0%, var(--color-secundario) 70%, var(--color-primario) 30%);\\n  box-shadow: -1px -1px 5px 0px #fff, 7px 7px 20px 0px rgba(0, 0, 0, 0.2), 4px 4px 5px 0px rgba(0, 0, 0, 0.1333333333);\\n  transition: 400ms ease all;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:after {\\n  right: inherit;\\n  top: 40px;\\n  left: 0;\\n  bottom: 0;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:hover:before, .btn-1[_ngcontent-%COMP%]:hover:after {\\n  width: 100%;\\n  transition: 800ms ease all;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29uZmlnL2F1eGlsaWFySGltbm8vYWRkLWhpbW5vL2FkZC1oaW1uby5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDhCQUFBO0VBQ0EsK0JBQUE7QUFDRjs7QUFHQTtFQUNFLGdEQUFBO0FBQUY7O0FBR0E7RUFDRSw2Q0FBQTtBQUFGOztBQUdBOztFQUVFLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxhQUFBO0VBQ0EsOEJBQUE7RUFDQSxxQkFBQTtFQUNBLGtCQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQUFGOztBQUdBOztFQUVFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSw2Q0FBQTtFQUNBLDhDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtBQUFGOztBQUdBOztFQUVFLFlBQUE7RUFDQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnREFBQTtFQUNBLCtDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtBQUFGOztBQUdBOzs7O0VBSUUsV0FBQTtFQUNBLFlBQUE7RUFDQSxvQkFBQTtBQUFGOztBQUdBOztFQUVFLG1DQUFBO0VBQ0Esc0JBQUE7RUFDQSxnREFBQTtFQUNBLHNCQUFBO0FBQUY7O0FBR0E7RUFDRSxZQUFBO0VBQ0EsWUFBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZUFBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtFQUNBLG1JQUFBO0VBR0EsYUFBQTtBQUZGOztBQUtBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0EsbUNBQUE7QUFGRjtBQUlFO0VBQ0UsMkJBQUE7RUFDQSx1QkFBQTtFQUNBLGdCQUFBO0FBRko7O0FBTUE7O0VBRUUsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsTUFBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLDJIQUFBO0VBQ0Esb0hBQ0U7RUFHRiwwQkFBQTtBQU5GOztBQVNBO0VBQ0UsY0FBQTtFQUNBLFNBQUE7RUFDQSxPQUFBO0VBQ0EsU0FBQTtBQU5GOztBQVNBOztFQUVFLFdBQUE7RUFDQSwwQkFBQTtBQU5GIiwic291cmNlc0NvbnRlbnQiOlsiLm1vZGFsVGl0dWxvIHtcbiAgY29sb3I6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xuICBmb250LWZhbWlseTogdmFyKC0tdGlwby10ZXh0b3MpO1xufVxuXG5cbi5ib3JkZUNvbG9yIHtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xufVxuXG4uYm9yZGVBcnJpYmEge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XG59XG5cbi5ib3RvbkFkZCxcbi5ib3RvbkNlcnJhciB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZzogOXB4IDMwcHg7XG4gIG1hcmdpbjogNXB4IDA7XG4gIGNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XG4gIHRyYW5zaXRpb246IDAuNXM7XG59XG5cbi5ib3RvbkFkZDo6YmVmb3JlLFxuLmJvdG9uQ2VycmFyOjpiZWZvcmUge1xuICBjb250ZW50OiBcIiBcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICB0b3A6IC0xcHg7XG4gIGxlZnQ6IC0xcHg7XG4gIHdpZHRoOiAyMHB4O1xuICBoZWlnaHQ6IDIwcHg7XG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcbiAgYm9yZGVyLWxlZnQ6IDJweCBzb2xpZCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcbiAgdHJhbnNpdGlvbjogMC41cztcbiAgdHJhbnNpdGlvbi1kZWxheTogMC41cztcbn1cblxuLmJvdG9uQWRkOjphZnRlcixcbi5ib3RvbkNlcnJhcjo6YWZ0ZXIge1xuICBjb250ZW50OiBcIiBcIjtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBib3R0b206IC0xcHg7XG4gIHJpZ2h0OiAtMXB4O1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAyMHB4O1xuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xuICB0cmFuc2l0aW9uOiAwLjVzO1xuICB0cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xufVxuXG4uYm90b25BZGQ6aG92ZXI6OmJlZm9yZSxcbi5ib3RvbkFkZDpob3Zlcjo6YWZ0ZXIsXG4uYm90b25DZXJyYXI6aG92ZXI6OmJlZm9yZSxcbi5ib3RvbkNlcnJhcjpob3Zlcjo6YWZ0ZXIge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuICB0cmFuc2l0aW9uLWRlbGF5OiAwcztcbn1cblxuLmJvdG9uQWRkOmhvdmVyLFxuLmJvdG9uQ2VycmFyOmhvdmVyIHtcbiAgYmFja2dyb3VuZDogdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XG4gIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XG4gIGJveC1zaGFkb3c6IDAgMCAyMHB4IHZhcigtLWNvbG9yLWdyYW5hdGUtb3NjdXJvKTtcbiAgdHJhbnNpdGlvbi1kZWxheTogMC41cztcbn1cblxuLmN1c3RvbS1idG4ge1xuICB3aWR0aDogMjAwcHg7XG4gIGhlaWdodDogNDBweDtcbiAgY29sb3I6IHZhcigtLWJzLXdoaXRlKTtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBwYWRkaW5nOiAxMHB4IDI1cHg7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBib3gtc2hhZG93OiBpbnNldCAycHggMnB4IDJweCAwcHggcmdiYSgyNTUsIDI1NSwgMjU1LCAuNSksXG4gICAgN3B4IDdweCAyMHB4IDBweCByZ2JhKDAsIDAsIDAsIC4xKSxcbiAgICA0cHggNHB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAuMSk7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5idG4tMSB7XG4gIHdpZHRoOiAxNzVweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBsaW5lLWhlaWdodDogNDdweDtcbiAgcGFkZGluZzogMDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcblxuICAmOmhvdmVyIHtcbiAgICBjb2xvcjogdmFyKC0tY29sb3ItZ3JhbmF0ZSk7XG4gICAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gICAgYm94LXNoYWRvdzogbm9uZTtcbiAgfVxufVxuXG4uYnRuLTE6YmVmb3JlLFxuLmJ0bi0xOmFmdGVyIHtcbiAgY29udGVudDogJyc7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICByaWdodDogMDtcbiAgaGVpZ2h0OiAycHg7XG4gIHdpZHRoOiAwO1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMzIwZGVnLCB2YXIoLS1jb2xvci1ncmFuYXRlLW9zY3VybykgMCUsIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pIDcwJSwgdmFyKC0tY29sb3ItcHJpbWFyaW8pIDMwJSk7XG4gIGJveC1zaGFkb3c6XG4gICAgLTFweCAtMXB4IDVweCAwcHggI2ZmZixcbiAgICA3cHggN3B4IDIwcHggMHB4ICMwMDAzLFxuICAgIDRweCA0cHggNXB4IDBweCAjMDAwMjtcbiAgdHJhbnNpdGlvbjogNDAwbXMgZWFzZSBhbGw7XG59XG5cbi5idG4tMTphZnRlciB7XG4gIHJpZ2h0OiBpbmhlcml0O1xuICB0b3A6IDQwcHg7XG4gIGxlZnQ6IDA7XG4gIGJvdHRvbTogMDtcbn1cblxuLmJ0bi0xOmhvdmVyOmJlZm9yZSxcbi5idG4tMTpob3ZlcjphZnRlciB7XG4gIHdpZHRoOiAxMDAlO1xuICB0cmFuc2l0aW9uOiA4MDBtcyBlYXNlIGFsbDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AddHimnoComponent","constructor","ConfigService","editable","height","minHeight","maxHeight","width","minWidth","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","toolbarHiddenButtons","res","alert","aviso","cancion","titulo","letra","archivo","limpiarAlert","capturarFile","event","files","target","limpiarContenido","audio","nativeElement","value","comprobarExtension","file","permitida","extensiones_permitidas","extension","name","substring","lastIndexOf","toLowerCase","i","length","agregarAudio","trim","Object","prototype","toString","call","console","log","addAudio","subscribe","success","data","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["/home/mario/donantesSangrePuertollano/front/src/app/config/auxiliarHimno/add-himno/add-himno.component.html","/home/mario/donantesSangrePuertollano/front/src/app/config/auxiliarHimno/add-himno/add-himno.component.ts"],"sourcesContent":["<div class=\"modal\" id=\"modalAdd\" tabindex=\"-1\">\n  <div class=\"modal-dialog modal-xl modal-lg\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header bordeColor\">\n        <h3 class=\"modal-title modalTitulo\">Añadiendo Audio</h3>\n        <button (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" type=\"button\" class=\"btn-close\"\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n      </div>\n      <div class=\"modal-body\">\n        <form (ngSubmit)=\"agregarAudio();\">\n          <div class=\"row\">\n            <div class=\"col-12\">\n              <div class=\"form-group\">\n\n                <label for=\"titulo\">Título del himno o audio:</label>\n\n                <input [(ngModel)]=\"cancion.titulo\" type=\"text\" id=\"titulo\" name=\"titulo\" class=\"form-control mb-3\"\n                  placeholder=\"Escribe un titulo\" />\n\n                <label for=\"titulo\">Letra del himno o audio:</label>\n                <angular-editor name=\"addLetra\" [config]=\"addLetra\" [placeholder]=\"'Escribe la letra'\"\n                  [(ngModel)]=\"cancion.letra\"></angular-editor>\n\n                <label class=\"mt-4\" for=\"audio\">Seleccionar archivo de audio:</label>\n\n                <input (change)=\"capturarFile($event)\" class=\"form-control mb-3\" type=\"file\" #audio\n                  name=\"audio\" />\n              </div>\n            </div>\n          </div>\n          <div *ngIf=\"alert!=='no'\" class=\"container mt-3 mb-2\">\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n              <strong>Error!!</strong> El campo titulo y el campo de audio son obligatorios.\n              <button (click)=\"limpiarAlert()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"\n                aria-label=\"Close\"></button>\n            </div>\n          </div>\n          <div *ngIf=\"aviso===1\" class=\"container mt-3 mb-2\">\n            <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n              El himno o audio se ha añadido correctamente.\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\n                (click)=\"limpiarAlert()\"></button>\n            </div>\n          </div>\n          <div *ngIf=\"aviso===2\" class=\"container mt-3 mb-2\">\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n              El himno o audio no se ha podido añadir.\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\n                (click)=\"limpiarAlert()\"></button>\n            </div>\n          </div>\n          <div *ngIf=\"aviso===3\" class=\"container mt-3 mb-2\">\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n              Asegurate de que el archivo tiene extension y es una de las siguientes: mp3 o mp4\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\n                (click)=\"limpiarAlert()\"></button>\n            </div>\n          </div>\n\n          <div class=\"modal-footer bordeArriba\">\n            <button type=\"submit\" class=\"btn botonAdd\">Aceptar</button>\n\n            <button type=\"button\" (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" class=\"btn botonCerrar ms-4\"\n              data-bs-dismiss=\"modal\">Cerrar</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, ElementRef, ViewChild } from '@angular/core';\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\nimport { Himno, Cancion } from '../../interfaces/config.interface';\nimport { ConfigService } from '../../services/config.service';\n\n@Component({\n  selector: 'app-add-himno',\n  templateUrl: './add-himno.component.html',\n  styleUrls: ['./add-himno.component.scss']\n})\nexport class AddHimnoComponent {\n  addLetra: AngularEditorConfig = {\n    editable: true,\n    height: '100px',\n    minHeight: '0',\n    maxHeight: 'auto',\n    width: 'auto',\n    minWidth: '0',\n    translate: 'yes',\n    enableToolbar: true,\n    showToolbar: true,\n    placeholder: 'Enter text here...',\n    defaultParagraphSeparator: '',\n    defaultFontName: '',\n    defaultFontSize: '',\n    toolbarHiddenButtons: [['fontName', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\n  };\n  res: string;\n  alert: string;\n  aviso: number;\n  cancion: Himno;\n\n  @ViewChild('audio') audio!: ElementRef<HTMLInputElement>;\n\n  constructor(private ConfigService: ConfigService) {\n    this.res = \"no\";\n    this.alert = \"no\";\n    this.aviso = 0\n    this.cancion = {\n      titulo: \"\",\n      letra: \"\",\n      archivo: \"\"\n    }\n  }\n\n\n  limpiarAlert() {\n    this.alert = \"no\";\n    this.aviso = 0;\n  }\n\n\n  capturarFile(event: any): any {\n    const files = event.target.files[0];\n    this.cancion.archivo = files;\n  }\n\n\n  limpiarContenido() {\n    this.cancion.titulo = \"\";\n    this.cancion.letra = \"\";\n    this.audio.nativeElement.value = ''\n\n  }\n  comprobarExtension(file: any): boolean {\n    let permitida = false;\n    if (file != \"\") {\n      let extensiones_permitidas = ['.mp3', \".mp4\"];\n      let extension = (file.name.substring(file.name.lastIndexOf(\".\"))).toLowerCase();\n      if (extension != \"\") {\n        for (let i = 0; i < extensiones_permitidas.length && !permitida; i++) {\n          if (extensiones_permitidas[i] == extension) {\n            permitida = true;\n          }\n        }\n      }\n    } else {\n      permitida = true;\n    }\n    return permitida;\n  }\n\n\n  agregarAudio() {\n    if (this.cancion.titulo.trim().length === 0 || Object.prototype.toString.call(this.cancion.archivo) === '[object String]') {\n      this.alert = \"si\";\n    } else {\n      if (!this.comprobarExtension(this.cancion.archivo)) {\n        this.aviso = 3;\n        console.log(this.aviso);\n      } else {\n        this.ConfigService.addAudio(this.cancion).subscribe((res) => {\n          if (res.success !== false) {\n            this.aviso = 1;\n            this.ConfigService.agregarAudio(res.data);\n            this.limpiarContenido();\n\n          } else {\n            this.aviso = 2;\n          }\n        });\n      }\n    }\n\n  }\n}\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}