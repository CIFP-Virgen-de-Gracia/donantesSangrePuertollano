{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { NgbDatepickerModule, NgbDate } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"@angular/forms\";\nexport class DatePickerComponent {\n  constructor(calendar, ngbDatepickerConfig) {\n    this.calendar = calendar;\n    this.ngbDatepickerConfig = ngbDatepickerConfig;\n    this.displayMonths = 1;\n    this.navigation = 'select';\n    this.onNuevaFecha = new EventEmitter();\n    this.jsonDates = {\n      disable: [6, 7],\n      disabledDates: [{\n        year: 2020,\n        month: 2,\n        day: 23\n      }]\n    };\n    this.today = this.calendar.getToday();\n    ngbDatepickerConfig.minDate = this.today;\n    ngbDatepickerConfig.weekdays = true;\n    this.isDisabled = date => {\n      return this.jsonDates.disabledDates.find(x => new NgbDate(x.year, x.month, x.day).equals(date) || this.jsonDates.disable.includes(calendar.getWeekday(new NgbDate(date.year, date.month, date.day)))) ? true : false;\n    };\n  }\n  ngOnInit() {}\n  selectToday() {\n    this.model = this.today;\n  }\n  mandarFecha() {\n    console.log(this.model);\n    this.onNuevaFecha.emit(this.model);\n  }\n}\nDatePickerComponent.ɵfac = function DatePickerComponent_Factory(t) {\n  return new (t || DatePickerComponent)(i0.ɵɵdirectiveInject(i1.NgbCalendar), i0.ɵɵdirectiveInject(i1.NgbDatepickerConfig));\n};\nDatePickerComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DatePickerComponent,\n  selectors: [[\"app-date-picker\"]],\n  outputs: {\n    onNuevaFecha: \"onNuevaFecha\"\n  },\n  standalone: true,\n  features: [i0.ɵɵStandaloneFeature],\n  decls: 5,\n  vars: 4,\n  consts: [[1, \"row\"], [1, \"col-12\", \"d-flex\", \"justify-content-center\"], [1, \"d-flex\", \"justify-content-center\", \"align-items-center\"], [3, \"ngModel\", \"displayMonths\", \"navigation\", \"markDisabled\", \"ngModelChange\", \"navigate\", \"click\"], [\"dp\", \"\"]],\n  template: function DatePickerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"ngb-datepicker\", 3, 4);\n      i0.ɵɵlistener(\"ngModelChange\", function DatePickerComponent_Template_ngb_datepicker_ngModelChange_3_listener($event) {\n        return ctx.model = $event;\n      })(\"navigate\", function DatePickerComponent_Template_ngb_datepicker_navigate_3_listener($event) {\n        return ctx.date = $event.next;\n      })(\"click\", function DatePickerComponent_Template_ngb_datepicker_click_3_listener() {\n        return ctx.mandarFecha();\n      });\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.model)(\"displayMonths\", ctx.displayMonths)(\"navigation\", ctx.navigation)(\"markDisabled\", ctx.isDisabled);\n    }\n  },\n  dependencies: [NgbDatepickerModule, i1.NgbDatepicker, FormsModule, i2.NgControlStatus, i2.NgModel],\n  styles: [\"@media (min-width: 576px) {\\n  .ngb-dp-months[_ngcontent-%COMP%] {\\n    max-width: 500px;\\n  }\\n  .ngb-dp-day[_ngcontent-%COMP%] {\\n    width: 14.2857142857%;\\n  }\\n}\\n\\n@media (min-width: 768px) {\\n  .ngb-dp-months[_ngcontent-%COMP%] {\\n    max-width: 600px;\\n  }\\n}\\n\\n@media (min-width: 992px) {\\n  .ngb-dp-months[_ngcontent-%COMP%] {\\n    max-width: 700px;\\n  }\\n}\\n\\n@media (min-width: 1200px) {\\n  .ngb-dp-months[_ngcontent-%COMP%] {\\n    max-width: 800px;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2l0YXMvZGF0ZS1waWNrZXIvZGF0ZS1waWNrZXIuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsbURBQUE7QUFDQTtFQUNJO0lBQ0UsZ0JBQUE7RUFDSjtFQUVFO0lBQ0UscUJBQUE7RUFBSjtBQUNGO0FBR0UsMkNBQUE7QUFDQTtFQUNFO0lBQ0UsZ0JBQUE7RUFESjtBQUNGO0FBSUUsMkNBQUE7QUFDQTtFQUNFO0lBQ0UsZ0JBQUE7RUFGSjtBQUNGO0FBS0Usd0RBQUE7QUFDQTtFQUNFO0lBQ0UsZ0JBQUE7RUFISjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogU21hbGwgZGV2aWNlcyAobGFuZHNjYXBlIHBob25lcywgNTc2cHggYW5kIHVwKSAqL1xuQG1lZGlhIChtaW4td2lkdGg6IDU3NnB4KSB7IFxuICAgIC5uZ2ItZHAtbW9udGhzIHtcbiAgICAgIG1heC13aWR0aDogNTAwcHg7XG4gICAgfVxuICBcbiAgICAubmdiLWRwLWRheSB7XG4gICAgICB3aWR0aDogY2FsYygxMDAlIC8gNyk7XG4gICAgfVxuICB9XG4gIFxuICAvKiBNZWRpdW0gZGV2aWNlcyAodGFibGV0cywgNzY4cHggYW5kIHVwKSAqL1xuICBAbWVkaWEgKG1pbi13aWR0aDogNzY4cHgpIHsgXG4gICAgLm5nYi1kcC1tb250aHMge1xuICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICB9XG4gIH1cbiAgXG4gIC8qIExhcmdlIGRldmljZXMgKGRlc2t0b3BzLCA5OTJweCBhbmQgdXApICovXG4gIEBtZWRpYSAobWluLXdpZHRoOiA5OTJweCkgeyBcbiAgICAubmdiLWRwLW1vbnRocyB7XG4gICAgICBtYXgtd2lkdGg6IDcwMHB4O1xuICAgIH1cbiAgfVxuICBcbiAgLyogRXh0cmEgbGFyZ2UgZGV2aWNlcyAobGFyZ2UgZGVza3RvcHMsIDEyMDBweCBhbmQgdXApICovXG4gIEBtZWRpYSAobWluLXdpZHRoOiAxMjAwcHgpIHsgXG4gICAgLm5nYi1kcC1tb250aHMge1xuICAgICAgbWF4LXdpZHRoOiA4MDBweDtcbiAgICB9XG4gIH1cbiAgIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAAA,SAAoBA,YAAY,QAAgB,eAAe;AAC/D,SAAqCC,mBAAmB,EAAuBC,OAAO,QAAQ,4BAA4B;AAC1H,SAASC,WAAW,QAAQ,gBAAgB;;;;AAY5C,OAAM,MAAOC,mBAAmB;EAmB/BC,YACWC,QAAqB,EACrBC,mBAAwC;IADxC,aAAQ,GAARD,QAAQ;IACR,wBAAmB,GAAnBC,mBAAmB;IAlB7B,kBAAa,GAAG,CAAC;IACjB,eAAU,GAAG,QAAQ;IAIX,iBAAY,GAAgC,IAAIP,YAAY,EAAE;IAGxE,cAAS,GAAG;MACVQ,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;MACfC,aAAa,EAAE,CACb;QAAEC,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE,CAAC;QAAEC,GAAG,EAAE;MAAE,CAAE;KAEpC;IAOG,IAAI,CAACC,KAAK,GAAG,IAAI,CAACP,QAAQ,CAACQ,QAAQ,EAAE;IACrCP,mBAAmB,CAACQ,OAAO,GAAG,IAAI,CAACF,KAAK;IACxCN,mBAAmB,CAACS,QAAQ,GAAG,IAAI;IAEnC,IAAI,CAACC,UAAU,GACbC,IAAmB,IAEf;MACJ,OAAO,IAAI,CAACC,SAAS,CAACV,aAAa,CAACW,IAAI,CAACC,CAAC,IACvC,IAAInB,OAAO,CAACmB,CAAC,CAACX,IAAI,EAAEW,CAAC,CAACV,KAAK,EAAEU,CAAC,CAACT,GAAG,CAAC,CAACU,MAAM,CAACJ,IAAI,CAAC,IAC7C,IAAI,CAACC,SAAS,CAACX,OAAO,CAACe,QAAQ,CAACjB,QAAQ,CAACkB,UAAU,CAAC,IAAItB,OAAO,CAACgB,IAAI,CAACR,IAAI,EAACQ,IAAI,CAACP,KAAK,EAACO,IAAI,CAACN,GAAG,CAAC,CAAC,CAAE,CACtG,GACG,IAAI,GACJ,KAAK;IACX,CAAC;EACH;EAEFa,QAAQ,IAER;EAEDC,WAAW;IACV,IAAI,CAACC,KAAK,GAAG,IAAI,CAACd,KAAK;EACxB;EAECe,WAAW;IACTC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACH,KAAK,CAAC;IACvB,IAAI,CAACI,YAAY,CAACC,IAAI,CAAC,IAAI,CAACL,KAAK,CAAC;EACpC;;AAnDWvB,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAA6B;EAAAC;IAAAH;EAAA;EAAAI;EAAAC;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdhCC,8BAAiB;MAIPA;QAAA;MAAA,EAAmB;QAAA;MAAA;QAAA,OAKVC,iBAAa;MAAA,EALH;MAMpBD,iBAAiB;;;MANhBA,eAAmB;MAAnBA,mCAAmB;;;iBDMlBxC,mBAAmB,oBAAEE,WAAW;EAAAwC;AAAA","names":["EventEmitter","NgbDatepickerModule","NgbDate","FormsModule","DatePickerComponent","constructor","calendar","ngbDatepickerConfig","disable","disabledDates","year","month","day","today","getToday","minDate","weekdays","isDisabled","date","jsonDates","find","x","equals","includes","getWeekday","ngOnInit","selectToday","model","mandarFecha","console","log","onNuevaFecha","emit","selectors","outputs","standalone","features","decls","vars","consts","template","i0","ctx","styles"],"sourceRoot":"","sources":["/home/mario/donantesSangrePuertollano/front/src/app/citas/date-picker/date-picker.component.ts","/home/mario/donantesSangrePuertollano/front/src/app/citas/date-picker/date-picker.component.html"],"sourcesContent":["import { Component, EventEmitter, Output } from '@angular/core';\nimport { NgbDateStruct, NgbCalendar, NgbDatepickerModule, NgbDatepickerConfig, NgbDate } from '@ng-bootstrap/ng-bootstrap';\nimport { FormsModule } from '@angular/forms';\n// import '@angular/localize/init';\nimport { JsonPipe } from '@angular/common';\n\n\n@Component({\n\tselector: 'app-date-picker',\n\tstandalone: true,\n\timports: [NgbDatepickerModule, FormsModule, JsonPipe],\n\ttemplateUrl: './date-picker.component.html',\n  styleUrls: ['./date-picker.component.scss']\n})\nexport class DatePickerComponent {\n\n\ttoday: NgbDateStruct;\n  displayMonths = 1;\n  navigation = 'select';\n  model: NgbDateStruct;\n\tdate: { year: number; month: number; }; \n\n  @Output() onNuevaFecha: EventEmitter<NgbDateStruct> = new EventEmitter();\n\n\n  jsonDates = {\n    disable: [6, 7],\n    disabledDates: [ // hacerlo parametrizable;\n      { year: 2020, month: 2, day: 23 },\n    ]\n  };\n\n  isDisabled;\n\tconstructor(\n    private calendar: NgbCalendar,\n    private ngbDatepickerConfig: NgbDatepickerConfig\n    ) {\n      this.today = this.calendar.getToday();\n      ngbDatepickerConfig.minDate = this.today;\n      ngbDatepickerConfig.weekdays = true;\n\n      this.isDisabled = (\n        date: NgbDateStruct\n      \n        ) => {\n        return this.jsonDates.disabledDates.find(x =>\n          (new NgbDate(x.year, x.month, x.day).equals(date)) \n          || (this.jsonDates.disable.includes(calendar.getWeekday(new NgbDate(date.year,date.month,date.day))))\n        )\n          ? true\n          : false;\n      };\n    }\n\n  ngOnInit() {\n       \n  }\n\n\tselectToday() {\n\t\tthis.model = this.today;\n\t}\n\n  mandarFecha() {\n    console.log(this.model);\n    this.onNuevaFecha.emit(this.model);\n  }\n\n} ","<div class=\"row\">\n    <div class=\"col-12 d-flex justify-content-center\">\n      <div class=\"d-flex justify-content-center align-items-center\">\n        <ngb-datepicker #dp \n          [(ngModel)]=\"model\" \n          [displayMonths]=\"displayMonths\"\n          [navigation]=\"navigation\"\n          [markDisabled]=\"isDisabled\"\n          (navigate)=\"date = $event.next\"\n          (click)=\"mandarFecha()\"\n        ></ngb-datepicker>\n      </div>\n    </div>\n  </div>\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}