{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component, ViewChild } from '@angular/core';\nlet AptoSangreComponent = class AptoSangreComponent {\n  constructor(apto_servicio, renderer2, router) {\n    this.apto_servicio = apto_servicio;\n    this.renderer2 = renderer2;\n    this.router = router;\n    this.hayHueco = true;\n    this.contador = 0;\n    this.respuestas = [];\n    this.preguntas = [];\n    this.preguntas_respuestas = [];\n  }\n  ngOnInit() {\n    this.apto_servicio.getPreguntas().subscribe(pregunta => {\n      this.preguntas = pregunta;\n    });\n  }\n  ngAfterViewInit() {\n    const boton = this.boton_siguiente.nativeElement;\n    this.renderer2.setStyle(boton, 'visibility', 'hidden');\n  }\n  mostrarBoton(event) {\n    const boton = this.boton_siguiente.nativeElement;\n    this.renderer2.setStyle(boton, 'visibility', 'unset');\n    if (this.hayHueco) {\n      this.respuestas.push(event);\n      this.hayHueco = false;\n    } else {\n      this.respuestas[this.respuestas.length - 1] = event;\n    }\n  }\n  evaluarRespuesta() {\n    if (this.respuestas[this.respuestas.length - 1] == this.preguntas[this.contador].respuesta) {\n      if (this.contador < this.preguntas.length - 1) {\n        this.contador++;\n        this.hayHueco = true;\n        const boton = this.boton_siguiente.nativeElement;\n        this.renderer2.setStyle(boton, 'visibility', 'hidden');\n      } else {\n        this.preguntas_respuestas = [this.preguntas.slice(0, this.contador + 1), this.respuestas];\n        this.apto_servicio.preguntasEnviadas = this.preguntas_respuestas;\n        this.router.navigate(['/resultado'], {\n          skipLocationChange: true\n        });\n      }\n    } else {\n      this.preguntas_respuestas = [this.preguntas.slice(0, this.contador + 1), this.respuestas];\n      this.apto_servicio.preguntasEnviadas = this.preguntas_respuestas;\n      this.router.navigate(['/resultado'], {\n        skipLocationChange: true\n      });\n    }\n  }\n};\n__decorate([ViewChild('siguiente')], AptoSangreComponent.prototype, \"boton_siguiente\", void 0);\nAptoSangreComponent = __decorate([Component({\n  selector: 'app-apto-sangre',\n  templateUrl: './apto-sangre.component.html',\n  styleUrls: ['./apto-sangre.component.scss']\n})], AptoSangreComponent);\nexport { AptoSangreComponent };","map":{"version":3,"mappings":"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","names":["Component","ViewChild","AptoSangreComponent","constructor","apto_servicio","renderer2","router","ngOnInit","getPreguntas","subscribe","pregunta","preguntas","ngAfterViewInit","boton","boton_siguiente","nativeElement","setStyle","mostrarBoton","event","hayHueco","respuestas","push","length","evaluarRespuesta","contador","respuesta","preguntas_respuestas","slice","preguntasEnviadas","navigate","skipLocationChange","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\apto-sangre\\apto-sangre.component.ts"],"sourcesContent":["import { Component, ViewChild, ElementRef, Renderer2, OnInit, AfterViewInit, Output, EventEmitter } from '@angular/core';\r\nimport { Pregunta } from './interface/pregunta';\r\nimport { aptosangreService } from './servicio/apto-sangre.service';\r\nimport { Router } from '@angular/router';\r\n@Component({\r\n  selector: 'app-apto-sangre',\r\n  templateUrl: './apto-sangre.component.html',\r\n  styleUrls: ['./apto-sangre.component.scss']\r\n})\r\nexport class AptoSangreComponent implements OnInit, AfterViewInit{\r\n  hayHueco : boolean = true;\r\n  contador : number = 0;\r\n  respuestas : any[] = [];\r\n  constructor(private apto_servicio: aptosangreService, private renderer2: Renderer2, private router: Router){}\r\n  preguntas: Pregunta[] = [];\r\n  preguntas_respuestas: any[] = [];\r\n  @ViewChild('siguiente') boton_siguiente!: ElementRef<HTMLInputElement>;\r\n\r\n  ngOnInit(): void {\r\n      this.apto_servicio.getPreguntas().subscribe( pregunta => {this.preguntas = pregunta});\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    const boton = this.boton_siguiente.nativeElement;\r\n    this.renderer2.setStyle(boton, 'visibility','hidden');\r\n\r\n  }\r\n\r\n  mostrarBoton(event: string): void{\r\n    const boton = this.boton_siguiente.nativeElement;\r\n    this.renderer2.setStyle(boton, 'visibility','unset');\r\n    if(this.hayHueco){\r\n      this.respuestas.push(event)\r\n      this.hayHueco = false;\r\n    }\r\n    else{\r\n      this.respuestas[this.respuestas.length - 1] = event;\r\n    }\r\n  }\r\n\r\n  evaluarRespuesta(): void{\r\n\r\n    if(this.respuestas[this.respuestas.length - 1] == this.preguntas[this.contador].respuesta){\r\n      if(this.contador < this.preguntas.length - 1){\r\n        this.contador++;\r\n        this.hayHueco = true;\r\n        const boton = this.boton_siguiente.nativeElement;\r\n        this.renderer2.setStyle(boton, 'visibility','hidden');\r\n      }\r\n      else{\r\n        this.preguntas_respuestas = [this.preguntas.slice(0, this.contador + 1), (this.respuestas)]\r\n        this.apto_servicio.preguntasEnviadas = this.preguntas_respuestas;\r\n        this.router.navigate(['/resultado'], {skipLocationChange: true});\r\n      }\r\n    }\r\n    else{\r\n\r\n      this.preguntas_respuestas = [this.preguntas.slice(0, this.contador + 1), (this.respuestas)]\r\n      this.apto_servicio.preguntasEnviadas = this.preguntas_respuestas;\r\n      this.router.navigate(['/resultado'], {skipLocationChange: true});\r\n    }\r\n\r\n\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}