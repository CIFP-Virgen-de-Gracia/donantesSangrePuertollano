{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../contenido.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nconst _c0 = [\"imagen\"];\nfunction EditadoComponent_div_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 24);\n    i0.ɵɵtext(2, \"La noticia tiene asociada esta foto si quieres modificarla pulsa en seleccionar imagen\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"img\", 25);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.infoNoticia.imagen, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction EditadoComponent_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1, \"Esta noticia no tiene asociada ninguna foto, si quieres a\\u00F1adir alguna pulsa en seleccionar imagen\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction EditadoComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27)(2, \"strong\");\n    i0.ɵɵtext(3, \"Error!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Los campos titulo y contenido son obligatorios. \");\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function EditadoComponent_div_28_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditadoComponent_div_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 29);\n    i0.ɵɵtext(2, \" La noticia se ha editado correctamente. \");\n    i0.ɵɵelement(3, \"button\", 30);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction EditadoComponent_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" La noticia no se ha podido modificar. \");\n    i0.ɵɵelement(3, \"button\", 30);\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class EditadoComponent {\n  constructor(ContenidoService) {\n    this.ContenidoService = ContenidoService;\n    this.res = \"no\";\n    this.alert = \"no\";\n    this.aviso = 0;\n    this.idModificar = \"\";\n    this.infoNoticia = {\n      titulo: \"\",\n      subtitulo: \"\",\n      contenido: \"\",\n      seccion: \"\",\n      imagen: \"\"\n    };\n    this.img = this.infoNoticia.imagen;\n  }\n  limpiarAlert() {\n    this.alert = \"no\";\n    this.aviso = 0;\n  }\n  capturarFile(event) {\n    const files = event.target.files[0];\n    this.infoNoticia.imagen = files;\n  }\n  limpiarContenido() {\n    this.infoNoticia.titulo = \"\";\n    this.infoNoticia.subtitulo = \"\";\n    this.infoNoticia.contenido = \"\";\n    this.infoNoticia.imagen = \"\";\n    this.foto.nativeElement.value = '';\n  }\n  modificarNoticia() {\n    if (this.infoNoticia.titulo.trim().length === 0 || this.infoNoticia.contenido.trim().length === 0) {\n      this.alert = \"si\";\n    } else {\n      this.ContenidoService.editarNoticia(this.idModificar, this.infoNoticia).subscribe({\n        next: data => {\n          if (data !== \"No se ha podido modificar\") {\n            console.log(\"Se ha editado\");\n            this.ContenidoService.editar(this.idModificar, data);\n            this.limpiarContenido();\n            this.aviso = 1;\n          }\n        },\n        error: error => {\n          console.log(\"No se ha editado\");\n          console.log(error);\n          this.aviso = 2;\n        }\n      });\n    }\n  }\n}\nEditadoComponent.ɵfac = function EditadoComponent_Factory(t) {\n  return new (t || EditadoComponent)(i0.ɵɵdirectiveInject(i1.ContenidoService));\n};\nEditadoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditadoComponent,\n  selectors: [[\"app-editado\"]],\n  viewQuery: function EditadoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.foto = _t.first);\n    }\n  },\n  inputs: {\n    idModificar: \"idModificar\",\n    infoNoticia: \"infoNoticia\"\n  },\n  decls: 36,\n  vars: 8,\n  consts: [[\"id\", \"modalEditado\", \"tabindex\", \"-1\", 1, \"modal\"], [1, \"modal-dialog\", \"modal-xl\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", \"bordeColor\"], [1, \"modal-title\", \"modalTitulo\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [1, \"row\"], [1, \"col-12\"], [1, \"form-group\"], [\"for\", \"titulo\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"placeholder\", \"Escribe un titulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"subtitulo\", \"placeholder\", \"Escribe un subtitulo\", \"name\", \"subtitulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"7\", \"placeholder\", \"Escribe tu contenido...\", \"id\", \"contenido\", \"name\", \"contenido\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngIf\", \"ngIfElse\"], [\"sinImagen\", \"\"], [\"for\", \"imagen\"], [\"accept\", \"image/*\", \"type\", \"file\", \"name\", \"imagen\", 1, \"form-control\", \"mb-3\", 3, \"change\"], [\"imagen\", \"\"], [\"class\", \"container mt-3 mb-2\", 4, \"ngIf\"], [1, \"modal-footer\", \"bordeArriba\"], [\"type\", \"submit\", 1, \"btn\", \"botonAdd\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"botonCerrar\", \"ms-4\", 3, \"click\"], [1, \"pb-3\", \"pt-3\"], [1, \"pb-3\", \"img-fluid\", 3, \"src\"], [1, \"container\", \"mt-3\", \"mb-2\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\"]],\n  template: function EditadoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n      i0.ɵɵtext(5, \"Modificando Contenido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function EditadoComponent_Template_button_click_6_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function EditadoComponent_Template_button_click_6_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"form\", 7);\n      i0.ɵɵlistener(\"ngSubmit\", function EditadoComponent_Template_form_ngSubmit_8_listener() {\n        return ctx.modificarNoticia();\n      });\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"div\", 9)(11, \"div\", 10)(12, \"label\", 11);\n      i0.ɵɵtext(13, \"T\\u00EDtulo del contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 12);\n      i0.ɵɵlistener(\"ngModelChange\", function EditadoComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.infoNoticia.titulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"label\", 11);\n      i0.ɵɵtext(16, \"Subt\\u00EDtulo del contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function EditadoComponent_Template_input_ngModelChange_17_listener($event) {\n        return ctx.infoNoticia.subtitulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"textarea\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function EditadoComponent_Template_textarea_ngModelChange_20_listener($event) {\n        return ctx.infoNoticia.contenido = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, EditadoComponent_div_21_Template, 4, 1, \"div\", 15);\n      i0.ɵɵtemplate(22, EditadoComponent_ng_template_22_Template, 2, 0, \"ng-template\", null, 16, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(24, \"label\", 17);\n      i0.ɵɵtext(25, \"Seleccionar Imagen:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 18, 19);\n      i0.ɵɵlistener(\"change\", function EditadoComponent_Template_input_change_26_listener($event) {\n        return ctx.capturarFile($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(28, EditadoComponent_div_28_Template, 6, 0, \"div\", 20);\n      i0.ɵɵtemplate(29, EditadoComponent_div_29_Template, 4, 0, \"div\", 20);\n      i0.ɵɵtemplate(30, EditadoComponent_div_30_Template, 4, 0, \"div\", 20);\n      i0.ɵɵelementStart(31, \"div\", 21)(32, \"button\", 22);\n      i0.ɵɵtext(33, \"Editar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"button\", 23);\n      i0.ɵɵlistener(\"click\", function EditadoComponent_Template_button_click_34_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function EditadoComponent_Template_button_click_34_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵtext(35, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(23);\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.infoNoticia.titulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.infoNoticia.subtitulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.infoNoticia.contenido);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.img != \"\")(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.alert !== \"no\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 2);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".modalTitulo[_ngcontent-%COMP%] {\\n  color: var(--color-secundario);\\n  font-family: var(--tipo-textos);\\n}\\n\\n.botonNoticia[_ngcontent-%COMP%] {\\n  color: var(--bs-white);\\n  background-color: var(--color-secundario);\\n}\\n.botonNoticia[_ngcontent-%COMP%]:hover {\\n  color: var(--bs-white);\\n  background-color: var(--bs-dark);\\n}\\n\\n.bordeColor[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--color-secundario);\\n}\\n\\n.bordeArriba[_ngcontent-%COMP%] {\\n  border-top: 1px solid var(--color-secundario);\\n}\\n\\n.botonAdd[_ngcontent-%COMP%], .botonCerrar[_ngcontent-%COMP%] {\\n  position: relative;\\n  padding: 9px 30px;\\n  margin: 5px 0;\\n  color: var(--color-secundario);\\n  text-decoration: none;\\n  text-align: center;\\n  text-transform: uppercase;\\n  transition: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::before, .botonCerrar[_ngcontent-%COMP%]::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: -1px;\\n  left: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-top: 2px solid var(--color-secundario);\\n  border-left: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::after, .botonCerrar[_ngcontent-%COMP%]::after {\\n  content: \\\" \\\";\\n  position: absolute;\\n  bottom: -1px;\\n  right: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-bottom: 2px solid var(--color-secundario);\\n  border-right: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover::before, .botonAdd[_ngcontent-%COMP%]:hover::after, .botonCerrar[_ngcontent-%COMP%]:hover::before, .botonCerrar[_ngcontent-%COMP%]:hover::after {\\n  width: 100%;\\n  height: 100%;\\n  transition-delay: 0s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover, .botonCerrar[_ngcontent-%COMP%]:hover {\\n  background: var(--color-secundario);\\n  color: var(--bs-white);\\n  box-shadow: 0 0 20px var(--color-granate-oscuro);\\n  transition-delay: 0.5s;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2VzdGlvbi1jb250ZW5pZG8vZWRpdGFkby9lZGl0YWRvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsOEJBQUE7RUFDQSwrQkFBQTtBQUNGOztBQUVBO0VBQ0Usc0JBQUE7RUFDQSx5Q0FBQTtBQUNGO0FBQ0U7RUFDRSxzQkFBQTtFQUNBLGdDQUFBO0FBQ0o7O0FBR0E7RUFDRSxnREFBQTtBQUFGOztBQUdBO0VBQ0UsNkNBQUE7QUFBRjs7QUFHQTs7RUFFRSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7QUFBRjs7QUFHQTs7RUFFRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsNkNBQUE7RUFDQSw4Q0FBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUFBRjs7QUFHQTs7RUFFRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0RBQUE7RUFDQSwrQ0FBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUFBRjs7QUFHQTs7OztFQUlFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7QUFBRjs7QUFHQTtFQUNFLG1DQUFBO0VBQ0Esc0JBQUE7RUFDQSxnREFBQTtFQUNBLHNCQUFBO0FBQUYiLCJzb3VyY2VzQ29udGVudCI6WyIubW9kYWxUaXR1bG8ge1xyXG4gIGNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICBmb250LWZhbWlseTogdmFyKC0tdGlwby10ZXh0b3MpO1xyXG59XHJcblxyXG4uYm90b25Ob3RpY2lhIHtcclxuICBjb2xvcjogdmFyKC0tYnMtd2hpdGUpO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGNvbG9yOnZhcigtLWJzLXdoaXRlKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tYnMtZGFyayk7XHJcbiAgfVxyXG59XHJcblxyXG4uYm9yZGVDb2xvciB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG59XHJcblxyXG4uYm9yZGVBcnJpYmEge1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxufVxyXG5cclxuLmJvdG9uQWRkLFxyXG4uYm90b25DZXJyYXIge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBwYWRkaW5nOiA5cHggMzBweDtcclxuICBtYXJnaW46IDVweCAwO1xyXG4gIGNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgdHJhbnNpdGlvbjogMC41cztcclxufVxyXG5cclxuLmJvdG9uQWRkOjpiZWZvcmUsXHJcbi5ib3RvbkNlcnJhcjo6YmVmb3JlIHtcclxuICBjb250ZW50OiBcIiBcIjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAtMXB4O1xyXG4gIGxlZnQ6IC0xcHg7XHJcbiAgd2lkdGg6IDIwcHg7XHJcbiAgaGVpZ2h0OiAyMHB4O1xyXG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIHRyYW5zaXRpb246IDAuNXM7XHJcbiAgdHJhbnNpdGlvbi1kZWxheTogMC41cztcclxufVxyXG5cclxuLmJvdG9uQWRkOjphZnRlcixcclxuLmJvdG9uQ2VycmFyOjphZnRlciB7XHJcbiAgY29udGVudDogXCIgXCI7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogLTFweDtcclxuICByaWdodDogLTFweDtcclxuICB3aWR0aDogMjBweDtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIHRyYW5zaXRpb246IDAuNXM7XHJcbiAgdHJhbnNpdGlvbi1kZWxheTogMC41cztcclxufVxyXG5cclxuLmJvdG9uQWRkOmhvdmVyOjpiZWZvcmUsXHJcbi5ib3RvbkFkZDpob3Zlcjo6YWZ0ZXIsXHJcbi5ib3RvbkNlcnJhcjpob3Zlcjo6YmVmb3JlLFxyXG4uYm90b25DZXJyYXI6aG92ZXI6OmFmdGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgdHJhbnNpdGlvbi1kZWxheTogMHM7XHJcbn1cclxuXHJcbi5ib3RvbkFkZDpob3ZlciwuYm90b25DZXJyYXI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggdmFyKC0tY29sb3ItZ3JhbmF0ZS1vc2N1cm8pO1xyXG4gIHRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditadoComponent","constructor","ContenidoService","titulo","subtitulo","contenido","seccion","imagen","infoNoticia","limpiarAlert","alert","aviso","capturarFile","event","files","target","limpiarContenido","foto","nativeElement","value","modificarNoticia","trim","length","editarNoticia","idModificar","subscribe","next","data","console","log","editar","error","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\editado\\editado.component.html","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\editado\\editado.component.ts"],"sourcesContent":["<div class=\"modal\" id=\"modalEditado\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog modal-xl modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header bordeColor\">\r\n        <h3 class=\"modal-title modalTitulo\">Modificando Contenido</h3>\r\n        <button (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" type=\"button\" class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form (ngSubmit)=\"modificarNoticia();\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"form-group\">\r\n\r\n                <label for=\"titulo\">Título del contenido:</label>\r\n\r\n                <input\r\n                [(ngModel)]=\"infoNoticia.titulo\"\r\n                type=\"text\" id=\"titulo\"\r\n                name=\"titulo\"\r\n                class=\"form-control mb-3\"\r\n                placeholder =\"Escribe un titulo\"/>\r\n\r\n                <label for=\"titulo\">Subtítulo del contenido:</label>\r\n\r\n                <input\r\n                [(ngModel)]=\"infoNoticia.subtitulo\"\r\n                type=\"text\"\r\n                id=\"subtitulo\"\r\n                placeholder=\"Escribe un subtitulo\"\r\n                name=\"subtitulo\" class=\"form-control mb-3\" />\r\n\r\n                <label for=\"titulo\">Contenido:</label>\r\n\r\n                <textarea\r\n                [(ngModel)]=\"infoNoticia.contenido\"\r\n                class=\"form-control mb-3\" rows=\"7\"\r\n                placeholder=\"Escribe tu contenido...\"\r\n                id=\"contenido\"\r\n                name=\"contenido\"></textarea>\r\n\r\n                <div *ngIf=\"img!='' else sinImagen\">\r\n                  <p class=\"pb-3 pt-3\">La noticia tiene asociada esta foto si quieres modificarla pulsa en seleccionar imagen</p>\r\n                  <img class=\"pb-3 img-fluid\" [src]=infoNoticia.imagen>\r\n                </div>\r\n                <ng-template #sinImagen>\r\n                  <p class=\"pb-3 pt-3\">Esta noticia no tiene asociada ninguna foto, si quieres añadir alguna pulsa en seleccionar imagen</p>\r\n                </ng-template>\r\n\r\n                <label for=\"imagen\">Seleccionar Imagen:</label>\r\n\r\n                <input (change)=\"capturarFile($event)\" accept=\"image/*\" class=\"form-control mb-3\" type=\"file\" #imagen\r\n                  name=\"imagen\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"alert!=='no'\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              <strong>Error!!</strong> Los campos titulo y contenido son obligatorios.\r\n              <button (click)=\"limpiarAlert()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"\r\n                aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===1\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n              La noticia se ha editado correctamente.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===2\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              La noticia no se ha podido modificar.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-footer bordeArriba\">\r\n            <button type=\"submit\" class=\"btn botonAdd\">Editar</button>\r\n\r\n            <button type=\"button\" (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" class=\"btn botonCerrar ms-4\"\r\n              data-bs-dismiss=\"modal\">Cerrar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, ViewChild, ElementRef, Input, OnInit } from '@angular/core';\r\nimport { Contenido } from '../Interfaces/Contenido.interface';\r\nimport { ContenidoService } from '../contenido.service';\r\n\r\n@Component({\r\n  selector: 'app-editado',\r\n  templateUrl: './editado.component.html',\r\n  styleUrls: ['./editado.component.scss']\r\n})\r\nexport class EditadoComponent {\r\n  res: string = \"no\";\r\n  alert: string = \"no\";\r\n  aviso: number = 0;\r\n\r\n  @Input() idModificar: string = \"\";\r\n\r\n  @Input() infoNoticia: Contenido = {\r\n    titulo: \"\",\r\n    subtitulo: \"\",\r\n    contenido: \"\",\r\n    seccion: \"\",\r\n    imagen: \"\"\r\n  };\r\n  img: string = this.infoNoticia.imagen;\r\n\r\n  @ViewChild('imagen') foto!: ElementRef<HTMLInputElement>;\r\n\r\n  constructor(private ContenidoService: ContenidoService) {\r\n  }\r\n\r\n  limpiarAlert() {\r\n    this.alert = \"no\";\r\n    this.aviso = 0;\r\n  }\r\n  capturarFile(event: any) {\r\n    const files = event.target.files[0];\r\n    this.infoNoticia.imagen = files;\r\n  }\r\n  limpiarContenido() {\r\n    this.infoNoticia.titulo = \"\";\r\n    this.infoNoticia.subtitulo = \"\";\r\n    this.infoNoticia.contenido = \"\";\r\n    this.infoNoticia.imagen = \"\";\r\n    this.foto.nativeElement.value = ''\r\n  }\r\n  modificarNoticia() {\r\n\r\n    if (this.infoNoticia.titulo.trim().length === 0 || this.infoNoticia.contenido.trim().length === 0) {\r\n      this.alert = \"si\";\r\n    } else {\r\n      this.ContenidoService.editarNoticia(this.idModificar, this.infoNoticia).subscribe({\r\n        next: data => {\r\n          if (data !== \"No se ha podido modificar\") {\r\n            console.log(\"Se ha editado\");\r\n            this.ContenidoService.editar(this.idModificar, data);\r\n            this.limpiarContenido();\r\n            this.aviso = 1\r\n          }\r\n        },\r\n        error: error => {\r\n          console.log(\"No se ha editado\");\r\n          console.log(error);\r\n          this.aviso = 2;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}