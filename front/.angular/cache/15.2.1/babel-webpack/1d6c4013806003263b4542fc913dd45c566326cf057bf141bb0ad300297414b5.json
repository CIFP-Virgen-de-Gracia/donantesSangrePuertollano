{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../contenido.service\";\nimport * as i2 from \"src/app/auth/services/auth.service\";\nimport * as i3 from \"src/app/shared/services/shared.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"ngx-pagination\";\nimport * as i7 from \"../add-contenido/add-contenido.component\";\nimport * as i8 from \"../borrar/borrar.component\";\nimport * as i9 from \"../editado/editado.component\";\nfunction MainPageContenidoComponent_app_add_contenido_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelement(0, \"app-add-contenido\");\n  }\n}\nfunction MainPageContenidoComponent_div_10_img_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 19);\n  }\n  if (rf & 2) {\n    const noticia_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"src\", noticia_r2.imagen, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction MainPageContenidoComponent_div_10_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"button\", 21);\n    i0.ɵɵlistener(\"click\", function MainPageContenidoComponent_div_10_div_12_Template_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.obtenerId($event));\n    });\n    i0.ɵɵtext(2, \"Borrar\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"button\", 22);\n    i0.ɵɵlistener(\"click\", function MainPageContenidoComponent_div_10_div_12_Template_button_click_3_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.obtenerNoticiaAEditar($event));\n    });\n    i0.ɵɵtext(4, \"Modificar\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const noticia_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"A\", noticia_r2.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"M\", noticia_r2.id, \"\");\n  }\n}\nfunction MainPageContenidoComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(0, \"div\", 11)(1, \"div\", 1)(2, \"div\", 12)(3, \"h1\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"h5\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 15)(8, \"small\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, MainPageContenidoComponent_div_10_img_10_Template, 1, 1, \"img\", 16);\n    i0.ɵɵelement(11, \"div\", 17);\n    i0.ɵɵtemplate(12, MainPageContenidoComponent_div_10_div_12_Template, 5, 2, \"div\", 18);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const noticia_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(noticia_r2.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(noticia_r2.subtitulo);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"A\\u00F1adido el \", noticia_r2.fecha, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", noticia_r2.imagen !== \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHtml\", noticia_r2.contenido, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.estaRegistrado && ctx_r1.puedeModificar);\n  }\n}\nconst _c0 = function (a1) {\n  return {\n    itemsPerPage: 3,\n    currentPage: a1\n  };\n};\nexport class MainPageContenidoComponent {\n  constructor(ContenidoService, AuthService, SharedService) {\n    this.ContenidoService = ContenidoService;\n    this.AuthService = AuthService;\n    this.SharedService = SharedService;\n    this.puedeModificar = false;\n    this.estaRegistrado = false;\n    this.idBorrado = \"\";\n    this.p = 1;\n    this.qho = \"no\";\n    this.idModificar = \"\";\n    this.mensaje = 0;\n    this.info = {\n      id: \"0\",\n      titulo: \"\",\n      subtitulo: \"\",\n      fecha: new Date(),\n      contenido: \"\",\n      seccion: \"\",\n      imagen: \"\"\n    };\n    const user = localStorage.getItem('user');\n    if (user) {\n      this.estaRegistrado = true;\n      this.comprobarPuedeModificar();\n    }\n    this.SharedService.comprobarPermisos.subscribe(registrado => {\n      this.estaRegistrado = registrado;\n      this.comprobarPuedeModificar();\n    });\n  }\n  ngOnInit() {\n    this.ContenidoService.getListado().subscribe(res => {});\n  }\n  get resultado() {\n    return this.ContenidoService.resultado;\n  }\n  obtenerId(event) {\n    let id = event.target.id;\n    this.idBorrado = id.slice(1);\n  }\n  limpiarIdBorrado() {\n    this.idBorrado = \"\";\n  }\n  obtenerNoticiaAEditar(event) {\n    let id = event.target.id;\n    this.idModificar = id.slice(1);\n    this.ContenidoService.obtenerNoticia(this.idModificar).subscribe({\n      next: data => {\n        if (data.success !== false) {\n          this.info = data.data;\n        }\n      },\n      error: error => {\n        this.qho = \"si\";\n      }\n    });\n  }\n  comprobarPuedeModificar() {\n    if (this.estaRegistrado) {\n      this.AuthService.puedeModificar().subscribe(resp => {\n        this.puedeModificar = resp ? true : false;\n      });\n    }\n  }\n}\nMainPageContenidoComponent.ɵfac = function MainPageContenidoComponent_Factory(t) {\n  return new (t || MainPageContenidoComponent)(i0.ɵɵdirectiveInject(i1.ContenidoService), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.SharedService));\n};\nMainPageContenidoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MainPageContenidoComponent,\n  selectors: [[\"app-main-page-contenido\"]],\n  decls: 15,\n  vars: 11,\n  consts: [[1, \"container-fluid\", \"f-contrastete\", \"pt-5\"], [1, \"row\"], [1, \"col\", \"text-center\"], [1, \"titulo\", \"subrayado\"], [\"_ngcontent-ncw-c20\", \"\", \"xmlns\", \"http://www.w3.org/2000/svg\", \"viewBox\", \"0 0 1440 200\"], [\"_ngcontent-ncw-c20\", \"\", \"fill\", \"#f1eef5\", \"fill-opacity\", \"1\", \"d\", \"M0,50L380,150L960,80L1950,128L1440,0L960,0L480,0L0,0Z\"], [4, \"ngIf\"], [\"class\", \"container pb-5 pt-5\", 4, \"ngFor\", \"ngForOf\"], [\"previousLabel\", \"Anterior\", \"nextLabel\", \"Siguiente\", 1, \"text-center\", 3, \"pageChange\"], [3, \"idBorrado\"], [3, \"idModificar\", \"infoNoticia\", \"qho\"], [1, \"container\", \"pb-5\", \"pt-5\"], [1, \"col\"], [1, \"titulo\", \"bordeSubrayado\"], [1, \"pt-3\", \"pb-2\"], [1, \"pb-3\"], [\"class\", \"img-fluid mb-3\", 3, \"src\", 4, \"ngIf\"], [3, \"innerHtml\"], [\"class\", \"pt-5 pb-2 centrado\", 4, \"ngIf\"], [1, \"img-fluid\", \"mb-3\", 3, \"src\"], [1, \"pt-5\", \"pb-2\", \"centrado\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalConfirmacion\", 1, \"btn\", \"custom-btn\", \"btn-1\", \"mb-5\", 3, \"id\", \"click\"], [\"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalEditado\", 1, \"btn\", \"custom-btn\", \"btn-1\", \"ms-5\", \"mb-5\", 3, \"id\", \"click\"]],\n  template: function MainPageContenidoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"router-outlet\");\n      i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h1\", 3);\n      i0.ɵɵtext(5, \"Noticias\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(6, \"div\");\n      i0.ɵɵnamespaceSVG();\n      i0.ɵɵelementStart(7, \"svg\", 4);\n      i0.ɵɵelement(8, \"path\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(9, MainPageContenidoComponent_app_add_contenido_9_Template, 1, 0, \"app-add-contenido\", 6);\n      i0.ɵɵtemplate(10, MainPageContenidoComponent_div_10_Template, 13, 6, \"div\", 7);\n      i0.ɵɵpipe(11, \"paginate\");\n      i0.ɵɵnamespaceHTML();\n      i0.ɵɵelementStart(12, \"pagination-controls\", 8);\n      i0.ɵɵlistener(\"pageChange\", function MainPageContenidoComponent_Template_pagination_controls_pageChange_12_listener($event) {\n        return ctx.p = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"app-borrar\", 9)(14, \"app-editado\", 10);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.estaRegistrado && ctx.puedeModificar);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(11, 6, ctx.resultado, i0.ɵɵpureFunction1(9, _c0, ctx.p)));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"idBorrado\", ctx.idBorrado);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"idModificar\", ctx.idModificar)(\"infoNoticia\", ctx.info)(\"qho\", ctx.qho);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.RouterOutlet, i6.PaginationControlsComponent, i7.AddContenidoComponent, i8.BorrarComponent, i9.EditadoComponent, i6.PaginatePipe],\n  styles: [\".bordeSubrayado[_ngcontent-%COMP%] {\\n  border-bottom: 0.3rem solid var(--color-primario);\\n}\\n\\n.imagen[_ngcontent-%COMP%] {\\n  border-radius: 10px;\\n}\\n\\n.botonNoticia[_ngcontent-%COMP%] {\\n  color: var(--bs-white);\\n  background-color: var(--color-secundario);\\n}\\n.botonNoticia[_ngcontent-%COMP%]:hover {\\n  color: var(--bs-white);\\n  background-color: var(--bs-dark);\\n}\\n\\n.centrado[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.custom-btn[_ngcontent-%COMP%] {\\n  width: 200px;\\n  height: 40px;\\n  color: var(--bs-white);\\n  border-radius: 5px;\\n  padding: 10px 25px;\\n  background: transparent;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  position: relative;\\n  display: inline-block;\\n  box-shadow: inset 2px 2px 2px 0px rgba(255, 255, 255, 0.5), 7px 7px 20px 0px rgba(0, 0, 0, 0.1), 4px 4px 5px 0px rgba(0, 0, 0, 0.1);\\n  outline: none;\\n}\\n\\n.btn-1[_ngcontent-%COMP%] {\\n  width: 150px;\\n  height: 40px;\\n  line-height: 47px;\\n  padding: 0;\\n  border: none;\\n  background: var(--color-secundario);\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:hover {\\n  color: var(--color-granate);\\n  background: transparent;\\n  box-shadow: none;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:before, .btn-1[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  height: 2px;\\n  width: 0;\\n  background: linear-gradient(320deg, var(--color-granate-oscuro) 0%, var(--color-secundario) 70%, var(--color-primario) 30%);\\n  box-shadow: -1px -1px 5px 0px #fff, 7px 7px 20px 0px rgba(0, 0, 0, 0.2), 4px 4px 5px 0px rgba(0, 0, 0, 0.1333333333);\\n  transition: 400ms ease all;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:after {\\n  right: inherit;\\n  top: 40px;\\n  left: 0;\\n  bottom: 0;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:hover:before, .btn-1[_ngcontent-%COMP%]:hover:after {\\n  width: 100%;\\n  transition: 800ms ease all;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2VzdGlvbi1jb250ZW5pZG8vbWFpbi1wYWdlLWNvbnRlbmlkby9tYWluLXBhZ2UtY29udGVuaWRvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsaURBQUE7QUFBRjs7QUFHQTtFQUNFLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxzQkFBQTtFQUNBLHlDQUFBO0FBQUY7QUFFRTtFQUNFLHNCQUFBO0VBQ0EsZ0NBQUE7QUFBSjs7QUFJQTtFQUNFLGFBQUE7RUFDQSx1QkFBQTtBQURGOztBQUlBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSx1QkFBQTtFQUNBLGVBQUE7RUFDQSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxtSUFBQTtFQUdBLGFBQUE7QUFIRjs7QUFNQTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0VBQ0EsWUFBQTtFQUNBLG1DQUFBO0FBSEY7O0FBTUE7RUFDRSwyQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUFIRjs7QUFNQTs7RUFFRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsMkhBQUE7RUFDQSxvSEFDRTtFQUdGLDBCQUFBO0FBTkY7O0FBU0E7RUFDRSxjQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxTQUFBO0FBTkY7O0FBU0E7O0VBRUUsV0FBQTtFQUNBLDBCQUFBO0FBTkYiLCJzb3VyY2VzQ29udGVudCI6WyIvL1RvZG8gSXNhXHJcbi5ib3JkZVN1YnJheWFkbyB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMC4zcmVtIHNvbGlkIHZhcigtLWNvbG9yLXByaW1hcmlvKTtcclxufVxyXG5cclxuLmltYWdlbiB7XHJcbiAgYm9yZGVyLXJhZGl1czogMTBweDtcclxufVxyXG5cclxuLmJvdG9uTm90aWNpYSB7XHJcbiAgY29sb3I6IHZhcigtLWJzLXdoaXRlKTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBjb2xvcjogdmFyKC0tYnMtd2hpdGUpO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtZGFyayk7XHJcbiAgfVxyXG59XHJcblxyXG4uY2VudHJhZG8ge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbn1cclxuXHJcbi5jdXN0b20tYnRuIHtcclxuICB3aWR0aDogMjAwcHg7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIHBhZGRpbmc6IDEwcHggMjVweDtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGJveC1zaGFkb3c6IGluc2V0IDJweCAycHggMnB4IDBweCByZ2JhKDI1NSwgMjU1LCAyNTUsIC41KSxcclxuICAgIDdweCA3cHggMjBweCAwcHggcmdiYSgwLCAwLCAwLCAuMSksXHJcbiAgICA0cHggNHB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAuMSk7XHJcbiAgb3V0bGluZTogbm9uZTtcclxufVxyXG5cclxuLmJ0bi0xIHtcclxuICB3aWR0aDogMTUwcHg7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiA0N3B4O1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG59XHJcblxyXG4uYnRuLTE6aG92ZXIge1xyXG4gIGNvbG9yOiB2YXIoLS1jb2xvci1ncmFuYXRlKTtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICBib3gtc2hhZG93OiBub25lO1xyXG59XHJcblxyXG4uYnRuLTE6YmVmb3JlLFxyXG4uYnRuLTE6YWZ0ZXIge1xyXG4gIGNvbnRlbnQ6ICcnO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IDA7XHJcbiAgcmlnaHQ6IDA7XHJcbiAgaGVpZ2h0OiAycHg7XHJcbiAgd2lkdGg6IDA7XHJcbiAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDMyMGRlZywgdmFyKC0tY29sb3ItZ3JhbmF0ZS1vc2N1cm8pIDAlLCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKSA3MCUsIHZhcigtLWNvbG9yLXByaW1hcmlvKSAzMCUpO1xyXG4gIGJveC1zaGFkb3c6XHJcbiAgICAtMXB4IC0xcHggNXB4IDBweCAjZmZmLFxyXG4gICAgN3B4IDdweCAyMHB4IDBweCAjMDAwMyxcclxuICAgIDRweCA0cHggNXB4IDBweCAjMDAwMjtcclxuICB0cmFuc2l0aW9uOiA0MDBtcyBlYXNlIGFsbDtcclxufVxyXG5cclxuLmJ0bi0xOmFmdGVyIHtcclxuICByaWdodDogaW5oZXJpdDtcclxuICB0b3A6IDQwcHg7XHJcbiAgbGVmdDogMDtcclxuICBib3R0b206IDA7XHJcbn1cclxuXHJcbi5idG4tMTpob3ZlcjpiZWZvcmUsXHJcbi5idG4tMTpob3ZlcjphZnRlciB7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgdHJhbnNpdGlvbjogODAwbXMgZWFzZSBhbGw7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","MainPageContenidoComponent","constructor","ContenidoService","AuthService","SharedService","idBorrado","p","qho","idModificar","mensaje","info","id","titulo","subtitulo","fecha","Date","contenido","seccion","imagen","user","localStorage","getItem","estaRegistrado","comprobarPuedeModificar","comprobarPermisos","subscribe","registrado","ngOnInit","getListado","res","resultado","obtenerId","event","target","slice","limpiarIdBorrado","obtenerNoticiaAEditar","obtenerNoticia","next","data","success","error","puedeModificar","resp","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\main-page-contenido\\main-page-contenido.component.html","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\main-page-contenido\\main-page-contenido.component.ts"],"sourcesContent":["<router-outlet></router-outlet>\r\n<div class=\"container-fluid f-contrastete pt-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col text-center\">\r\n      <h1 class=\"titulo subrayado\">Noticias</h1>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div>\r\n  <svg _ngcontent-ncw-c20=\"\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1440 200\">\r\n    <path _ngcontent-ncw-c20=\"\" fill=\"#f1eef5\" fill-opacity=\"1\"\r\n      d=\"M0,50L380,150L960,80L1950,128L1440,0L960,0L480,0L0,0Z\">\r\n    </path>\r\n  </svg>\r\n</div>\r\n<app-add-contenido *ngIf= \"estaRegistrado && puedeModificar\"></app-add-contenido>\r\n<div class=\"container pb-5 pt-5\" *ngFor=\"let noticia of resultado| paginate: { itemsPerPage: 3, currentPage: p }\">\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h1 class=\"titulo bordeSubrayado\">{{noticia.titulo}}</h1>\r\n      <h5 class=\"pt-3 pb-2\">{{noticia.subtitulo}}</h5>\r\n      <p class=\"pb-3\"><small>Añadido el {{noticia.fecha}}</small></p>\r\n      <img *ngIf=\"noticia.imagen!==''\" class=\"img-fluid mb-3\" [src]=noticia.imagen>\r\n      <div [innerHtml]=\"noticia.contenido\">\r\n      </div>\r\n     <div *ngIf= \"estaRegistrado && puedeModificar\"class=\"pt-5 pb-2 centrado\">\r\n        <button\r\n        id=A{{noticia.id}}\r\n        (click)=\"obtenerId($event)\"\r\n        class=\"btn custom-btn btn-1 mb-5\"\r\n        data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#modalConfirmacion\">Borrar</button>\r\n\r\n        <button\r\n        (click)=\"obtenerNoticiaAEditar($event)\"\r\n        id=M{{noticia.id}}\r\n        class=\"btn custom-btn btn-1 ms-5 mb-5\"\r\n        data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#modalEditado\">Modificar</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<pagination-controls (pageChange)=\"p = $event\" previousLabel=\"Anterior\" nextLabel=\"Siguiente\" class=\"text-center\">\r\n</pagination-controls>\r\n\r\n<app-borrar [idBorrado]=\"idBorrado\"></app-borrar>\r\n<app-editado [idModificar]=\"idModificar\" [infoNoticia]=\"info\" [qho]=\"qho\" ></app-editado>\r\n","//Todo Isa\r\nimport { Component, OnInit, OnChanges, SimpleChanges } from '@angular/core';\r\nimport { Contenido, Noticia } from '../Interfaces/Contenido.interface';\r\nimport { ContenidoService } from '../contenido.service';\r\nimport { AuthService } from 'src/app/auth/services/auth.service';\r\nimport { SharedService } from 'src/app/shared/services/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-main-page-contenido',\r\n  templateUrl: './main-page-contenido.component.html',\r\n  styleUrls: ['./main-page-contenido.component.scss']\r\n})\r\nexport class MainPageContenidoComponent implements OnInit {\r\n\r\n  puedeModificar: boolean = false;\r\n  estaRegistrado: boolean = false;\r\n\r\n  idBorrado: string;\r\n  idModificar: string;\r\n  mensaje: number;\r\n  info: Noticia;\r\n  p: number;\r\n  qho:string;\r\n\r\n  constructor(private ContenidoService: ContenidoService,\r\n    private AuthService: AuthService,\r\n    private SharedService: SharedService) {\r\n\r\n    this.idBorrado = \"\";\r\n    this.p = 1;\r\n    this.qho=\"no\";\r\n    this.idModificar = \"\";\r\n    this.mensaje = 0;\r\n    this.info = {\r\n      id: \"0\",\r\n      titulo: \"\",\r\n      subtitulo: \"\",\r\n      fecha: new Date(),\r\n      contenido: \"\",\r\n      seccion: \"\",\r\n      imagen: \"\"\r\n    };\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      this.estaRegistrado = true;\r\n\r\n      this.comprobarPuedeModificar();\r\n    }\r\n\r\n    this.SharedService.comprobarPermisos.subscribe(registrado => {\r\n      this.estaRegistrado = registrado;\r\n\r\n      this.comprobarPuedeModificar();\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.ContenidoService.getListado().subscribe((res) => {});\r\n  }\r\n\r\n\r\n  get resultado() {\r\n\r\n    return this.ContenidoService.resultado;\r\n  }\r\n\r\n\r\n  obtenerId(event: any) {\r\n    let id = event.target.id;\r\n    this.idBorrado = id.slice(1);\r\n  }\r\n\r\n\r\n  limpiarIdBorrado() {\r\n    this.idBorrado = \"\";\r\n  }\r\n\r\n\r\n  obtenerNoticiaAEditar(event: any) {\r\n    let id = event.target.id;\r\n    this.idModificar = id.slice(1);\r\n    this.ContenidoService.obtenerNoticia(this.idModificar).subscribe({\r\n      next: data => {\r\n        if (data.success !==false) {\r\n          this.info = data.data;\r\n        }\r\n      },\r\n      error: error => {\r\n        this.qho=\"si\";\r\n      }\r\n    });\r\n  }\r\n\r\n  comprobarPuedeModificar() {\r\n    if (this.estaRegistrado) {\r\n      this.AuthService.puedeModificar().subscribe(resp => {\r\n        this.puedeModificar = (resp) ? true : false;\r\n      });\r\n    }\r\n  }\r\n\r\n}"]},"metadata":{},"sourceType":"module","externalDependencies":[]}