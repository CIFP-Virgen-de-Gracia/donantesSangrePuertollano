{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/config.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction ContactoConfigComponent_i_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 9);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.actualizado ? \"fa-circle-check\" : \"fa-triangle-exclamation\");\n  }\n}\nfunction ContactoConfigComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10)(1, \"div\", 11);\n    i0.ɵɵtext(2, \"N\\u00FAmero\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 12);\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵtext(5, \"Extensi\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 13)(7, \"i\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const t_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"name\", t_r2.numero);\n    i0.ɵɵpropertyInterpolate(\"value\", t_r2.numero);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"name\", t_r2.extension);\n    i0.ɵɵpropertyInterpolate(\"value\", t_r2.extension);\n  }\n}\nexport class ContactoConfigComponent {\n  constructor(ConfigService, fb) {\n    this.ConfigService = ConfigService;\n    this.fb = fb;\n    this.mensaje = '';\n    this.telefonos = [];\n    this.direcciones = [];\n    this.horarios = [];\n    this.hMostrar = [];\n  }\n  ngOnInit() {\n    this.ConfigService.getHorarios().subscribe(resp => {\n      if (resp.success) {\n        this.horarios = resp.data;\n        this.crearHorarioMostrar();\n      }\n    });\n    this.ConfigService.getTelefonos().subscribe(resp => {\n      if (resp.success) this.telefonos = resp.data;\n    });\n    this.ConfigService.getDirecciones().subscribe(resp => {\n      if (resp.success) this.direcciones = resp.data;\n    });\n  }\n  guardar() {\n    this.ConfigService.updateContacto(this.direcciones, this.telefonos, this.crearHorarioGuardar()).subscribe(resp => {\n      this.mensaje = resp.msg;\n      this.actualizado = resp.success ? true : false;\n      setTimeout(() => this.mensaje = '', 4000);\n    });\n  }\n  addTelefono() {}\n  addHorario() {}\n  crearHorarioGuardar() {\n    let hGuardar = [];\n    let hBorrar = [];\n    this.hMostrar.forEach(horario => {\n      horario.dias.forEach(d => {\n        if (d.seleccionado) {\n          hGuardar.push({\n            id: d.id,\n            dia: d.valor,\n            hEntrada: horario.hEntrada,\n            hSalida: horario.hSalida\n          });\n        } else if (d.id != -1) hBorrar.push(d.id);\n      });\n    });\n    return {\n      guardar: hGuardar,\n      borrar: hBorrar\n    };\n  }\n  crearHorarioMostrar() {\n    const dSemana = [{\n      nombre: \"Lunes\",\n      letra: \"L\"\n    }, {\n      nombre: \"Martes\",\n      letra: \"M\"\n    }, {\n      nombre: \"Miércoles\",\n      letra: \"X\"\n    }, {\n      nombre: \"Jueves\",\n      letra: \"J\"\n    }, {\n      nombre: \"Viernes\",\n      letra: \"V\"\n    }];\n    let horas = [];\n    let diasHora = [];\n    let listaDias;\n    let idDia;\n    this.horarios.forEach(horario => {\n      if (!horas.find(h => h.entrada == horario.hEntrada && h.salida == horario.hSalida)) horas.push({\n        \"entrada\": horario.hEntrada,\n        \"salida\": horario.hSalida\n      });\n    });\n    horas.forEach(hora => {\n      listaDias = [];\n      diasHora = this.horarios.filter(h => h.hEntrada == hora.entrada && h.hSalida == hora.salida);\n      dSemana.forEach(dia => {\n        idDia = diasHora.find(d => d.dia == dia.nombre)?.id;\n        listaDias.push({\n          id: idDia ? idDia : -1,\n          valor: dia.nombre,\n          letra: dia.letra,\n          seleccionado: diasHora.find(d => d.dia == dia.nombre) ? true : false\n        });\n      });\n      this.hMostrar.push({\n        dias: listaDias,\n        hEntrada: hora.entrada,\n        hSalida: hora.salida\n      });\n    });\n  }\n}\nContactoConfigComponent.ɵfac = function ContactoConfigComponent_Factory(t) {\n  return new (t || ContactoConfigComponent)(i0.ɵɵdirectiveInject(i1.ConfigService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n};\nContactoConfigComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ContactoConfigComponent,\n  selectors: [[\"app-contacto-config\"]],\n  decls: 14,\n  vars: 5,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [1, \"botones\", \"mensajes\", \"d-flex\", \"justify-content-between\"], [1, \"d-flex\", \"align-items-center\", 3, \"ngClass\"], [\"class\", \"fa-solid icono-peq me-2\", 3, \"ngClass\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn-primario\"], [1, \"telefonos\"], [1, \"titulo\", \"mb-4\"], [\"class\", \"telefono d-flex flex-column flex-md-row align-items-center\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn-primario\", 3, \"click\"], [1, \"fa-solid\", \"icono-peq\", \"me-2\", 3, \"ngClass\"], [1, \"telefono\", \"d-flex\", \"flex-column\", \"flex-md-row\", \"align-items-center\"], [1, \"f-rojo\"], [\"type\", \"text\", 1, \"inpt\", \"numero\", 3, \"name\", \"value\"], [\"type\", \"text\", 1, \"inpt\", \"extension\", 3, \"name\", \"value\"], [1, \"fa-solid\", \"fa-trash\", \"ms-2\", \"me-2\"]],\n  template: function ContactoConfigComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function ContactoConfigComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.guardar();\n      });\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtemplate(3, ContactoConfigComponent_i_3_Template, 1, 1, \"i\", 3);\n      i0.ɵɵelementStart(4, \"div\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"button\", 4);\n      i0.ɵɵtext(7, \"Guardar\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 5)(9, \"h3\", 6);\n      i0.ɵɵtext(10, \"Tel\\u00E9fonos\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, ContactoConfigComponent_div_11_Template, 8, 4, \"div\", 7);\n      i0.ɵɵelementStart(12, \"button\", 8);\n      i0.ɵɵlistener(\"click\", function ContactoConfigComponent_Template_button_click_12_listener() {\n        return ctx.addTelefono();\n      });\n      i0.ɵɵtext(13, \" A\\u00F1adir otro \");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"formGroup\", ctx.contactoForm);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngClass\", ctx.actualizado ? \"mensaje-ok\" : \"mensaje-error\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.mensaje);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.mensaje);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.telefonos);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.NgControlStatusGroup, i3.NgClass, i3.NgForOf, i3.NgIf, i2.FormGroupDirective],\n  styles: [\".botones[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n}\\n\\n.horarios[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n  color: var(--color-contraste-oscuro);\\n}\\n.horarios[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .telefonos[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover, .direcciones[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover {\\n  color: var(--color-primario);\\n}\\n.horarios[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  margin-top: 2.5rem;\\n}\\n.horarios[_ngcontent-%COMP%]   .inpt[_ngcontent-%COMP%], .horarios[_ngcontent-%COMP%]   .f-rojo[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   .inpt[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   .f-rojo[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%]   .inpt[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%]   .f-rojo[_ngcontent-%COMP%] {\\n  padding: 0.5rem;\\n}\\n.horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]:not(:first-of-type), .horarios[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]:not(:first-of-type), .telefonos[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]:not(:first-of-type), .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]:not(:first-of-type), .direcciones[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]:not(:first-of-type), .direcciones[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]:not(:first-of-type) {\\n  margin-top: 3.5rem;\\n}\\n.horarios[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .horarios[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%]   select[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.telefonos[_ngcontent-%COMP%], .direcciones[_ngcontent-%COMP%] {\\n  margin-top: 4rem;\\n}\\n\\n.horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%] {\\n  position: relative;\\n  border-bottom: 2px solid var(--color-primario);\\n  \\n}\\n.horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .dia[_ngcontent-%COMP%]:not(:last-of-type)   label[_ngcontent-%COMP%] {\\n  margin-right: 1.5rem;\\n}\\n\\n.telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%] {\\n  border-bottom: 2px solid var(--color-primario);\\n}\\n.telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  font-size: unset;\\n}\\n\\n.direcciones[_ngcontent-%COMP%]   .direccion[_ngcontent-%COMP%] {\\n  display: grid;\\n  grid-template-columns: repeat(2, 1fr);\\n  column-gap: 3.5rem;\\n}\\n.direcciones[_ngcontent-%COMP%]   .direccion[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\\n  margin-bottom: 3.5rem;\\n}\\n.direcciones[_ngcontent-%COMP%]   .direccion[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]   .valor[_ngcontent-%COMP%] {\\n  border: none;\\n  outline: none;\\n  border-bottom: 2px solid var(--color-primario);\\n}\\n\\n@media (max-width: 768px) {\\n  .direcciones[_ngcontent-%COMP%]   .direccion[_ngcontent-%COMP%] {\\n    grid-template-columns: 1fr;\\n  }\\n  .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%] {\\n    position: relative;\\n  }\\n  .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   .inpt[_ngcontent-%COMP%] {\\n    text-align: center;\\n  }\\n  .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    color: var(--bs-white);\\n    position: absolute;\\n    right: 0.5rem;\\n    top: 0.7rem;\\n  }\\n  .telefonos[_ngcontent-%COMP%]   .telefono[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover {\\n    color: var(--color-granate);\\n  }\\n}\\n@media (max-width: 1200px) {\\n  .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .horas[_ngcontent-%COMP%], .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .horas[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%], .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%] {\\n    width: 100%;\\n  }\\n  .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .horas[_ngcontent-%COMP%], .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .dias[_ngcontent-%COMP%], .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   .inpt[_ngcontent-%COMP%] {\\n    text-align: center;\\n  }\\n  .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   i[_ngcontent-%COMP%] {\\n    color: var(--bs-white);\\n    position: absolute;\\n    right: 0.5rem;\\n    top: 0.7rem;\\n  }\\n  .horarios[_ngcontent-%COMP%]   .horario[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:hover {\\n    color: var(--color-granate);\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29uZmlnL2NvbnRhY3RvLWNvbmZpZy9jb250YWN0by1jb25maWcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtBQUNGOztBQU1FOzs7RUFDRSxvQ0FBQTtBQURKO0FBR0k7OztFQUNFLDRCQUFBO0FBQ047QUFHRTs7O0VBQ0Usa0JBQUE7QUFDSjtBQUVFOzs7Ozs7RUFFRSxlQUFBO0FBSUo7QUFDSTs7Ozs7O0VBQ0Usa0JBQUE7QUFNTjtBQUZFOzs7Ozs7RUFFRSxXQUFBO0FBUUo7O0FBSkE7O0VBRUUsZ0JBQUE7QUFPRjs7QUFIRTtFQUNFLGtCQUFBO0VBQ0EsOENBQUE7RUFNQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0tBQUE7QUE0Qko7QUFoQ0k7RUFDRSxvQkFBQTtBQWtDTjs7QUFBQTtFQUNFLDhDQUFBO0FBR0Y7QUFERTtFQUNFLGdCQUFBO0FBR0o7O0FBQ0E7RUFDRSxhQUFBO0VBQ0EscUNBQUE7RUFDQSxrQkFBQTtBQUVGO0FBQUU7RUFDRSxxQkFBQTtBQUVKO0FBQUk7RUFDRSxZQUFBO0VBQ0EsYUFBQTtFQUNBLDhDQUFBO0FBRU47O0FBSUE7RUFDRTtJQUNFLDBCQUFBO0VBREY7RUFJQTtJQUNFLGtCQUFBO0VBRkY7RUFJRTs7SUFFRSxrQkFBQTtFQUZKO0VBS0U7SUFDRSxXQUFBO0VBSEo7RUFNRTtJQUNFLHNCQUFBO0lBQ0Esa0JBQUE7SUFDQSxhQUFBO0lBQ0EsV0FBQTtFQUpKO0VBTUk7SUFDRSwyQkFBQTtFQUpOO0FBQ0Y7QUFVQTtFQUdJO0lBQ0UsV0FBQTtFQVZKO0VBYUU7SUFDRSxrQkFBQTtFQVhKO0VBY0U7SUFDRSxzQkFBQTtJQUNBLGtCQUFBO0lBQ0EsYUFBQTtJQUNBLFdBQUE7RUFaSjtFQWNJO0lBQ0UsMkJBQUE7RUFaTjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmJvdG9uZXMge1xyXG4gIG1hcmdpbi1ib3R0b206IDFyZW07XHJcbn1cclxuXHJcbi5ob3JhcmlvcyxcclxuLnRlbGVmb25vcyxcclxuLmRpcmVjY2lvbmVzIHtcclxuXHJcbiAgaSB7XHJcbiAgICBjb2xvcjogdmFyKC0tY29sb3ItY29udHJhc3RlLW9zY3Vybyk7XHJcblxyXG4gICAgJjpob3ZlciB7XHJcbiAgICAgIGNvbG9yOiB2YXIoLS1jb2xvci1wcmltYXJpbyk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBidXR0b24ge1xyXG4gICAgbWFyZ2luLXRvcDogMi41cmVtO1xyXG4gIH1cclxuXHJcbiAgLmlucHQsXHJcbiAgLmYtcm9qbyB7XHJcbiAgICBwYWRkaW5nOiAuNXJlbTtcclxuICB9XHJcblxyXG4gIC5ob3JhcmlvLFxyXG4gIC50ZWxlZm9ubyB7XHJcbiAgICAmOm5vdCg6Zmlyc3Qtb2YtdHlwZSkge1xyXG4gICAgICBtYXJnaW4tdG9wOiAzLjVyZW07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZWxlY3QsXHJcbiAgLnRlbGVmb25vIGlucHV0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gIH1cclxufVxyXG5cclxuLnRlbGVmb25vcyxcclxuLmRpcmVjY2lvbmVzIHtcclxuICBtYXJnaW4tdG9wOiA0cmVtO1xyXG59XHJcblxyXG4uaG9yYXJpb3Mge1xyXG4gIC5ob3JhcmlvIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1jb2xvci1wcmltYXJpbyk7XHJcblxyXG4gICAgLmRpYTpub3QoOmxhc3Qtb2YtdHlwZSkgbGFiZWwge1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6IDEuNXJlbTtcclxuICAgIH1cclxuXHJcbiAgICAvKiAuc2VsZWN0LFxyXG4gICAgc2VsZWN0IHtcclxuICAgICAgdHJhbnNpdGlvbjogbm9uZTtcclxuXHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLWNvbnRyYXN0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAuc2VsZWN0IHtcclxuICAgICAgcGFkZGluZzogLjVyZW07XHJcblxyXG4gICAgICAmOjpiZWZvcmUge1xyXG4gICAgICAgIGZvbnQtZmFtaWx5OiBcIkZvbnQgQXdlc29tZSA1IEZyZWVcIjtcclxuICAgICAgICBjb250ZW50OiBcIlxcZjBkN1wiO1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiA5MDA7XHJcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAuNXJlbTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbGVjdCB7XHJcbiAgICAgIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcclxuICAgICAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xyXG4gICAgICBhcHBlYXJhbmNlOiBub25lO1xyXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB1bnNldDtcclxuICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgfSAqL1xyXG4gIH1cclxufVxyXG5cclxuLnRlbGVmb25vcyAudGVsZWZvbm8ge1xyXG4gIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCB2YXIoLS1jb2xvci1wcmltYXJpbyk7XHJcblxyXG4gIGlucHV0IHtcclxuICAgIGZvbnQtc2l6ZTogdW5zZXQ7XHJcbiAgfVxyXG59XHJcblxyXG4uZGlyZWNjaW9uZXMgLmRpcmVjY2lvbiB7XHJcbiAgZGlzcGxheTogZ3JpZDtcclxuICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xyXG4gIGNvbHVtbi1nYXA6IDMuNXJlbTtcclxuXHJcbiAgJj5kaXYge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMy41cmVtO1xyXG5cclxuICAgIC52YWxvciB7XHJcbiAgICAgIGJvcmRlcjogbm9uZTtcclxuICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXByaW1hcmlvKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcclxuICAuZGlyZWNjaW9uZXMgLmRpcmVjY2lvbiB7XHJcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcclxuICB9XHJcblxyXG4gIC50ZWxlZm9ub3MgLnRlbGVmb25vIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuXHJcbiAgICBkaXYsXHJcbiAgICAuaW5wdCB7XHJcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBkaXYge1xyXG4gICAgICB3aWR0aDogMTAwJTtcclxuICAgIH1cclxuXHJcbiAgICBpIHtcclxuICAgICAgY29sb3I6IHZhcigtLWJzLXdoaXRlKTtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogLjVyZW07XHJcbiAgICAgIHRvcDogLjdyZW07XHJcblxyXG4gICAgICAmOmhvdmVyIHtcclxuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItZ3JhbmF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogMTIwMHB4KSB7XHJcblxyXG4gIC5ob3JhcmlvcyAuaG9yYXJpbyB7XHJcbiAgICAuaG9yYXMsIC5ob3Jhcz5kaXYsIC5kaWFzIHtcclxuICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmhvcmFzLCAuZGlhcywgLmlucHQge1xyXG4gICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgaSB7XHJcbiAgICAgIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XHJcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgcmlnaHQ6IC41cmVtO1xyXG4gICAgICB0b3A6IC43cmVtO1xyXG5cclxuICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgY29sb3I6IHZhcigtLWNvbG9yLWdyYW5hdGUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ContactoConfigComponent","constructor","ConfigService","fb","ngOnInit","getHorarios","subscribe","resp","success","horarios","data","crearHorarioMostrar","getTelefonos","telefonos","getDirecciones","direcciones","guardar","updateContacto","crearHorarioGuardar","mensaje","msg","actualizado","setTimeout","addTelefono","addHorario","hGuardar","hBorrar","hMostrar","forEach","horario","dias","d","seleccionado","push","id","dia","valor","hEntrada","hSalida","borrar","dSemana","nombre","letra","horas","diasHora","listaDias","idDia","find","h","entrada","salida","hora","filter","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\contacto-config\\contacto-config.component.html","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\contacto-config\\contacto-config.component.ts"],"sourcesContent":["<form [formGroup]=\"contactoForm\" (ngSubmit)=\"guardar()\">\r\n<div class=\"botones mensajes d-flex justify-content-between\">\r\n  <div [ngClass]=\"actualizado ? 'mensaje-ok' : 'mensaje-error'\" class=\"d-flex align-items-center\">\r\n\r\n    <i [ngClass]=\"actualizado ? 'fa-circle-check' : 'fa-triangle-exclamation'\" class=\"fa-solid icono-peq me-2\"\r\n      *ngIf=\"mensaje\">\r\n    </i>\r\n\r\n    <div>{{ mensaje }}</div>\r\n  </div>\r\n\r\n  <button class=\"btn-primario\" type=\"submit\">Guardar</button>\r\n</div>\r\n\r\n\r\n<!-- <div class=\"horarios\">\r\n  <h3 class=\"titulo mb-4\">Horario</h3>\r\n\r\n  <div class=\"horario d-flex flex-column flex-xl-row\" *ngFor=\"let h of hMostrar\">\r\n    <div class=\"horas d-flex\">\r\n      <div class=\"d-flex flex-column flex-xl-row\">\r\n        <p class=\"f-rojo\">Entrada</p>\r\n        <input class=\"inpt pe-xl-4\" type=\"time\" [(ngModel)]=\"h.hEntrada\"/>\r\n      </div>\r\n\r\n      <div class=\"d-flex flex-column flex-xl-row\">\r\n        <p class=\"f-rojo\">Salida</p>\r\n        <input class=\"inpt pe-xl-5\" type=\"time\" [(ngModel)]=\"h.hSalida\"/>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"dias d-flex flex-column flex-xl-row\">\r\n      <p class=\"f-rojo\">Días</p>\r\n\r\n      <div class=\"inpt d-flex align-items-center justify-content-center\">\r\n        <div class=\"dia\" *ngFor=\"let dia of h.dias\">\r\n\r\n          <input type=\"checkbox\"\r\n            class=\"me-1\"\r\n            name=\"{{ dia.valor }}\"\r\n            value=\"{{ dia.valor }}\"\r\n            [(ngModel)]=\"dia.seleccionado\">\r\n\r\n          <label for=\"{{ dia.valor }}\">{{ dia.letra }}</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <i class=\"fa-solid fa-trash ms-auto me-2\"></i>\r\n  </div>\r\n\r\n  <button type=\"submit\" (click)=\"addHorario()\" class=\"btn-primario\">\r\n    Añadir otro\r\n  </button>\r\n</div>\r\n -->\r\n\r\n<div class=\"telefonos\">\r\n  <h3 class=\"titulo mb-4\">Teléfonos</h3>\r\n\r\n  <div class=\"telefono d-flex flex-column flex-md-row align-items-center\" *ngFor=\"let t of telefonos\">\r\n\r\n    <div class=\"f-rojo\">Número</div>\r\n    <input type=\"text\" class=\"inpt numero\" name=\"{{ t.numero }}\" value=\"{{ t.numero }}\">\r\n\r\n    <div class=\"f-rojo\">Extensión</div>\r\n    <input type=\"text\" class=\"inpt extension\" name=\"{{ t.extension }}\" value=\"{{ t.extension }}\">\r\n\r\n    <i class=\"fa-solid fa-trash ms-2 me-2\"></i>\r\n  </div>\r\n\r\n  <button type=\"submit\" (click)=\"addTelefono()\" class=\"btn-primario\">\r\n    Añadir otro\r\n  </button>\r\n</div>\r\n\r\n<!--\r\n<div class=\"direcciones\">\r\n  <h3 class=\"titulo mb-4\">Dirección</h3>\r\n\r\n  <div class=\"direccion\" *ngFor=\"let d of direcciones\">\r\n\r\n    <div class=\"row gx-0\">\r\n      <div class=\"nombre col-12 col-xl-4 f-rojo\">Lugar</div>\r\n      <input type=\"text\" [(ngModel)]=\"d.lugar\" class=\"valor align-middle col-12 col-xl-8 inpt\">\r\n    </div>\r\n\r\n    <div class=\"row gx-0\">\r\n      <div class=\"nombre col-12 col-xl-4 f-rojo\">Calle</div>\r\n      <input type=\"text\" [(ngModel)]=\"d.calle\" class=\"valor align-middle col-12 col-xl-8 inpt\">\r\n    </div>\r\n\r\n    <div class=\"row gx-0\">\r\n      <div class=\"nombre col-12 col-xl-4 f-rojo\">Número</div>\r\n      <input type=\"text\" [(ngModel)]=\"d.numero\" class=\"valor align-middle col-12 col-xl-8 inpt\">\r\n    </div>\r\n\r\n    <div class=\"row gx-0\">\r\n      <div class=\"nombre col-12 col-xl-4 f-rojo\">Ciudad</div>\r\n      <input type=\"text\" [(ngModel)]=\"d.ciudad\" class=\"valor align-middle col-12 col-xl-8 inpt\">\r\n    </div>\r\n\r\n    <div class=\"row gx-0\">\r\n      <div class=\"nombre col-12 col-xl-4 f-rojo\">Provincia</div>\r\n      <input type=\"text\" [(ngModel)]=\"d.provincia\" class=\"valor align-middle col-12 col-xl-8 inpt\">\r\n    </div>\r\n\r\n    <div class=\"row gx-0\">\r\n      <div class=\"nombre col-12 col-xl-4 f-rojo\">CP</div>\r\n      <input type=\"number\" [(ngModel)]=\"d.cp\" class=\"valor align-middle col-12 col-xl-8 inpt\">\r\n    </div>\r\n\r\n  </div>\r\n</div> -->\r\n</form>\r\n","import { Component } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { Dia, Direccion, Horario, HorarioMostrar, Telefono, Hora, HorarioGuardar } from '../interfaces/config.interface';\r\nimport { ConfigService } from '../services/config.service';\r\n\r\n@Component({\r\n  selector: 'app-contacto-config',\r\n  templateUrl: './contacto-config.component.html',\r\n  styleUrls: ['./contacto-config.component.scss']\r\n})\r\nexport class ContactoConfigComponent {\r\n\r\n  contactoForm!: FormGroup;\r\n  mensaje: String = '';\r\n  actualizado!: boolean;\r\n  telefonos: Telefono[] = [];\r\n  direcciones: Direccion[] = [];\r\n  horarios: Horario[] = [];\r\n  hMostrar: HorarioMostrar[] = [];\r\n\r\n  constructor(private ConfigService: ConfigService,  private fb: FormBuilder,) { }\r\n\r\n\r\n  ngOnInit() {\r\n    this.ConfigService.getHorarios().subscribe(resp => {\r\n      if (resp.success) {\r\n        this.horarios = resp.data;\r\n        this.crearHorarioMostrar();\r\n      }\r\n    });\r\n\r\n\r\n    this.ConfigService.getTelefonos().subscribe(resp => {\r\n      if (resp.success) this.telefonos = resp.data;\r\n    });\r\n\r\n\r\n    this.ConfigService.getDirecciones().subscribe(resp => {\r\n      if (resp.success) this.direcciones = resp.data;\r\n    });\r\n  }\r\n\r\n\r\n  guardar() {\r\n    this.ConfigService.updateContacto(this.direcciones, this.telefonos, this.crearHorarioGuardar())\r\n      .subscribe(resp => {\r\n\r\n        this.mensaje = resp.msg;\r\n        this.actualizado = (resp.success) ? true : false;\r\n\r\n        setTimeout(() => this.mensaje = '', 4000);\r\n      });\r\n  }\r\n\r\n\r\n  addTelefono() {\r\n\r\n  }\r\n\r\n\r\n  addHorario() {\r\n\r\n  }\r\n\r\n\r\n  crearHorarioGuardar() {\r\n    let hGuardar: Horario[] = [];\r\n    let hBorrar: number[] = [];\r\n\r\n    this.hMostrar.forEach(horario => {\r\n\r\n      horario.dias.forEach(d => {\r\n\r\n        if (d.seleccionado) {\r\n          hGuardar.push({\r\n            id: d.id,\r\n            dia: d.valor,\r\n            hEntrada: horario.hEntrada,\r\n            hSalida: horario.hSalida,\r\n          });\r\n        } else if (d.id != -1) hBorrar.push(d.id);\r\n      })\r\n    });\r\n\r\n    return { guardar: hGuardar, borrar: hBorrar };\r\n  }\r\n\r\n\r\n  crearHorarioMostrar() {\r\n    const dSemana = [{nombre:\"Lunes\", letra:\"L\"}, {nombre:\"Martes\", letra:\"M\"},{nombre:\"Miércoles\", letra:\"X\"},\r\n                    {nombre:\"Jueves\", letra:\"J\"},{nombre:\"Viernes\", letra:\"V\"}];\r\n    let horas: Hora[] = [];\r\n    let diasHora: Horario[] = [];\r\n    let listaDias: Dia[];\r\n    let idDia: number | undefined;\r\n\r\n    this.horarios.forEach(horario => {\r\n      if (!horas.find(h => h.entrada == horario.hEntrada && h.salida == horario.hSalida))\r\n        horas.push({ \"entrada\": horario.hEntrada, \"salida\": horario.hSalida });\r\n    });\r\n\r\n    horas.forEach(hora => {\r\n      listaDias = [];\r\n      diasHora = this.horarios.filter(h => h.hEntrada == hora.entrada && h.hSalida == hora.salida);\r\n\r\n      dSemana.forEach(dia => {\r\n        idDia = diasHora.find(d => d.dia == dia.nombre)?.id;\r\n        listaDias.push({\r\n          id: (idDia) ? idDia : -1,\r\n          valor: dia.nombre,\r\n          letra: dia.letra,\r\n          seleccionado: (diasHora.find(d => d.dia == dia.nombre)) ? true : false\r\n        })\r\n      });\r\n\r\n      this.hMostrar.push({\r\n        dias: listaDias,\r\n        hEntrada: hora.entrada,\r\n        hSalida: hora.salida\r\n      });\r\n    });\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}