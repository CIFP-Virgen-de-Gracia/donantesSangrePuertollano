{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"../../services/config.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"select\"];\nconst _c1 = [\"respuesta_si\"];\nconst _c2 = [\"respuesta_no\"];\nconst _c3 = [\"boton_borrar\"];\nfunction BorrarPreguntaComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pregunta_r8 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", pregunta_r8.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pregunta_r8.titulo);\n  }\n}\nfunction BorrarPreguntaComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelement(1, \"img\", 34);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"../../../../assets/imagenes/apto_sangre/\", ctx_r2.previsualizacion_apto_sangre, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction BorrarPreguntaComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 35)(2, \"h5\", 36);\n    i0.ɵɵtext(3, \"\\u00BFEstas seguro?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"button\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 37)(6, \"p\");\n    i0.ɵɵtext(7, \"\\u00BFEstas seguro que desea borrar la pregunta \");\n    i0.ɵɵelementStart(8, \"u\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p\");\n    i0.ɵɵtext(12, \"Esta accion no se puede deshacer\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 38)(14, \"button\", 39)(15, \"span\");\n    i0.ɵɵtext(16);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"button\", 40);\n    i0.ɵɵtext(18, \"Cancelar\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵtextInterpolate(ctx_r5.pregunta.titulo);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", ctx_r5.loading);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.loading ? \"Cargando......\" : \"Si, estoy seguro\", \" \");\n  }\n}\nfunction BorrarPreguntaComponent_ng_template_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 35)(2, \"h5\", 36);\n    i0.ɵɵtext(3, \"\\u00A1No has seleccionado una pregunta!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(4, \"button\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 37)(6, \"p\");\n    i0.ɵɵtext(7, \"No has seleccionado una pregunta. Por favor selecciona una pregunta\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"div\", 38)(9, \"button\", 40);\n    i0.ɵɵtext(10, \"OK\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nconst _c4 = function () {\n  return {\n    standalone: true\n  };\n};\nexport class BorrarPreguntaComponent {\n  constructor(sanitizer, renderer2, config_Service) {\n    this.sanitizer = sanitizer;\n    this.renderer2 = renderer2;\n    this.config_Service = config_Service;\n    this.recargarPreguntas = new EventEmitter();\n    this.previsualizacion_apto_sangre = \"\";\n    this.archivos = [];\n    this.loading = false;\n    this.pregunta = {\n      id: 0,\n      enunciado: \"\",\n      titulo: \"\",\n      nombre_img: \"\",\n      respuesta: 0,\n      solucion_problema: \"\"\n    };\n    this.mostrar = false;\n    this.mostrar_confirmacion = true;\n    this.formulario = new FormGroup({\n      pregunta: new FormControl(\"Selecciona una pregunta\", Validators.required)\n    });\n  }\n  preguntaSeleccionada() {\n    const selector = this.select.nativeElement;\n    if (!isNaN(parseInt(selector.value))) {\n      this.mostrar_confirmacion = true;\n    } else {\n      this.mostrar_confirmacion = false;\n    }\n  }\n  seleccionarPregunta() {\n    const selector = this.select.nativeElement;\n    const si = this.respuesta_si.nativeElement;\n    const no = this.respuesta_no.nativeElement;\n    if (!isNaN(parseInt(selector.value))) {\n      this.mostrar = true;\n      let i = 0;\n      let conseguido = false;\n      for (i; i < this.preguntas_array.length && !conseguido; i++) {\n        if (this.preguntas_array[i].id == parseInt(selector.value)) {\n          conseguido = true;\n        }\n      }\n      this.pregunta.id = this.preguntas_array[i - 1].id;\n      this.pregunta.enunciado = this.preguntas_array[i - 1].enunciado;\n      this.pregunta.titulo = this.preguntas_array[i - 1].titulo;\n      this.pregunta.solucion_problema = this.preguntas_array[i - 1].solucion_problema;\n      this.pregunta.nombre_img = this.preguntas_array[i - 1].nombre_img;\n      this.pregunta.respuesta = this.preguntas_array[i - 1].respuesta;\n      this.previsualizacion_apto_sangre = this.pregunta.nombre_img;\n      if (this.pregunta.respuesta == 1) {\n        si.checked = true;\n        no.checked = false;\n      } else {\n        si.checked = false;\n        no.checked = true;\n      }\n    } else {\n      this.mostrar = false;\n      si.checked = false;\n      no.checked = false;\n      this.pregunta.titulo = '';\n      this.pregunta.enunciado = '';\n      this.pregunta.solucion_problema = '';\n      this.previsualizacion_apto_sangre = \"\";\n    }\n  }\n  borrarPregunta() {\n    const selector = this.select.nativeElement;\n    if (isNaN(parseInt(selector.value))) {} else {\n      this.config_Service.borrarPregunta(selector.value).subscribe(res => {\n        this.loading = false;\n        console.log('Respuesta del servidor', res);\n        this.renderer2.setProperty(selector, \"selectedIndex\", 0);\n        this.mostrar = false;\n        this.recargarPreguntas.emit();\n      });\n    }\n  }\n}\nBorrarPreguntaComponent.ɵfac = function BorrarPreguntaComponent_Factory(t) {\n  return new (t || BorrarPreguntaComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i2.ConfigService));\n};\nBorrarPreguntaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BorrarPreguntaComponent,\n  selectors: [[\"app-borrar-pregunta\"]],\n  viewQuery: function BorrarPreguntaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n      i0.ɵɵviewQuery(_c3, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.select = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.respuesta_si = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.respuesta_no = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.boton = _t.first);\n    }\n  },\n  inputs: {\n    preguntas_array: \"preguntas_array\"\n  },\n  outputs: {\n    recargarPreguntas: \"recargarPreguntas\"\n  },\n  decls: 56,\n  vars: 15,\n  consts: [[3, \"formGroup\", \"ngSubmit\"], [\"id\", \"borrarPregunta\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\", \"border-buttom\", \"border-danger\", \"border-3\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\", \"titulo\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\", \"border-buttom\", \"border-danger\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [1, \"col-12\"], [\"formControlName\", \"pregunta\", 1, \"form-select\", 3, \"change\"], [\"select\", \"\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", 3, \"hidden\"], [\"type\", \"text\", \"placeholder\", \"Escribe el titulo para esta pregunta\", \"disabled\", \"\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelOptions\"], [\"type\", \"text\", \"placeholder\", \"Escribe tu enunciado\", \"disabled\", \"\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelOptions\"], [\"class\", \"col-12 d-flex justify-content-center\", 4, \"ngIf\"], [1, \"form-check\"], [\"type\", \"radio\", \"name\", \"respuesta\", \"disabled\", \"\", 1, \"form-check-input\"], [\"respuesta_si\", \"\"], [\"for\", \"si\", 1, \"form-check-label\"], [\"respuesta_no\", \"\"], [\"for\", \"no\", 1, \"form-check-label\"], [\"rows\", \"5\", \"placeholder\", \"Escribe tu recomendacion\", \"disabled\", \"\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelOptions\"], [1, \"modal-footer\", \"d-flex\", \"justify-content-end\"], [\"type\", \"button\", \"data-bs-target\", \"#confirmar_Borrar\", \"data-bs-toggle\", \"modal\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secundario\", 3, \"click\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secundario\"], [\"id\", \"confirmar_Borrar\", \"aria-hidden\", \"true\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"aria-labelledby\", \"mostrarConfirmacion\", \"tabindex\", \"-1\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [\"class\", \"modal-content\", 4, \"ngIf\", \"ngIfElse\"], [\"mostrar_fallo\", \"\"], [3, \"value\"], [1, \"col-12\", \"d-flex\", \"justify-content-center\"], [1, \"w-50\", 3, \"src\"], [1, \"modal-header\"], [\"id\", \"exampleModalToggleLabel2\", 1, \"modal-title\"], [1, \"modal-body\"], [1, \"modal-footer\"], [\"type\", \"submit\", \"data-bs-target\", \"#borrarPregunta\", \"data-bs-toggle\", \"modal\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secundario\", 3, \"disabled\"], [\"type\", \"button\", \"data-bs-target\", \"#borrarPregunta\", \"data-bs-toggle\", \"modal\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secundario\"]],\n  template: function BorrarPreguntaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"form\", 0);\n      i0.ɵɵlistener(\"ngSubmit\", function BorrarPreguntaComponent_Template_form_ngSubmit_0_listener() {\n        return ctx.borrarPregunta();\n      });\n      i0.ɵɵelementStart(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"h3\", 5);\n      i0.ɵɵtext(6, \"Borrando una pregunta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"select\", 10, 11);\n      i0.ɵɵlistener(\"change\", function BorrarPreguntaComponent_Template_select_change_11_listener() {\n        return ctx.seleccionarPregunta();\n      });\n      i0.ɵɵelementStart(13, \"option\", 12);\n      i0.ɵɵtext(14, \"Selecciona una pregunta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(15, BorrarPreguntaComponent_option_15_Template, 2, 2, \"option\", 13);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 9)(18, \"h4\");\n      i0.ɵɵtext(19, \"Titulo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"div\", 9)(22, \"h4\");\n      i0.ɵɵtext(23, \"Enunciado:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(24, \"input\", 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"h4\");\n      i0.ɵɵtext(26, \"Imagen:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(27, BorrarPreguntaComponent_div_27_Template, 2, 1, \"div\", 17);\n      i0.ɵɵelementStart(28, \"div\", 9)(29, \"h4\");\n      i0.ɵɵtext(30, \"Respuesta:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 18);\n      i0.ɵɵelement(32, \"input\", 19, 20);\n      i0.ɵɵelementStart(34, \"label\", 21);\n      i0.ɵɵtext(35, \"Si\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(36, \"div\", 18);\n      i0.ɵɵelement(37, \"input\", 19, 22);\n      i0.ɵɵelementStart(39, \"label\", 23);\n      i0.ɵɵtext(40, \"No\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(41, \"div\", 9)(42, \"h4\");\n      i0.ɵɵtext(43, \"Recomendaci\\u00F3nes a los problemas:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(44, \"textarea\", 24);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(45, \"div\", 25)(46, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function BorrarPreguntaComponent_Template_button_click_46_listener() {\n        return ctx.preguntaSeleccionada();\n      });\n      i0.ɵɵtext(47, \" Borrar \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(48, \"button\", 27)(49, \"span\");\n      i0.ɵɵtext(50, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(51, \"div\", 28)(52, \"div\", 29);\n      i0.ɵɵtemplate(53, BorrarPreguntaComponent_div_53_Template, 19, 3, \"div\", 30);\n      i0.ɵɵtemplate(54, BorrarPreguntaComponent_ng_template_54_Template, 11, 0, \"ng-template\", null, 31, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r6 = i0.ɵɵreference(55);\n      i0.ɵɵproperty(\"formGroup\", ctx.formulario);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.preguntas_array);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", !ctx.mostrar);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.pregunta.titulo)(\"ngModelOptions\", i0.ɵɵpureFunction0(12, _c4));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.pregunta.enunciado)(\"ngModelOptions\", i0.ɵɵpureFunction0(13, _c4));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.previsualizacion_apto_sangre);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngModel\", ctx.pregunta.solucion_problema)(\"ngModelOptions\", i0.ɵɵpureFunction0(14, _c4));\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.mostrar_confirmacion)(\"ngIfElse\", _r6);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i4.NgForOf, i4.NgIf, i3.FormGroupDirective, i3.FormControlName],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","FormControl","FormGroup","Validators","i0","BorrarPreguntaComponent","constructor","sanitizer","renderer2","config_Service","id","enunciado","titulo","nombre_img","respuesta","solucion_problema","pregunta","required","preguntaSeleccionada","selector","select","nativeElement","isNaN","parseInt","value","mostrar_confirmacion","seleccionarPregunta","si","respuesta_si","no","respuesta_no","mostrar","i","conseguido","preguntas_array","length","previsualizacion_apto_sangre","checked","borrarPregunta","subscribe","res","loading","console","log","setProperty","recargarPreguntas","emit","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\test-config\\borrar-pregunta\\borrar-pregunta.component.ts","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\test-config\\borrar-pregunta\\borrar-pregunta.component.html"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Pregunta } from 'src/app/apto-sangre/interface/pregunta';\r\nimport { ConfigService } from '../../services/config.service';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n\r\n@Component({\r\n  selector: 'app-borrar-pregunta',\r\n  templateUrl: './borrar-pregunta.component.html',\r\n  styleUrls: ['./borrar-pregunta.component.scss']\r\n})\r\nexport class BorrarPreguntaComponent {\r\n  @Input() preguntas_array!: Pregunta[];\r\n  @Output() recargarPreguntas = new EventEmitter();\r\n  public filedata:any;\r\n  public previsualizacion_apto_sangre: string = \"\";\r\n  public archivos:any = [];\r\n  public loading:boolean = false;\r\n  pregunta: Pregunta = {\r\n    id: 0,\r\n    enunciado: \"\",\r\n    titulo: \"\",\r\n    nombre_img: \"\",\r\n    respuesta: 0,\r\n    solucion_problema: \"\"\r\n  }\r\n  mostrar: boolean = false;\r\n  mostrar_confirmacion: boolean = true;\r\n  @ViewChild('select') select!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('respuesta_si') respuesta_si!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('respuesta_no') respuesta_no!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('boton_borrar') boton!: ElementRef<HTMLInputElement>;\r\n  formulario = new FormGroup({\r\n    pregunta: new FormControl(\"Selecciona una pregunta\", Validators.required)\r\n  })\r\n  constructor(private sanitizer: DomSanitizer, private renderer2: Renderer2, private config_Service: ConfigService) { }\r\n\r\n\r\n  preguntaSeleccionada(){\r\n    const selector = this.select.nativeElement;\r\n    if(!isNaN(parseInt(selector.value))){\r\n      this.mostrar_confirmacion = true;\r\n    }\r\n    else{\r\n      this.mostrar_confirmacion = false;\r\n\r\n\r\n    }\r\n  }\r\n\r\n\r\n  seleccionarPregunta(){\r\n    const selector = this.select.nativeElement;\r\n    const si = this.respuesta_si.nativeElement;\r\n    const no = this.respuesta_no.nativeElement;\r\n    if(!isNaN(parseInt(selector.value))){\r\n      this.mostrar = true;\r\n      let i = 0\r\n      let conseguido = false;\r\n      for(i; i < this.preguntas_array.length && !conseguido; i++){\r\n        if(this.preguntas_array[i].id == parseInt(selector.value)){\r\n          conseguido = true;\r\n        }\r\n      }\r\n      this.pregunta.id = this.preguntas_array[i - 1].id;\r\n      this.pregunta.enunciado = this.preguntas_array[i - 1].enunciado;\r\n      this.pregunta.titulo = this.preguntas_array[i - 1].titulo;\r\n      this.pregunta.solucion_problema = this.preguntas_array[i - 1].solucion_problema;\r\n      this.pregunta.nombre_img = this.preguntas_array[i - 1].nombre_img;\r\n      this.pregunta.respuesta = this.preguntas_array[i - 1].respuesta;\r\n\r\n      this.previsualizacion_apto_sangre = this.pregunta.nombre_img\r\n\r\n\r\n      if(this.pregunta.respuesta == 1){\r\n        si.checked = true;\r\n        no.checked = false;\r\n      }\r\n      else{\r\n        si.checked = false;\r\n        no.checked = true;\r\n      }\r\n\r\n    }\r\n    else{\r\n      this.mostrar = false;\r\n      si.checked = false;\r\n      no.checked = false;\r\n      this.pregunta.titulo = ''\r\n      this.pregunta.enunciado = '';\r\n      this.pregunta.solucion_problema = '';\r\n      this.previsualizacion_apto_sangre = \"\";\r\n\r\n    }\r\n  }\r\n\r\n  borrarPregunta(){\r\n    const selector = this.select.nativeElement;\r\n    if(isNaN(parseInt(selector.value))){\r\n    }\r\n    else{\r\n      this.config_Service.borrarPregunta(selector.value).subscribe((res) => {\r\n        this.loading = false;\r\n        console.log('Respuesta del servidor', res);\r\n        this.renderer2.setProperty(selector, \"selectedIndex\", 0);\r\n        this.mostrar = false;\r\n        this.recargarPreguntas.emit();\r\n\r\n      })\r\n    }\r\n  }\r\n}\r\n","<form [formGroup]=\"formulario\" (ngSubmit)=\"borrarPregunta()\">\r\n<div class=\"modal fade\" id=\"borrarPregunta\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header border-buttom border-danger border-3\">\r\n        <h3 class=\"modal-title titulo\" id=\"staticBackdropLabel\">Borrando una pregunta</h3>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n\r\n        <div class=\"modal-body border-buttom border-danger\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"col-12\">\r\n              <select formControlName=\"pregunta\" (change)=\"seleccionarPregunta()\" #select class=\"form-select\">\r\n                <option selected>Selecciona una pregunta</option>\r\n                <option *ngFor=\"let pregunta of this.preguntas_array\" value=\"{{pregunta.id}}\">{{pregunta.titulo}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\" [hidden]=\"!mostrar\">\r\n            <div class=\"col-12\">\r\n              <h4>Titulo:</h4>\r\n              <input [ngModel]=\"pregunta.titulo\" [ngModelOptions]=\"{standalone: true}\" type=\"text\" class=\"form-control mb-3\" placeholder=\"Escribe el titulo para esta pregunta\" disabled>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Enunciado:</h4>\r\n              <input [ngModel]=\"pregunta.enunciado\" [ngModelOptions]=\"{standalone: true}\" type=\"text\" class=\"form-control mb-3\" placeholder=\"Escribe tu enunciado\" disabled>\r\n            </div>\r\n            <h4>Imagen:</h4>\r\n            <div *ngIf=\"previsualizacion_apto_sangre\" class=\"col-12 d-flex justify-content-center\">\r\n              <img src=\"../../../../assets/imagenes/apto_sangre/{{previsualizacion_apto_sangre}}\" class=\"w-50\">\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Respuesta:</h4>\r\n              <div class=\"form-check\">\r\n                <input #respuesta_si type=\"radio\" class=\"form-check-input\" name=\"respuesta\" disabled>\r\n                <label class=\"form-check-label\" for=\"si\">Si</label>\r\n              </div>\r\n              <div class=\"form-check\">\r\n                <input #respuesta_no type=\"radio\" class=\"form-check-input\" name=\"respuesta\" disabled>\r\n                <label class=\"form-check-label\" for=\"no\">No</label>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Recomendaciónes a los problemas:</h4>\r\n              <textarea [ngModel]=\"pregunta.solucion_problema\" [ngModelOptions]=\"{standalone: true}\" class=\"form-control mb-3\" rows=\"5\" placeholder=\"Escribe tu recomendacion\" disabled></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer d-flex justify-content-end\">\r\n          <button (click)=\"preguntaSeleccionada()\" type=\"button\" class=\"btn btn-secundario\"\r\n          data-bs-target=\"#confirmar_Borrar\" data-bs-toggle=\"modal\" data-bs-dismiss=\"modal\">\r\n            Borrar\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secundario\" data-bs-dismiss=\"modal\"><span>Cerrar</span></button>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"confirmar_Borrar\" aria-hidden=\"true\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" aria-labelledby=\"mostrarConfirmacion\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog modal-dialog-centered\">\r\n    <div class=\"modal-content\" *ngIf=\"mostrar_confirmacion; else mostrar_fallo\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"exampleModalToggleLabel2\">¿Estas seguro?</h5>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <p>¿Estas seguro que desea borrar la pregunta <u>{{pregunta.titulo}}</u>?</p>\r\n        <p>Esta accion no se puede deshacer</p>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"submit\" class=\"btn btn-secundario\" data-bs-target=\"#borrarPregunta\"\r\n        data-bs-toggle=\"modal\" data-bs-dismiss=\"modal\" [disabled]=\"loading\">\r\n          <span>\r\n            {{(loading) ? 'Cargando......' : 'Si, estoy seguro'}}\r\n          </span>\r\n        </button>\r\n        <button type=\"button\" class=\"btn btn-secundario\" data-bs-target=\"#borrarPregunta\" data-bs-toggle=\"modal\" data-bs-dismiss=\"modal\">Cancelar</button>\r\n      </div>\r\n    </div>\r\n\r\n    <ng-template #mostrar_fallo>\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"exampleModalToggleLabel2\">¡No has seleccionado una pregunta!</h5>\r\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <p>No has seleccionado una pregunta. Por favor selecciona una pregunta</p>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button type=\"button\" class=\"btn btn-secundario\" data-bs-target=\"#borrarPregunta\" data-bs-toggle=\"modal\" data-bs-dismiss=\"modal\">OK</button>\r\n        </div>\r\n      </div>\r\n\r\n    </ng-template>\r\n  </div>\r\n</div>\r\n\r\n</form>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}