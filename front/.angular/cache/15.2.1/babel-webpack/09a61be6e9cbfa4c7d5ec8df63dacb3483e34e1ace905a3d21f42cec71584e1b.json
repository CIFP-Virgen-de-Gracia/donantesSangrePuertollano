{"ast":null,"code":"import { zip } from 'rxjs';\nimport * as moment from 'moment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/citas.service\";\nimport * as i2 from \"@angular/common\";\nfunction MostrarCitasComponent_li_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 15)(1, \"div\", 16)(2, \"div\", 17);\n    i0.ɵɵtext(3, \" No hay citas pendientes \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MostrarCitasComponent_ng_template_16_li_0_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function MostrarCitasComponent_ng_template_16_li_0_button_10_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r15.cancelarCita($event));\n    });\n    i0.ɵɵtext(1, \"Cancelar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MostrarCitasComponent_ng_template_16_li_0_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 28);\n    i0.ɵɵtext(1, \"cancelada\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"span\", 29);\n    i0.ɵɵtext(3, \"can.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MostrarCitasComponent_ng_template_16_li_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 19)(2, \"div\", 20)(3, \"span\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 23);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24);\n    i0.ɵɵtemplate(10, MostrarCitasComponent_ng_template_16_li_0_button_10_Template, 2, 0, \"button\", 25);\n    i0.ɵɵtemplate(11, MostrarCitasComponent_ng_template_16_li_0_ng_template_11_Template, 4, 0, \"ng-template\", null, 26, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const cita_r11 = ctx.$implicit;\n    const _r13 = i0.ɵɵreference(12);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(cita_r11.dia);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cita_r11.hora);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cita_r11.donacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !cita_r11.cancelada)(\"ngIfElse\", _r13);\n  }\n}\nfunction MostrarCitasComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, MostrarCitasComponent_ng_template_16_li_0_Template, 13, 5, \"li\", 18);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.citasPendientes);\n  }\n}\nfunction MostrarCitasComponent_li_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 16)(2, \"div\", 17);\n    i0.ɵɵtext(3, \" No reservaste ninguna cita \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MostrarCitasComponent_li_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 15)(1, \"div\", 16)(2, \"div\", 17);\n    i0.ɵɵtext(3, \" No hay citas pendientes \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MostrarCitasComponent_ng_template_38_li_0_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function MostrarCitasComponent_ng_template_38_li_0_button_10_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r22.cancelarCita($event));\n    });\n    i0.ɵɵtext(1, \"Cancelar\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MostrarCitasComponent_ng_template_38_li_0_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 32);\n    i0.ɵɵtext(1, \"cancelada\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction MostrarCitasComponent_ng_template_38_li_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 19)(2, \"div\", 20)(3, \"span\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 23);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24);\n    i0.ɵɵtemplate(10, MostrarCitasComponent_ng_template_38_li_0_button_10_Template, 2, 0, \"button\", 30);\n    i0.ɵɵtemplate(11, MostrarCitasComponent_ng_template_38_li_0_ng_template_11_Template, 2, 0, \"ng-template\", null, 26, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const cita_r18 = ctx.$implicit;\n    const _r20 = i0.ɵɵreference(12);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(cita_r18.dia);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cita_r18.hora);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cita_r18.donacion);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !cita_r18.cancelada)(\"ngIfElse\", _r20);\n  }\n}\nfunction MostrarCitasComponent_ng_template_38_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, MostrarCitasComponent_ng_template_38_li_0_Template, 13, 5, \"li\", 18);\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.citasPendientes);\n  }\n}\nfunction MostrarCitasComponent_li_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 16)(2, \"div\", 17);\n    i0.ɵɵtext(3, \" No reservaste ninguna cita \");\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction MostrarCitasComponent_ng_template_44_li_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 19)(2, \"div\", 20)(3, \"span\", 21);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"span\", 22);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 23);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"span\", 32);\n    i0.ɵɵtext(10, \"asistida\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 29);\n    i0.ɵɵtext(12, \"asis.\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const cita_r25 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(cita_r25.dia);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cita_r25.hora);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(cita_r25.donacion);\n  }\n}\nfunction MostrarCitasComponent_ng_template_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, MostrarCitasComponent_ng_template_44_li_0_Template, 13, 3, \"li\", 18);\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r9.citasPasadas);\n  }\n}\nexport class MostrarCitasComponent {\n  constructor(citasService) {\n    this.citasService = citasService;\n    this.citasPendientes = [];\n    this.citasPasadas = [];\n    this.errorTraerCitas = false;\n    this.noHayCitasPendientes = false;\n    this.noHayCitasPasadas = false;\n  }\n  ngOnInit() {\n    this.traerCitas();\n  }\n  traerCitas() {\n    const id = JSON.parse(localStorage.getItem('user')).id;\n    zip([this.citasService.fetchCitaPendiente(id), this.citasService.fetchCitasPasadas(id)]).subscribe(([citasPendientesResp, citasPasadasResp]) => {\n      if (citasPendientesResp.success && citasPasadasResp.success) {\n        this.colocarCitas(citasPendientesResp.citas, this.citasPendientes);\n        this.colocarCitas(citasPasadasResp.citas, this.citasPasadas);\n        if (this.citasPendientes.length == 0) this.noHayCitasPendientes = true;\n        if (this.citasPasadas.length == 0) this.noHayCitasPasadas = true;\n      } else {\n        this.errorTraerCitas = true;\n      }\n    });\n  }\n  colocarCitas(citas, array) {\n    citas.forEach(cita => {\n      const fechaCompletaPas = moment(cita.fecha, 'YYYY-MM-DD HH:mm:ss');\n      array.push({\n        id: cita.id,\n        dia: fechaCompletaPas.format('DD/MM/YYYY'),\n        hora: fechaCompletaPas.format('HH:mm'),\n        donacion: cita.donacion,\n        cancelada: cita.cancelada\n      });\n    });\n  }\n  cancelarCita(event) {\n    const liElement = event.target.closest('li');\n    const listItems = Array.from(liElement.parentElement.children);\n    const index = listItems.indexOf(liElement);\n    const id = this.citasPendientes[index].id;\n    // const confirm = await getConfirmacion();\n    this.citasService.cancelarCita(id).subscribe(resp => {\n      if (resp.success) {\n        this.citasPendientes[index].cancelada = true;\n      } else {\n        // TODO: cartelito de fallo\n      }\n    });\n  }\n}\nMostrarCitasComponent.ɵfac = function MostrarCitasComponent_Factory(t) {\n  return new (t || MostrarCitasComponent)(i0.ɵɵdirectiveInject(i1.CitasService));\n};\nMostrarCitasComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MostrarCitasComponent,\n  selectors: [[\"app-mostrar-citas\"]],\n  decls: 46,\n  vars: 8,\n  consts: [[1, \"container-fluid\", \"fondo\", \"px-2\", \"py-5\", \"p-md-5\"], [1, \"row\"], [1, \"col-xl-2\", \"col-md-1\", \"col-0\"], [1, \"col-xl-8\", \"col-md-10\", \"col-0\", \"contenedor\"], [1, \"card\", \"border-0\", \"rounded-0\", \"w-100\", \"mb-0\"], [1, \"card-header\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"py-1\", \"border-bottom-0\"], [1, \"card-body\", \"px-2\", \"py-5\", \"px-md-5\", \"mt-5\", \"mb-0\"], [1, \"col-12\"], [1, \"mb-5\"], [1, \"titulo\", \"mb-3\"], [\"class\", \"my-3\", 4, \"ngIf\", \"ngIfElse\"], [\"elseCitasPendientes\", \"\"], [1, \"titulo\", \"mt-5\", \"mb-3\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseCitasPasadas\", \"\"], [1, \"my-3\"], [1, \"card\", \"w-100\", \"p-0\", \"my-3\"], [1, \"card-body\", \"my-2\", \"w-100\", \"d-flex\", \"justify-content-around\", \"align-items-center\", \"tarjetaNoHay\"], [4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"p-0\", \"my-3\"], [1, \"card-body\", \"my-0\", \"d-flex\", \"justify-content-around\", \"align-items-center\", \"tarjeta\"], [1, \"dia\"], [1, \"hora\"], [1, \"donacion\", \"text-center\"], [1, \"align-items-center\"], [\"class\", \"btn-primario px-3\", 3, \"click\", 4, \"ngIf\", \"ngIfElse\"], [\"elseCancelada\", \"\"], [1, \"btn-primario\", \"px-3\", 3, \"click\"], [1, \"derechaTextoGrande\", \"text-center\"], [1, \"derechaTextoPequeno\", \"text-center\"], [\"class\", \"btnCancelar px-3\", 3, \"click\", 4, \"ngIf\", \"ngIfElse\"], [1, \"btnCancelar\", \"px-3\", 3, \"click\"], [1, \"derechaTexto\", \"text-center\"]],\n  template: function MostrarCitasComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵelement(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"h1\");\n      i0.ɵɵtext(7, \"Mis citas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"div\", 6)(9, \"div\", 1)(10, \"div\", 7)(11, \"div\", 8)(12, \"h3\", 9);\n      i0.ɵɵtext(13, \"Citas pendientes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"ul\");\n      i0.ɵɵtemplate(15, MostrarCitasComponent_li_15_Template, 4, 0, \"li\", 10);\n      i0.ɵɵtemplate(16, MostrarCitasComponent_ng_template_16_Template, 1, 1, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"h3\", 12);\n      i0.ɵɵtext(19, \"Citas pasadas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"ul\");\n      i0.ɵɵtemplate(21, MostrarCitasComponent_li_21_Template, 4, 0, \"li\", 13);\n      i0.ɵɵelementStart(22, \"div\", 0)(23, \"div\", 1);\n      i0.ɵɵelement(24, \"div\", 2);\n      i0.ɵɵelementStart(25, \"div\", 3)(26, \"div\", 4)(27, \"div\", 5)(28, \"h1\");\n      i0.ɵɵtext(29, \"Mis citas\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 6)(31, \"div\", 1)(32, \"div\", 7)(33, \"div\", 8)(34, \"h3\", 9);\n      i0.ɵɵtext(35, \"Citas pendientes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(36, \"ul\");\n      i0.ɵɵtemplate(37, MostrarCitasComponent_li_37_Template, 4, 0, \"li\", 10);\n      i0.ɵɵtemplate(38, MostrarCitasComponent_ng_template_38_Template, 1, 1, \"ng-template\", null, 11, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(40, \"h3\", 12);\n      i0.ɵɵtext(41, \"Citas pasadas\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(42, \"ul\");\n      i0.ɵɵtemplate(43, MostrarCitasComponent_li_43_Template, 4, 0, \"li\", 13);\n      i0.ɵɵtemplate(44, MostrarCitasComponent_ng_template_44_Template, 1, 1, \"ng-template\", null, 14, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()()()()()()()()()()()()()()()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(17);\n      const _r8 = i0.ɵɵreference(45);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngIf\", ctx.noHayCitasPendientes)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.noHayCitasPasadas)(\"ngIfElse\", _r8);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngIf\", ctx.noHayCitasPendientes)(\"ngIfElse\", _r1);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.noHayCitasPasadas)(\"ngIfElse\", _r8);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf],\n  styles: [\"div.alert[_ngcontent-%COMP%] {\\n  z-index: 9000;\\n  width: 25rem;\\n}\\ndiv.alert[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n  text-decoration: none;\\n  color: rgb(9, 43, 9);\\n}\\ndiv.alert[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover {\\n  color: rgb(2, 51, 2);\\n}\\n\\ndiv.container-fluid[_ngcontent-%COMP%] {\\n  background-color: var(--color-contraste);\\n  min-height: 80vh;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%] {\\n  box-shadow: 0 3px 9px rgba(0, 0, 0, 0.5);\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-header[_ngcontent-%COMP%] {\\n  background-color: var(--color-primario);\\n  font-family: var(--tipo-titulos);\\n  color: var(--bs-white);\\n  height: 9rem;\\n  border-radius: 2px 2px 0px 0px;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%] {\\n  margin-bottom: 2.5rem;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\\n  list-style: none;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjetaNoHay[_ngcontent-%COMP%] {\\n  height: 5rem;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%] {\\n  height: 4rem;\\n  border-radius: 2px;\\n  background-color: var(--color-contraste);\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.dia[_ngcontent-%COMP%] {\\n  width: 6rem;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.hora[_ngcontent-%COMP%] {\\n  width: 3rem;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.donacion[_ngcontent-%COMP%] {\\n  width: 5.5rem;\\n  max-width: 5.5rem;\\n  border-left: 1px solid;\\n  border-right: 1px solid;\\n  border-color: var(--granate-oscuro);\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.derechaTextoGrande[_ngcontent-%COMP%] {\\n  display: block;\\n  width: 6rem;\\n  max-width: 6rem;\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.derechaTextoPequeno[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n@media (max-width: 576px) {\\n  div.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.derechaTextoGrande[_ngcontent-%COMP%] {\\n    display: none;\\n  }\\n  div.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.derechaTextoPequeno[_ngcontent-%COMP%] {\\n    display: block;\\n    width: 3rem;\\n    max-width: 3rem;\\n  }\\n}\\ndiv.container-fluid[_ngcontent-%COMP%]   div.card[_ngcontent-%COMP%]   div.card-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .tarjeta[_ngcontent-%COMP%]   span.derechaBoton[_ngcontent-%COMP%] {\\n  height: 100%;\\n  width: 6rem;\\n  max-width: 6rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2l0YXMvbW9zdHJhci1jaXRhcy9tb3N0cmFyLWNpdGFzLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLFlBQUE7QUFDSjtBQUNJO0VBQ0kscUJBQUE7RUFDQSxvQkFBQTtBQUNSO0FBQ1E7RUFDSSxvQkFBQTtBQUNaOztBQUlBO0VBQ0ksd0NBQUE7RUFDQSxnQkFBQTtBQURKO0FBR0k7RUFDSSx3Q0FBQTtBQURSO0FBS1E7RUFDSSx1Q0FBQTtFQUNBLGdDQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0VBRUEsOEJBQUE7QUFKWjtBQU9RO0VBQ0kscUJBQUE7QUFMWjtBQU9ZO0VBQ0ksZ0JBQUE7QUFMaEI7QUFPZ0I7RUFDSSxZQUFBO0FBTHBCO0FBUWdCO0VBQ0ksWUFBQTtFQUNBLGtCQUFBO0VBQ0Esd0NBQUE7QUFOcEI7QUFTb0I7RUFDSSxXQUFBO0FBUHhCO0FBVW9CO0VBQ0ksV0FBQTtBQVJ4QjtBQVdvQjtFQUNJLGFBQUE7RUFDQSxpQkFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQ0FBQTtBQVR4QjtBQVlvQjtFQUNJLGNBQUE7RUFDQSxXQUFBO0VBQ0EsZUFBQTtBQVZ4QjtBQWFvQjtFQUNJLGFBQUE7QUFYeEI7QUFjb0I7RUFDSTtJQUNJLGFBQUE7RUFaMUI7RUFlc0I7SUFDSSxjQUFBO0lBQ0EsV0FBQTtJQUNBLGVBQUE7RUFiMUI7QUFDRjtBQWdCb0I7RUFDSSxZQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7QUFkeEIiLCJzb3VyY2VzQ29udGVudCI6WyJkaXYuYWxlcnQge1xyXG4gICAgei1pbmRleDogOTAwMDtcclxuICAgIHdpZHRoOiAyNXJlbTtcclxuXHJcbiAgICBhIHtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICAgICAgY29sb3I6IHJnYig5LCA0MywgOSk7XHJcblxyXG4gICAgICAgICY6aG92ZXIge1xyXG4gICAgICAgICAgICBjb2xvcjogcmdiKDIsIDUxLCAyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmRpdi5jb250YWluZXItZmx1aWQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItY29udHJhc3RlKTtcclxuICAgIG1pbi1oZWlnaHQ6IDgwdmg7XHJcblxyXG4gICAgZGl2LmNhcmQge1xyXG4gICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDlweCByZ2JhKDAsIDAsIDAsIC41KTtcclxuICAgICAgICAvLyB3aWR0aDogNDB2dztcclxuXHJcbiAgICAgICAgXHJcbiAgICAgICAgZGl2LmNhcmQtaGVhZGVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyaW8pO1xyXG4gICAgICAgICAgICBmb250LWZhbWlseTogdmFyKC0tdGlwby10aXR1bG9zKTtcclxuICAgICAgICAgICAgY29sb3I6IHZhcigtLWJzLXdoaXRlKTtcclxuICAgICAgICAgICAgaGVpZ2h0OiA5cmVtO1xyXG5cclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4IDJweCAwcHggMHB4O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGl2LmNhcmQtYm9keSB7XHJcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIuNXJlbTtcclxuXHJcbiAgICAgICAgICAgIHVsIHtcclxuICAgICAgICAgICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcblxyXG4gICAgICAgICAgICAgICAgLnRhcmpldGFOb0hheSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1cmVtO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAudGFyamV0YSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1jb250cmFzdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDJweCAjODg4ODg4O1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5kaWEge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNnJlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBzcGFuLmhvcmEge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogM3JlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBzcGFuLmRvbmFjaW9uIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUuNXJlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA1LjVyZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlci1yaWdodDogMXB4IHNvbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItY29sb3I6IHZhcigtLWdyYW5hdGUtb3NjdXJvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBzcGFuLmRlcmVjaGFUZXh0b0dyYW5kZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNnJlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA2cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi5kZXJlY2hhVGV4dG9QZXF1ZW5vIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIEBtZWRpYShtYXgtd2lkdGg6IDU3NnB4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4uZGVyZWNoYVRleHRvR3JhbmRlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGFuLmRlcmVjaGFUZXh0b1BlcXVlbm8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogM3JlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heC13aWR0aDogM3JlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHNwYW4uZGVyZWNoYUJvdG9uIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNnJlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiA2cmVtO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSAgICBcclxuXHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"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","names":["zip","moment","i0","MostrarCitasComponent","constructor","citasService","ngOnInit","traerCitas","id","JSON","parse","localStorage","getItem","fetchCitaPendiente","fetchCitasPasadas","subscribe","citasPendientesResp","citasPasadasResp","success","colocarCitas","citas","citasPendientes","citasPasadas","length","noHayCitasPendientes","noHayCitasPasadas","errorTraerCitas","array","forEach","cita","fechaCompletaPas","fecha","push","dia","format","hora","donacion","cancelada","cancelarCita","event","liElement","target","closest","listItems","Array","from","parentElement","children","index","indexOf","resp","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\citas\\mostrar-citas\\mostrar-citas.component.ts","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\citas\\mostrar-citas\\mostrar-citas.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { concatMapTo, zip } from 'rxjs';\r\nimport { Cita, CitaMostrar } from '../interfaces/citas.interface';\r\nimport { CitasService } from '../services/citas.service';\r\nimport * as moment from 'moment';\r\n\r\n@Component({\r\n  selector: 'app-mostrar-citas',\r\n  templateUrl: './mostrar-citas.component.html',\r\n  styleUrls: ['./mostrar-citas.component.scss']\r\n})\r\nexport class MostrarCitasComponent {\r\n  \r\n  citasPendientes: CitaMostrar[] = [];\r\n  citasPasadas: CitaMostrar[] = [];\r\n  errorTraerCitas: boolean = false;\r\n  noHayCitasPendientes: boolean = false;\r\n  noHayCitasPasadas: boolean = false;\r\n\r\n  constructor(\r\n    private citasService: CitasService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n\r\n    this.traerCitas();\r\n  }\r\n\r\n  traerCitas() {\r\n\r\n    const id = JSON.parse(localStorage.getItem('user')!).id;\r\n\r\n    zip([this.citasService.fetchCitaPendiente(id), this.citasService.fetchCitasPasadas(id)])\r\n      .subscribe(([citasPendientesResp, citasPasadasResp]) => {\r\n\r\n        if (citasPendientesResp.success && citasPasadasResp.success) {\r\n\r\n          this.colocarCitas(citasPendientesResp.citas, this.citasPendientes);\r\n          this.colocarCitas(citasPasadasResp.citas, this.citasPasadas);\r\n\r\n\r\n          if (this.citasPendientes.length == 0) this.noHayCitasPendientes = true;\r\n          if (this.citasPasadas.length == 0) this.noHayCitasPasadas = true;\r\n        }\r\n        else {\r\n\r\n          this.errorTraerCitas = true;\r\n        }\r\n      });\r\n  }\r\n\r\n  colocarCitas(citas: Cita[], array: CitaMostrar[]) {\r\n    citas.forEach(cita => {\r\n      const fechaCompletaPas = moment(cita.fecha, 'YYYY-MM-DD HH:mm:ss');\r\n      array.push({\r\n        id: cita.id,\r\n        dia: fechaCompletaPas.format('DD/MM/YYYY'),\r\n        hora: fechaCompletaPas.format('HH:mm'),\r\n        donacion: cita.donacion,\r\n        cancelada: cita.cancelada\r\n      });\r\n    });\r\n  }\r\n\r\n\r\n  cancelarCita(event: any) {\r\n    const liElement = event.target.closest('li');\r\n    const listItems = Array.from(liElement.parentElement.children);\r\n    const index = listItems.indexOf(liElement);\r\n\r\n    const id = this.citasPendientes[index].id;\r\n\r\n    // const confirm = await getConfirmacion();\r\n\r\n    this.citasService.cancelarCita(id).subscribe(resp => {\r\n      if (resp.success) {\r\n        \r\n        this.citasPendientes[index].cancelada = true;\r\n      }\r\n      else {\r\n\r\n        // TODO: cartelito de fallo\r\n      }\r\n    });\r\n  }\r\n}","<div class=\"container-fluid fondo px-2 py-5 p-md-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col-xl-2 col-md-1 col-0\"></div>\r\n\r\n    <div class=\"col-xl-8 col-md-10 col-0 contenedor\">\r\n      <div class=\"card border-0 rounded-0 w-100 mb-0\">\r\n        <div class=\"card-header d-flex justify-content-center align-items-center py-1 border-bottom-0\">\r\n          <h1>Mis citas</h1>\r\n        </div>\r\n        <div class=\"card-body px-2 py-5 px-md-5 mt-5 mb-0\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"mb-5\">\r\n                <h3 class=\"titulo mb-3\">Citas pendientes</h3>\r\n                <ul>\r\n                  <li *ngIf=\"noHayCitasPendientes; else elseCitasPendientes\" class=\"my-3\">\r\n                    <div class=\"card w-100 p-0 my-3\">\r\n                      <div class=\"card-body my-2 w-100 d-flex justify-content-around align-items-center tarjetaNoHay\">\r\n                        No hay citas pendientes\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n\r\n                  <ng-template #elseCitasPendientes>\r\n                    <li *ngFor=\"let cita of citasPendientes\">\r\n                      <div class=\"card p-0 my-3\">\r\n                        <div class=\"card-body my-0 d-flex justify-content-around align-items-center tarjeta\">\r\n                          <span class=\"dia\">{{ cita.dia }}</span>\r\n                          <span class=\"hora\">{{ cita.hora }}</span>\r\n                          <span class=\"donacion text-center\">{{ cita.donacion }}</span>\r\n                          <div class=\"align-items-center\">\r\n                            <button *ngIf=\"!cita.cancelada; else elseCancelada\" class=\"btn-primario px-3\" (click)=\"cancelarCita($event)\">Cancelar</button>\r\n                            <ng-template #elseCancelada>\r\n                              <span class=\"derechaTextoGrande text-center\">cancelada</span>\r\n                              <span class=\"derechaTextoPequeno text-center\">can.</span> \r\n                            </ng-template>\r\n                          </div>\r\n                        </div>                        \r\n                      </div>\r\n                    </li>\r\n                  </ng-template>\r\n                </ul>\r\n\r\n                <h3 class=\"titulo mt-5 mb-3\">Citas pasadas</h3>\r\n                <ul>\r\n                  <li *ngIf=\"noHayCitasPasadas; else elseCitasPasadas\">\r\n                    <div class=\"card w-100 p-0 my-3\">\r\n                      <div class=\"card-body my-2 w-100 d-flex justify-content-around align-items-center tarjetaNoHay\">\r\n                        No reservaste ninguna cita\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n<div class=\"container-fluid fondo px-2 py-5 p-md-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col-xl-2 col-md-1 col-0\"></div>\r\n\r\n    <div class=\"col-xl-8 col-md-10 col-0 contenedor\">\r\n      <div class=\"card border-0 rounded-0 w-100 mb-0\">\r\n        <div class=\"card-header d-flex justify-content-center align-items-center py-1 border-bottom-0\">\r\n          <h1>Mis citas</h1>\r\n        </div>\r\n        <div class=\"card-body px-2 py-5 px-md-5 mt-5 mb-0\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"mb-5\">\r\n                <h3 class=\"titulo mb-3\">Citas pendientes</h3>\r\n                <ul>\r\n                  <li *ngIf=\"noHayCitasPendientes; else elseCitasPendientes\" class=\"my-3\">\r\n                    <div class=\"card w-100 p-0 my-3\">\r\n                      <div class=\"card-body my-2 w-100 d-flex justify-content-around align-items-center tarjetaNoHay\">\r\n                        No hay citas pendientes\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n\r\n                  <ng-template #elseCitasPendientes>\r\n                    <li *ngFor=\"let cita of citasPendientes\">\r\n                      <div class=\"card p-0 my-3\">\r\n                        <div class=\"card-body my-0 d-flex justify-content-around align-items-center tarjeta\">\r\n                          <span class=\"dia\">{{ cita.dia }}</span>\r\n                          <span class=\"hora\">{{ cita.hora }}</span>\r\n                          <span class=\"donacion text-center\">{{ cita.donacion }}</span>\r\n                          <div class=\"align-items-center\">\r\n                            <button *ngIf=\"!cita.cancelada; else elseCancelada\" class=\"btnCancelar px-3\" (click)=\"cancelarCita($event)\">Cancelar</button>\r\n                            <ng-template #elseCancelada>\r\n                              <span class=\"derechaTexto text-center\">cancelada</span>\r\n                            </ng-template>\r\n                          </div>\r\n                        </div>                        \r\n                      </div>\r\n                    </li>\r\n                  </ng-template>\r\n                </ul>\r\n\r\n                <h3 class=\"titulo mt-5 mb-3\">Citas pasadas</h3>\r\n                <ul>\r\n                  <li *ngIf=\"noHayCitasPasadas; else elseCitasPasadas\">\r\n                    <div class=\"card w-100 p-0 my-3\">\r\n                      <div class=\"card-body my-2 w-100 d-flex justify-content-around align-items-center tarjetaNoHay\">\r\n                        No reservaste ninguna cita\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n\r\n                  <ng-template #elseCitasPasadas>\r\n                    <li *ngFor=\"let cita of citasPasadas\">\r\n                      <div class=\"card p-0 my-3\">\r\n                        <div class=\"card-body my-0 d-flex justify-content-around align-items-center tarjeta\">\r\n                          <span class=\"dia\">{{ cita.dia }}</span>\r\n                          <span class=\"hora\">{{ cita.hora }}</span>\r\n                          <span class=\"donacion text-center\">{{ cita.donacion }}</span>\r\n                          <span class=\"derechaTexto text-center\">asistida</span>\r\n                          <span class=\"derechaTextoPequeno text-center\">asis.</span> \r\n                        </div>\r\n                      </div>\r\n                    </li>\r\n                  </ng-template>\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}