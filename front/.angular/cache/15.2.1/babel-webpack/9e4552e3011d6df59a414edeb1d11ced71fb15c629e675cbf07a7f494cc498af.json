{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Alicia/Documents/Clase/DAW/Segundo/Desafio3_DonantesSangre/donantesSangrePuertollano/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/platform-browser\";\nimport * as i2 from \"../../services/config.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nconst _c0 = [\"select\"];\nconst _c1 = [\"titulo\"];\nconst _c2 = [\"enunciado\"];\nconst _c3 = [\"respuesta_si\"];\nconst _c4 = [\"respuesta_no\"];\nconst _c5 = [\"input_file\"];\nconst _c6 = [\"recomendacion_problema\"];\nfunction ModificarPreguntaComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const pregunta_r13 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", pregunta_r13.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(pregunta_r13.titulo);\n  }\n}\nfunction ModificarPreguntaComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"img\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r5.previsualizacion, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ModificarPreguntaComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"img\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"src\", \"../../../../assets/imagenes/apto_sangre/\", ctx_r6.previsualizacion_apto_sangre, \"\", i0.ɵɵsanitizeUrl);\n  }\n}\nfunction ModificarPreguntaComponent_div_53_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"p\");\n    i0.ɵɵtext(2, \"Pregunta modificada correctamente\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ModificarPreguntaComponent_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"p\");\n    i0.ɵɵtext(2, \"Ha ocurrido un error al intentar modificar la pregunta\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction ModificarPreguntaComponent_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 41)(1, \"p\");\n    i0.ɵɵtext(2, \"Debes seleccionar una pregunta para poder modificar\");\n    i0.ɵɵelementEnd()();\n  }\n}\nconst _c7 = function () {\n  return {\n    standalone: true\n  };\n};\nexport class ModificarPreguntaComponent {\n  constructor(sanitizer, renderer2, config_Service) {\n    var _this = this;\n    this.sanitizer = sanitizer;\n    this.renderer2 = renderer2;\n    this.config_Service = config_Service;\n    this.recargarPreguntas = new EventEmitter();\n    this.previsualizacion = \"\";\n    this.previsualizacion_apto_sangre = \"\";\n    this.archivos = [];\n    this.loading = false;\n    this.mostrar = false;\n    this.qhp = 0;\n    this.pregunta = {\n      id: 0,\n      enunciado: \"\",\n      titulo: \"\",\n      nombre_img: \"\",\n      respuesta: 0,\n      solucion_problema: \"\"\n    };\n    this.extraerBase64 = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (event) {\n        return new Promise((resolve, reject) => {\n          try {\n            const unsafeImg = window.URL.createObjectURL(event);\n            const image = _this.sanitizer.bypassSecurityTrustUrl(unsafeImg);\n            const reader = new FileReader();\n            reader.readAsDataURL(event);\n            reader.onload = () => {\n              resolve({\n                base: reader.result\n              });\n            };\n            reader.onerror = error => {\n              resolve({\n                base: null\n              });\n            };\n            return reader;\n          } catch (err) {\n            return null;\n          }\n        });\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n  capturarFile(event) {\n    const archivoCapturado = event.target.files[0];\n    if (archivoCapturado.type == 'image/jpg' || archivoCapturado.type == 'image/gif' || archivoCapturado.type == 'image/png' || archivoCapturado.type == 'image/jpeg' || archivoCapturado.type == 'image/tiff' || archivoCapturado.type == 'image/svg' || archivoCapturado.type == 'image/webp') {\n      this.extraerBase64(archivoCapturado).then(imagen => {\n        this.previsualizacion = imagen.base;\n      });\n      this.archivos.push(archivoCapturado);\n    }\n    this.previsualizacion_apto_sangre = \"\";\n  }\n  seleccionarPregunta() {\n    this.qhp = 0;\n    const selector = this.select.nativeElement;\n    const si = this.respuesta_si.nativeElement;\n    const no = this.respuesta_no.nativeElement;\n    const cogerImagen = this.input_file.nativeElement;\n    if (!isNaN(parseInt(selector.value))) {\n      let i = 0;\n      let conseguido = false;\n      for (i; i < this.preguntas_array.length && !conseguido; i++) {\n        if (this.preguntas_array[i].id == parseInt(selector.value)) {\n          conseguido = true;\n        }\n      }\n      this.mostrar = true;\n      this.pregunta.id = this.preguntas_array[i - 1].id;\n      this.pregunta.enunciado = this.preguntas_array[i - 1].enunciado;\n      this.pregunta.titulo = this.preguntas_array[i - 1].titulo;\n      this.pregunta.solucion_problema = this.preguntas_array[i - 1].solucion_problema;\n      this.pregunta.nombre_img = this.preguntas_array[i - 1].nombre_img;\n      this.pregunta.respuesta = this.preguntas_array[i - 1].respuesta;\n      let list = new DataTransfer();\n      let file = new File([\"content\"], this.pregunta.nombre_img);\n      list.items.add(file);\n      let myFileList = list.files;\n      cogerImagen.files = myFileList;\n      this.archivos.push(cogerImagen.files[0]);\n      this.previsualizacion_apto_sangre = this.pregunta.nombre_img;\n      this.previsualizacion = \"\";\n      if (this.pregunta.respuesta == 1) {\n        si.checked = true;\n        no.checked = false;\n      } else {\n        si.checked = false;\n        no.checked = true;\n      }\n    } else {\n      this.mostrar = false;\n      si.checked = false;\n      no.checked = false;\n      this.pregunta.titulo = '';\n      this.pregunta.enunciado = '';\n      this.pregunta.solucion_problema = '';\n      cogerImagen.value = \"\";\n      this.previsualizacion_apto_sangre = \"\";\n    }\n  }\n  modificarPregunta() {\n    const selector = this.select.nativeElement;\n    const titulo = this.titulo.nativeElement;\n    const enunciado = this.enunciado.nativeElement;\n    const si = this.respuesta_si.nativeElement;\n    const no = this.respuesta_no.nativeElement;\n    const solucion_problema = this.recomendacion.nativeElement;\n    this.renderer2.setAttribute(si, \"value\", \"1\");\n    this.renderer2.setAttribute(no, \"value\", \"0\");\n    if (isNaN(parseInt(selector.value))) {\n      this.qhp = 3;\n    } else {\n      this.pregunta.titulo = titulo.value;\n      this.pregunta.enunciado = enunciado.value;\n      if (this.pregunta.nombre_img == this.archivos[this.archivos.length - 1].name) {\n        this.pregunta.nombre_img = '';\n      } else {\n        this.pregunta.nombre_img = this.archivos[this.archivos.length - 1];\n      }\n      if (si.checked) {\n        this.pregunta.respuesta = parseInt(si.value);\n      } else {\n        this.pregunta.respuesta = parseInt(no.value);\n      }\n      this.pregunta.solucion_problema = solucion_problema.value;\n      try {\n        this.loading = true;\n        this.config_Service.modificarPregunta(this.pregunta.id, this.pregunta).subscribe(res => {\n          this.loading = false;\n          console.log('Respuesta del servidor', res);\n          this.qhp = 1;\n          this.recargarPreguntas.emit();\n        });\n      } catch (e) {\n        this.qhp = 2;\n        console.log(e);\n      }\n    }\n  }\n}\nModificarPreguntaComponent.ɵfac = function ModificarPreguntaComponent_Factory(t) {\n  return new (t || ModificarPreguntaComponent)(i0.ɵɵdirectiveInject(i1.DomSanitizer), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i2.ConfigService));\n};\nModificarPreguntaComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ModificarPreguntaComponent,\n  selectors: [[\"app-modificar-pregunta\"]],\n  viewQuery: function ModificarPreguntaComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n      i0.ɵɵviewQuery(_c2, 5);\n      i0.ɵɵviewQuery(_c3, 5);\n      i0.ɵɵviewQuery(_c4, 5);\n      i0.ɵɵviewQuery(_c5, 5);\n      i0.ɵɵviewQuery(_c6, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.select = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.titulo = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.enunciado = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.respuesta_si = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.respuesta_no = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.input_file = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.recomendacion = _t.first);\n    }\n  },\n  inputs: {\n    preguntas_array: \"preguntas_array\"\n  },\n  outputs: {\n    recargarPreguntas: \"recargarPreguntas\"\n  },\n  decls: 62,\n  vars: 18,\n  consts: [[\"id\", \"modificarPregunta\", \"data-bs-backdrop\", \"static\", \"data-bs-keyboard\", \"false\", \"tabindex\", \"-1\", \"aria-labelledby\", \"staticBackdropLabel\", \"aria-hidden\", \"true\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\"], [1, \"modal-content\"], [1, \"modal-header\", \"border-buttom\", \"border-danger\", \"border-3\"], [\"id\", \"staticBackdropLabel\", 1, \"modal-title\", \"titulo\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [3, \"ngSubmit\"], [1, \"modal-body\", \"border-buttom\", \"border-danger\"], [1, \"row\", \"d-flex\", \"justify-content-center\"], [1, \"col-12\"], [1, \"form-select\", 3, \"change\"], [\"select\", \"\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\", 3, \"hidden\"], [\"type\", \"text\", \"placeholder\", \"Escribe el titulo para esta pregunta\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelOptions\"], [\"titulo\", \"\"], [\"type\", \"text\", \"placeholder\", \"Escribe tu enunciado\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelOptions\"], [\"enunciado\", \"\"], [\"type\", \"file\", \"accept\", \"image/jpg,image/gif,image/png,image/jpeg,image/tiff,image/svg,image/webp\", 1, \"btn\", \"btn-light\", \"form-control\", \"border-3\", \"rounded-2\", \"mb-2\", 3, \"change\"], [\"input_file\", \"\"], [\"class\", \"col-12 d-flex justify-content-center\", 4, \"ngIf\"], [1, \"form-check\"], [\"type\", \"radio\", \"name\", \"respuesta\", 1, \"form-check-input\"], [\"respuesta_si\", \"\"], [\"for\", \"si\", 1, \"form-check-label\"], [\"respuesta_no\", \"\"], [\"for\", \"no\", 1, \"form-check-label\"], [\"rows\", \"5\", \"placeholder\", \"Escribe tu recomendacion\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelOptions\"], [\"recomendacion_problema\", \"\"], [1, \"modal-footer\", \"d-flex\", \"justify-content-end\"], [\"class\", \"alert alert-success w-100\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-danger w-100\", \"role\", \"alert\", 4, \"ngIf\"], [\"class\", \"alert alert-warning w-100\", \"role\", \"alert\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-secundario\", 3, \"disabled\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secundario\"], [3, \"value\"], [1, \"col-12\", \"d-flex\", \"justify-content-center\"], [1, \"w-50\", 3, \"src\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"w-100\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"w-100\"], [\"role\", \"alert\", 1, \"alert\", \"alert-warning\", \"w-100\"]],\n  template: function ModificarPreguntaComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n      i0.ɵɵtext(5, \"Modificado una pregunta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"button\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 6);\n      i0.ɵɵlistener(\"ngSubmit\", function ModificarPreguntaComponent_Template_form_ngSubmit_7_listener() {\n        return ctx.modificarPregunta();\n      });\n      i0.ɵɵelementStart(8, \"div\", 7)(9, \"div\", 8)(10, \"div\", 9)(11, \"select\", 10, 11);\n      i0.ɵɵlistener(\"change\", function ModificarPreguntaComponent_Template_select_change_11_listener() {\n        return ctx.seleccionarPregunta();\n      });\n      i0.ɵɵelementStart(13, \"option\", 12);\n      i0.ɵɵtext(14, \"Selecciona una pregunta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(15, ModificarPreguntaComponent_option_15_Template, 2, 2, \"option\", 13);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(16, \"div\", 14)(17, \"div\", 9)(18, \"h4\");\n      i0.ɵɵtext(19, \"Titulo:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 15, 16);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"div\", 9)(23, \"h4\");\n      i0.ɵɵtext(24, \"Enunciado:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 17, 18);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"div\", 9)(28, \"h4\");\n      i0.ɵɵtext(29, \"Imagen:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 19, 20);\n      i0.ɵɵlistener(\"change\", function ModificarPreguntaComponent_Template_input_change_30_listener($event) {\n        return ctx.capturarFile($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(32, ModificarPreguntaComponent_div_32_Template, 2, 1, \"div\", 21);\n      i0.ɵɵtemplate(33, ModificarPreguntaComponent_div_33_Template, 2, 1, \"div\", 21);\n      i0.ɵɵelementStart(34, \"div\", 9)(35, \"h4\");\n      i0.ɵɵtext(36, \"Respuesta:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 22);\n      i0.ɵɵelement(38, \"input\", 23, 24);\n      i0.ɵɵelementStart(40, \"label\", 25);\n      i0.ɵɵtext(41, \"Si\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(42, \"div\", 22);\n      i0.ɵɵelement(43, \"input\", 23, 26);\n      i0.ɵɵelementStart(45, \"label\", 27);\n      i0.ɵɵtext(46, \"No\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(47, \"div\", 9)(48, \"h4\");\n      i0.ɵɵtext(49, \"Recomendaci\\u00F3nes a los problemas:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(50, \"textarea\", 28, 29);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(52, \"div\", 30);\n      i0.ɵɵtemplate(53, ModificarPreguntaComponent_div_53_Template, 3, 0, \"div\", 31);\n      i0.ɵɵtemplate(54, ModificarPreguntaComponent_div_54_Template, 3, 0, \"div\", 32);\n      i0.ɵɵtemplate(55, ModificarPreguntaComponent_div_55_Template, 3, 0, \"div\", 33);\n      i0.ɵɵelementStart(56, \"button\", 34)(57, \"span\");\n      i0.ɵɵtext(58);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(59, \"button\", 35)(60, \"span\");\n      i0.ɵɵtext(61, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", ctx.preguntas_array);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", !ctx.mostrar);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.pregunta.titulo)(\"ngModelOptions\", i0.ɵɵpureFunction0(15, _c7));\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.pregunta.enunciado)(\"ngModelOptions\", i0.ɵɵpureFunction0(16, _c7));\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngIf\", ctx.previsualizacion);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.previsualizacion_apto_sangre);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngModel\", ctx.pregunta.solucion_problema)(\"ngModelOptions\", i0.ɵɵpureFunction0(17, _c7));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.qhp == 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.qhp == 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.qhp == 3);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.loading);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\" \", ctx.loading ? \"Cargando......\" : \"Modificar\", \" \");\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.NgForOf, i4.NgIf],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["EventEmitter","i0","ModificarPreguntaComponent","constructor","sanitizer","renderer2","config_Service","id","enunciado","titulo","nombre_img","respuesta","solucion_problema","event","Promise","resolve","reject","unsafeImg","window","URL","createObjectURL","image","bypassSecurityTrustUrl","reader","FileReader","readAsDataURL","onload","base","result","onerror","error","err","capturarFile","archivoCapturado","target","files","type","extraerBase64","then","imagen","previsualizacion","archivos","push","previsualizacion_apto_sangre","seleccionarPregunta","qhp","selector","select","nativeElement","si","respuesta_si","no","respuesta_no","cogerImagen","input_file","isNaN","parseInt","value","i","conseguido","preguntas_array","length","mostrar","pregunta","list","DataTransfer","file","File","items","add","myFileList","checked","modificarPregunta","recomendacion","setAttribute","name","loading","subscribe","res","console","log","recargarPreguntas","emit","e","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\test-config\\modificar-pregunta\\modificar-pregunta.component.ts","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\test-config\\modificar-pregunta\\modificar-pregunta.component.html"],"sourcesContent":["import { Component, ElementRef, EventEmitter, Input, Output, Renderer2, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { Pregunta } from 'src/app/apto-sangre/interface/pregunta';\r\nimport { ConfigService } from '../../services/config.service';\r\nimport { FormControl, FormGroup, Validators, NgModel, NgForm } from '@angular/forms';\r\nimport { PreguntasComponent } from '../../../apto-sangre/preguntas/preguntas.component';\r\n\r\n@Component({\r\n  selector: 'app-modificar-pregunta',\r\n  templateUrl: './modificar-pregunta.component.html',\r\n  styleUrls: ['./modificar-pregunta.component.scss']\r\n})\r\nexport class ModificarPreguntaComponent{\r\n  @Input() preguntas_array!: Pregunta[];\r\n  @Output() recargarPreguntas = new EventEmitter();\r\n  public filedata:any;\r\n  public previsualizacion: string = \"\";\r\n  public previsualizacion_apto_sangre: string = \"\";\r\n  public archivos:any = [];\r\n  public loading:boolean = false;\r\n  mostrar: boolean = false;\r\n  pregunta_seleccionada_id!: number;\r\n  pregunta_seleccionada_titulo!: string;\r\n  pregunta_seleccionada_enunciado!: string;\r\n  pregunta_seleccionada_img!: string;\r\n  pregunta_seleccionada_respuesta!: number;\r\n  pregunta_seleccionada_sol_problema!: string;\r\n  @ViewChild('select') select!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('titulo') titulo!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('enunciado') enunciado!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('respuesta_si') respuesta_si!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('respuesta_no') respuesta_no!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('input_file') input_file!: ElementRef<HTMLInputElement>;\r\n  @ViewChild('recomendacion_problema') recomendacion!: ElementRef<HTMLInputElement>;\r\n  qhp: number = 0;\r\n\r\n  pregunta: Pregunta = {\r\n    id: 0,\r\n    enunciado: \"\",\r\n    titulo: \"\",\r\n    nombre_img: \"\",\r\n    respuesta: 0,\r\n    solucion_problema: \"\"\r\n  }\r\n\r\n\r\n\r\n  constructor(private sanitizer: DomSanitizer, private renderer2: Renderer2, private config_Service: ConfigService) { }\r\n\r\n  capturarFile(event: any) {\r\n    const archivoCapturado = event.target.files[0];\r\n    if(archivoCapturado.type == 'image/jpg' || archivoCapturado.type == 'image/gif' || archivoCapturado.type == 'image/png'\r\n    || archivoCapturado.type == 'image/jpeg' || archivoCapturado.type == 'image/tiff' || archivoCapturado.type == 'image/svg' || archivoCapturado.type == 'image/webp'){\r\n      this.extraerBase64(archivoCapturado).then((imagen: any)=> {\r\n        this.previsualizacion = imagen.base;\r\n      })\r\n      this.archivos.push(archivoCapturado);\r\n    }\r\n    this.previsualizacion_apto_sangre = \"\";\r\n  }\r\n\r\n  extraerBase64 = async (event: any) => new Promise((resolve, reject) => {\r\n    try{\r\n      const unsafeImg = window.URL.createObjectURL(event);\r\n      const image = this.sanitizer.bypassSecurityTrustUrl(unsafeImg);\r\n      const reader = new FileReader();\r\n      reader.readAsDataURL(event);\r\n      reader.onload = () => {\r\n        resolve({\r\n          base: reader.result\r\n        });\r\n      };\r\n      reader.onerror = error => {\r\n        resolve({\r\n          base: null\r\n        });\r\n      };\r\n      return reader;\r\n    } catch (err) {\r\n      return null;\r\n    }\r\n  })\r\n\r\n\r\n\r\n  seleccionarPregunta(){\r\n    this.qhp = 0;\r\n    const selector = this.select.nativeElement;\r\n    const si = this.respuesta_si.nativeElement;\r\n    const no = this.respuesta_no.nativeElement;\r\n    const cogerImagen = this.input_file.nativeElement;\r\n\r\n    if(!isNaN(parseInt(selector.value))){\r\n      let i = 0\r\n      let conseguido = false;\r\n      for(i; i < this.preguntas_array.length && !conseguido; i++){\r\n        if(this.preguntas_array[i].id == parseInt(selector.value)){\r\n          conseguido = true;\r\n        }\r\n      }\r\n      this.mostrar = true;\r\n      this.pregunta.id = this.preguntas_array[i - 1].id;\r\n      this.pregunta.enunciado = this.preguntas_array[i - 1].enunciado;\r\n      this.pregunta.titulo = this.preguntas_array[i - 1].titulo;\r\n      this.pregunta.solucion_problema = this.preguntas_array[i - 1].solucion_problema;\r\n      this.pregunta.nombre_img = this.preguntas_array[i - 1].nombre_img;\r\n      this.pregunta.respuesta = this.preguntas_array[i - 1].respuesta;\r\n      let list = new DataTransfer();\r\n      let file = new File([\"content\"], this.pregunta.nombre_img);\r\n      list.items.add(file);\r\n      let myFileList = list.files;\r\n\r\n\r\n\r\n      cogerImagen.files = myFileList;\r\n      this.archivos.push(cogerImagen.files[0]);\r\n\r\n      this.previsualizacion_apto_sangre = this.pregunta.nombre_img\r\n      this.previsualizacion = \"\";\r\n\r\n      if(this.pregunta.respuesta == 1){\r\n        si.checked = true;\r\n        no.checked = false;\r\n      }\r\n      else{\r\n        si.checked = false;\r\n        no.checked = true;\r\n      }\r\n    }\r\n    else{\r\n      this.mostrar = false;\r\n      si.checked = false;\r\n      no.checked = false;\r\n      this.pregunta.titulo = ''\r\n      this.pregunta.enunciado = '';\r\n      this.pregunta.solucion_problema = '';\r\n      cogerImagen.value = \"\";\r\n      this.previsualizacion_apto_sangre = \"\";\r\n\r\n    }\r\n  }\r\n\r\n  modificarPregunta() {\r\n    const selector = this.select.nativeElement;\r\n    const titulo = this.titulo.nativeElement;\r\n    const enunciado = this.enunciado.nativeElement;\r\n    const si = this.respuesta_si.nativeElement;\r\n    const no = this.respuesta_no.nativeElement;\r\n    const solucion_problema = this.recomendacion.nativeElement;\r\n\r\n\r\n\r\n    this.renderer2.setAttribute(si,\"value\", \"1\");\r\n    this.renderer2.setAttribute(no,\"value\", \"0\");\r\n\r\n    if(isNaN(parseInt(selector.value))){\r\n      this.qhp = 3;\r\n    }\r\n    else{\r\n      this.pregunta.titulo = titulo.value;\r\n      this.pregunta.enunciado = enunciado.value;\r\n      if(this.pregunta.nombre_img == this.archivos[this.archivos.length - 1].name){\r\n        this.pregunta.nombre_img = '';\r\n      }\r\n      else{\r\n        this.pregunta.nombre_img = this.archivos[this.archivos.length - 1];\r\n      }\r\n      if(si.checked){\r\n        this.pregunta.respuesta = parseInt(si.value);\r\n      }\r\n      else{\r\n        this.pregunta.respuesta = parseInt(no.value);\r\n      }\r\n      this.pregunta.solucion_problema = solucion_problema.value;\r\n      try{\r\n        this.loading = true;\r\n        this.config_Service.modificarPregunta(this.pregunta.id, this.pregunta).subscribe((res) => {\r\n          this.loading = false;\r\n          console.log('Respuesta del servidor', res);\r\n          this.qhp = 1;\r\n          this.recargarPreguntas.emit();\r\n\r\n\r\n        });\r\n      }\r\n      catch(e){\r\n        this.qhp = 2;\r\n        console.log(e)\r\n      }\r\n    }\r\n  }\r\n}\r\n","<div class=\"modal fade\" id=\"modificarPregunta\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\" aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header border-buttom border-danger border-3\">\r\n        <h3 class=\"modal-title titulo\" id=\"staticBackdropLabel\">Modificado una pregunta</h3>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <form (ngSubmit)=\"modificarPregunta();\">\r\n        <div class=\"modal-body border-buttom border-danger\">\r\n          <div class=\"row d-flex justify-content-center\">\r\n            <div class=\"col-12\">\r\n              <select (change)=\"seleccionarPregunta()\" #select class=\"form-select\">\r\n                <option selected>Selecciona una pregunta</option>\r\n                <option *ngFor=\"let pregunta of this.preguntas_array\" value=\"{{pregunta.id}}\">{{pregunta.titulo}}</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\" [hidden]=\"!mostrar\">\r\n            <div class=\"col-12\">\r\n              <h4>Titulo:</h4>\r\n                <input [ngModel]=\"pregunta.titulo\" [ngModelOptions]=\"{standalone: true}\" #titulo type=\"text\" class=\"form-control mb-3\" placeholder=\"Escribe el titulo para esta pregunta\">\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Enunciado:</h4>\r\n              <input [ngModel]=\"pregunta.enunciado\" [ngModelOptions]=\"{standalone: true}\" #enunciado type=\"text\" class=\"form-control mb-3\" placeholder=\"Escribe tu enunciado\">\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Imagen:</h4>\r\n              <input #input_file (change)=\"capturarFile($event)\" type=\"file\" class=\"btn btn-light form-control border-3 rounded-2 mb-2\" accept=\"image/jpg,image/gif,image/png,image/jpeg,image/tiff,image/svg,image/webp\">\r\n            </div>\r\n            <div *ngIf=\"previsualizacion\" class=\"col-12 d-flex justify-content-center\">\r\n              <img [src]=\"previsualizacion\" class=\"w-50\">\r\n            </div>\r\n            <div *ngIf=\"previsualizacion_apto_sangre\" class=\"col-12 d-flex justify-content-center\">\r\n              <img src=\"../../../../assets/imagenes/apto_sangre/{{previsualizacion_apto_sangre}}\" class=\"w-50\">\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Respuesta:</h4>\r\n              <div class=\"form-check\">\r\n                <input #respuesta_si type=\"radio\" class=\"form-check-input\" name=\"respuesta\">\r\n                <label class=\"form-check-label\" for=\"si\">Si</label>\r\n              </div>\r\n              <div class=\"form-check\">\r\n                <input #respuesta_no type=\"radio\" class=\"form-check-input\" name=\"respuesta\">\r\n                <label class=\"form-check-label\" for=\"no\">No</label>\r\n              </div>\r\n            </div>\r\n            <div class=\"col-12\">\r\n              <h4>Recomendaciónes a los problemas:</h4>\r\n              <textarea [ngModel]=\"pregunta.solucion_problema\" [ngModelOptions]=\"{standalone: true}\" #recomendacion_problema class=\"form-control mb-3\" rows=\"5\" placeholder=\"Escribe tu recomendacion\"></textarea>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer d-flex justify-content-end\">\r\n          <div *ngIf=\"qhp == 1\" class=\"alert alert-success w-100\" role=\"alert\">\r\n            <p>Pregunta modificada correctamente</p>\r\n          </div>\r\n          <div *ngIf=\"qhp == 2\" class=\"alert alert-danger w-100\" role=\"alert\">\r\n            <p>Ha ocurrido un error al intentar modificar la pregunta</p>\r\n          </div>\r\n          <div *ngIf=\"qhp == 3\" class=\"alert alert-warning w-100\" role=\"alert\">\r\n            <p>Debes seleccionar una pregunta para poder modificar</p>\r\n          </div>\r\n          <button type=\"submit\" class=\"btn btn-secundario\" [disabled]=\"loading\">\r\n            <span>\r\n              {{(loading) ? 'Cargando......' : 'Modificar'}}\r\n            </span>\r\n          </button>\r\n          <button type=\"button\" class=\"btn btn-secundario\" data-bs-dismiss=\"modal\"><span>Cerrar</span></button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n\r\n  </div>\r\n</div>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}