{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/config.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@kolkov/angular-editor\";\nconst _c0 = [\"audio\"];\nfunction EditHimnoComponent_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵtext(2, \" Se ha producido un error y no he encontrado la informaci\\u00F3n del audio. \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function EditHimnoComponent_div_8_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditHimnoComponent_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22)(2, \"strong\");\n    i0.ɵɵtext(3, \"Error!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" El campo titulo es obligatorio. \");\n    i0.ɵɵelementStart(5, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function EditHimnoComponent_div_23_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditHimnoComponent_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 24);\n    i0.ɵɵtext(2, \" El himno o audio se ha a\\u00F1adido correctamente. \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function EditHimnoComponent_div_24_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditHimnoComponent_div_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵtext(2, \" El himno o audio no se ha podido a\\u00F1adir. \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function EditHimnoComponent_div_25_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction EditHimnoComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"div\", 22);\n    i0.ɵɵtext(2, \" Asegurate de que el archivo tiene extension y es una de las siguientes: mp3 o mp4 \");\n    i0.ɵɵelementStart(3, \"button\", 23);\n    i0.ɵɵlistener(\"click\", function EditHimnoComponent_div_26_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class EditHimnoComponent {\n  constructor(ConfigService) {\n    this.ConfigService = ConfigService;\n    this.editadoConfig = {\n      editable: true,\n      height: '100px',\n      minHeight: '0',\n      maxHeight: 'auto',\n      width: 'auto',\n      minWidth: '0',\n      translate: 'yes',\n      enableToolbar: true,\n      showToolbar: true,\n      placeholder: 'Enter text here...',\n      defaultParagraphSeparator: '',\n      defaultFontName: '',\n      defaultFontSize: '',\n      toolbarHiddenButtons: [['fontName', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\n    };\n    this.qho = \"no\";\n    this.res = \"no\";\n    this.alert = \"no\";\n    this.aviso = 0;\n    this.correcto = true;\n    this.idModificado = \"\";\n    this.infoAudio = {\n      id: \"\",\n      nombre: \"\",\n      titulo: \"\",\n      letra: \"\",\n      cancion: \"\",\n      descarga: \"\"\n    };\n  }\n  limpiarAlert() {\n    this.alert = \"no\";\n    this.aviso = 0;\n    this.qho = \"no\";\n  }\n  capturarFile(event) {\n    const files = event.target.files[0];\n    this.infoAudio.cancion = files;\n    if (!this.comprobarExtension(files)) {\n      this.aviso = 3;\n    }\n  }\n  comprobarExtension(file) {\n    let permitida = false;\n    this.correcto = false;\n    let extensiones_permitidas = ['.mp4', \".mp3\"];\n    let extension = file.name.substring(file.name.lastIndexOf(\".\")).toLowerCase();\n    if (extension != \"\") {\n      for (let i = 0; i < extensiones_permitidas.length && !permitida; i++) {\n        if (extensiones_permitidas[i] == extension) {\n          permitida = true;\n          this.correcto = true;\n        }\n      }\n    }\n    return permitida;\n  }\n  limpiarContenido() {\n    this.infoAudio.id = \"\";\n    this.infoAudio.nombre = \"\";\n    this.infoAudio.titulo = \"\";\n    this.infoAudio.letra = \"\";\n    this.infoAudio.cancion = \"\";\n    this.infoAudio.descarga = \"\";\n    this.audio.nativeElement.value = '';\n  }\n  editarAudio() {\n    if (this.infoAudio.titulo.trim().length === 0) {\n      this.alert = \"si\";\n    } else if (!this.correcto) {\n      this.aviso = 3;\n    } else {\n      this.ConfigService.editarAudio(this.idModificado, this.infoAudio).subscribe({\n        next: data => {\n          if (data.success !== false) {\n            this.ConfigService.editarCancion(data.data);\n            this.limpiarContenido();\n            this.aviso = 1;\n          }\n        },\n        error: error => {\n          this.aviso = 2;\n        }\n      });\n    }\n  }\n}\nEditHimnoComponent.ɵfac = function EditHimnoComponent_Factory(t) {\n  return new (t || EditHimnoComponent)(i0.ɵɵdirectiveInject(i1.ConfigService));\n};\nEditHimnoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditHimnoComponent,\n  selectors: [[\"app-edit-himno\"]],\n  viewQuery: function EditHimnoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.audio = _t.first);\n    }\n  },\n  inputs: {\n    idModificado: \"idModificado\",\n    infoAudio: \"infoAudio\",\n    qho: \"qho\"\n  },\n  decls: 32,\n  vars: 9,\n  consts: [[\"id\", \"modalEditado\", \"tabindex\", \"-1\", 1, \"modal\"], [1, \"modal-dialog\", \"modal-xl\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", \"bordeColor\"], [1, \"modal-title\", \"modalTitulo\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [\"class\", \"container mt-3 mb-2\", 4, \"ngIf\"], [3, \"ngSubmit\"], [1, \"row\"], [1, \"col-12\"], [1, \"form-group\"], [\"for\", \"titulo\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"placeholder\", \"Escribe un titulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"editadoConfig\", 3, \"config\", \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"for\", \"audio\", 1, \"mt-4\"], [\"type\", \"file\", \"name\", \"audio\", 1, \"form-control\", \"mb-3\", 3, \"change\"], [\"audio\", \"\"], [1, \"modal-footer\", \"bordeArriba\"], [\"type\", \"submit\", 1, \"btn\", \"botonAdd\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"botonCerrar\", \"ms-4\", 3, \"click\"], [1, \"container\", \"mt-3\", \"mb-2\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"]],\n  template: function EditHimnoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"h3\", 4);\n      i0.ɵɵtext(5, \"Modificando audio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"button\", 5);\n      i0.ɵɵlistener(\"click\", function EditHimnoComponent_Template_button_click_6_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function EditHimnoComponent_Template_button_click_6_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"div\", 6);\n      i0.ɵɵtemplate(8, EditHimnoComponent_div_8_Template, 4, 0, \"div\", 7);\n      i0.ɵɵelementStart(9, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function EditHimnoComponent_Template_form_ngSubmit_9_listener() {\n        return ctx.editarAudio();\n      });\n      i0.ɵɵelementStart(10, \"div\", 9)(11, \"div\", 10)(12, \"div\", 11)(13, \"label\", 12);\n      i0.ɵɵtext(14, \"T\\u00EDtulo del himno o audio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function EditHimnoComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.infoAudio.titulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"label\", 12);\n      i0.ɵɵtext(17, \"Letra del himno o audio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"angular-editor\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function EditHimnoComponent_Template_angular_editor_ngModelChange_18_listener($event) {\n        return ctx.infoAudio.letra = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"label\", 15);\n      i0.ɵɵtext(20, \"Seleccionar archivo de audio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 16, 17);\n      i0.ɵɵlistener(\"change\", function EditHimnoComponent_Template_input_change_21_listener($event) {\n        return ctx.capturarFile($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(23, EditHimnoComponent_div_23_Template, 6, 0, \"div\", 7);\n      i0.ɵɵtemplate(24, EditHimnoComponent_div_24_Template, 4, 0, \"div\", 7);\n      i0.ɵɵtemplate(25, EditHimnoComponent_div_25_Template, 4, 0, \"div\", 7);\n      i0.ɵɵtemplate(26, EditHimnoComponent_div_26_Template, 4, 0, \"div\", 7);\n      i0.ɵɵelementStart(27, \"div\", 18)(28, \"button\", 19);\n      i0.ɵɵtext(29, \"Aceptar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"button\", 20);\n      i0.ɵɵlistener(\"click\", function EditHimnoComponent_Template_button_click_30_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function EditHimnoComponent_Template_button_click_30_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵtext(31, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", ctx.qho === \"si\");\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.infoAudio.titulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"config\", ctx.editadoConfig)(\"placeholder\", \"Escribe la letra\")(\"ngModel\", ctx.infoAudio.letra);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.alert !== \"no\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 3);\n    }\n  },\n  dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm, i3.NgIf, i4.AngularEditorComponent],\n  styles: [\".modalTitulo[_ngcontent-%COMP%] {\\n  color: var(--color-secundario);\\n  font-family: var(--tipo-textos);\\n}\\n\\n.botonNoticia[_ngcontent-%COMP%] {\\n  color: var(--bs-white);\\n  background-color: var(--color-secundario);\\n}\\n.botonNoticia[_ngcontent-%COMP%]:hover {\\n  color: var(--bs-white);\\n  background-color: var(--bs-dark);\\n}\\n\\n.bordeColor[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--color-secundario);\\n}\\n\\n.bordeArriba[_ngcontent-%COMP%] {\\n  border-top: 1px solid var(--color-secundario);\\n}\\n\\n.botonAdd[_ngcontent-%COMP%], .botonCerrar[_ngcontent-%COMP%] {\\n  position: relative;\\n  padding: 9px 30px;\\n  margin: 5px 0;\\n  color: var(--color-secundario);\\n  text-decoration: none;\\n  text-align: center;\\n  text-transform: uppercase;\\n  transition: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::before, .botonCerrar[_ngcontent-%COMP%]::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: -1px;\\n  left: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-top: 2px solid var(--color-secundario);\\n  border-left: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::after, .botonCerrar[_ngcontent-%COMP%]::after {\\n  content: \\\" \\\";\\n  position: absolute;\\n  bottom: -1px;\\n  right: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-bottom: 2px solid var(--color-secundario);\\n  border-right: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover::before, .botonAdd[_ngcontent-%COMP%]:hover::after, .botonCerrar[_ngcontent-%COMP%]:hover::before, .botonCerrar[_ngcontent-%COMP%]:hover::after {\\n  width: 100%;\\n  height: 100%;\\n  transition-delay: 0s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover, .botonCerrar[_ngcontent-%COMP%]:hover {\\n  background: var(--color-secundario);\\n  color: var(--bs-white);\\n  box-shadow: 0 0 20px var(--color-granate-oscuro);\\n  transition-delay: 0.5s;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29uZmlnL2F1eGlsaWFySGltbm8vZWRpdC1oaW1uby9lZGl0LWhpbW5vLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsOEJBQUE7RUFDQSwrQkFBQTtBQUFGOztBQUdBO0VBQ0Usc0JBQUE7RUFDQSx5Q0FBQTtBQUFGO0FBRUU7RUFDRSxzQkFBQTtFQUNBLGdDQUFBO0FBQUo7O0FBSUE7RUFDRSxnREFBQTtBQURGOztBQUlBO0VBQ0UsNkNBQUE7QUFERjs7QUFJQTs7RUFFRSxrQkFBQTtFQUNBLGlCQUFBO0VBQ0EsYUFBQTtFQUNBLDhCQUFBO0VBQ0EscUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0VBQ0EsZ0JBQUE7QUFERjs7QUFJQTs7RUFFRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsNkNBQUE7RUFDQSw4Q0FBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUFERjs7QUFJQTs7RUFFRSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0RBQUE7RUFDQSwrQ0FBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7QUFERjs7QUFJQTs7OztFQUlFLFdBQUE7RUFDQSxZQUFBO0VBQ0Esb0JBQUE7QUFERjs7QUFJQTtFQUNFLG1DQUFBO0VBQ0Esc0JBQUE7RUFDQSxnREFBQTtFQUNBLHNCQUFBO0FBREYiLCJzb3VyY2VzQ29udGVudCI6WyIvL0lzYVxyXG4ubW9kYWxUaXR1bG8ge1xyXG4gIGNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICBmb250LWZhbWlseTogdmFyKC0tdGlwby10ZXh0b3MpO1xyXG59XHJcblxyXG4uYm90b25Ob3RpY2lhIHtcclxuICBjb2xvcjogdmFyKC0tYnMtd2hpdGUpO1xyXG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGNvbG9yOnZhcigtLWJzLXdoaXRlKTtcclxuICAgIGJhY2tncm91bmQtY29sb3I6dmFyKC0tYnMtZGFyayk7XHJcbiAgfVxyXG59XHJcblxyXG4uYm9yZGVDb2xvciB7XHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG59XHJcblxyXG4uYm9yZGVBcnJpYmEge1xyXG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxufVxyXG5cclxuLmJvdG9uQWRkLFxyXG4uYm90b25DZXJyYXIge1xyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBwYWRkaW5nOiA5cHggMzBweDtcclxuICBtYXJnaW46IDVweCAwO1xyXG4gIGNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgdHJhbnNpdGlvbjogMC41cztcclxufVxyXG5cclxuLmJvdG9uQWRkOjpiZWZvcmUsXHJcbi5ib3RvbkNlcnJhcjo6YmVmb3JlIHtcclxuICBjb250ZW50OiBcIiBcIjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgdG9wOiAtMXB4O1xyXG4gIGxlZnQ6IC0xcHg7XHJcbiAgd2lkdGg6IDIwcHg7XHJcbiAgaGVpZ2h0OiAyMHB4O1xyXG4gIGJvcmRlci10b3A6IDJweCBzb2xpZCB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICBib3JkZXItbGVmdDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIHRyYW5zaXRpb246IDAuNXM7XHJcbiAgdHJhbnNpdGlvbi1kZWxheTogMC41cztcclxufVxyXG5cclxuLmJvdG9uQWRkOjphZnRlcixcclxuLmJvdG9uQ2VycmFyOjphZnRlciB7XHJcbiAgY29udGVudDogXCIgXCI7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIGJvdHRvbTogLTFweDtcclxuICByaWdodDogLTFweDtcclxuICB3aWR0aDogMjBweDtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbiAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGJvcmRlci1yaWdodDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIHRyYW5zaXRpb246IDAuNXM7XHJcbiAgdHJhbnNpdGlvbi1kZWxheTogMC41cztcclxufVxyXG5cclxuLmJvdG9uQWRkOmhvdmVyOjpiZWZvcmUsXHJcbi5ib3RvbkFkZDpob3Zlcjo6YWZ0ZXIsXHJcbi5ib3RvbkNlcnJhcjpob3Zlcjo6YmVmb3JlLFxyXG4uYm90b25DZXJyYXI6aG92ZXI6OmFmdGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICBoZWlnaHQ6IDEwMCU7XHJcbiAgdHJhbnNpdGlvbi1kZWxheTogMHM7XHJcbn1cclxuXHJcbi5ib3RvbkFkZDpob3ZlciwuYm90b25DZXJyYXI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggdmFyKC0tY29sb3ItZ3JhbmF0ZS1vc2N1cm8pO1xyXG4gIHRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","EditHimnoComponent","constructor","ConfigService","editable","height","minHeight","maxHeight","width","minWidth","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","toolbarHiddenButtons","qho","res","alert","aviso","correcto","idModificado","infoAudio","id","nombre","titulo","letra","cancion","descarga","limpiarAlert","capturarFile","event","files","target","comprobarExtension","file","permitida","extensiones_permitidas","extension","name","substring","lastIndexOf","toLowerCase","i","length","limpiarContenido","audio","nativeElement","value","editarAudio","trim","subscribe","next","data","success","editarCancion","error","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\auxiliarHimno\\edit-himno\\edit-himno.component.html","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\config\\auxiliarHimno\\edit-himno\\edit-himno.component.ts"],"sourcesContent":["<!--Todo Isa-->\r\n<div class=\"modal\" id=\"modalEditado\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog modal-xl modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header bordeColor\">\r\n        <h3 class=\"modal-title modalTitulo\">Modificando audio</h3>\r\n        <button (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" type=\"button\" class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div *ngIf=\"qho==='si'\" class=\"container mt-3 mb-2\">\r\n          <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n            Se ha producido un error y no he encontrado la información del audio.\r\n            <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n              (click)=\"limpiarAlert()\"></button>\r\n          </div>\r\n        </div>\r\n        <form (ngSubmit)=\"editarAudio();\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"form-group\">\r\n\r\n                <label for=\"titulo\">Título del himno o audio:</label>\r\n\r\n                <input [(ngModel)]=\"infoAudio.titulo\" type=\"text\" id=\"titulo\" name=\"titulo\" class=\"form-control mb-3\"\r\n                  placeholder=\"Escribe un titulo\" />\r\n\r\n                <label for=\"titulo\">Letra del himno o audio:</label>\r\n                <angular-editor name=\"editadoConfig\" [config]=\"editadoConfig\" [placeholder]=\"'Escribe la letra'\"\r\n                  [(ngModel)]=\"infoAudio.letra\"></angular-editor>\r\n\r\n                <label class=\"mt-4\" for=\"audio\">Seleccionar archivo de audio:</label>\r\n\r\n                <input (change)=\"capturarFile($event)\" class=\"form-control mb-3\" type=\"file\" #audio name=\"audio\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"alert!=='no'\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              <strong>Error!!</strong> El campo titulo es obligatorio.\r\n              <button (click)=\"limpiarAlert()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"\r\n                aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===1\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n              El himno o audio se ha añadido correctamente.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n                (click)=\"limpiarAlert()\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===2\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              El himno o audio no se ha podido añadir.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n                (click)=\"limpiarAlert()\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===3\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              Asegurate de que el archivo tiene extension y es una de las siguientes: mp3 o mp4\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n                (click)=\"limpiarAlert()\"></button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-footer bordeArriba\">\r\n            <button type=\"submit\" class=\"btn botonAdd\">Aceptar</button>\r\n\r\n            <button type=\"button\" (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" class=\"btn botonCerrar ms-4\"\r\n              data-bs-dismiss=\"modal\">Cerrar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","//Isa\r\nimport { Component, ElementRef, ViewChild, Input } from '@angular/core';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\nimport { Cancion } from '../../interfaces/config.interface';\r\nimport { ConfigService } from '../../services/config.service';\r\n\r\n@Component({\r\n  selector: 'app-edit-himno',\r\n  templateUrl: './edit-himno.component.html',\r\n  styleUrls: ['./edit-himno.component.scss']\r\n})\r\nexport class EditHimnoComponent {\r\n  editadoConfig: AngularEditorConfig = {\r\n    editable: true,\r\n    height: '100px',\r\n    minHeight: '0',\r\n    maxHeight: 'auto',\r\n    width: 'auto',\r\n    minWidth: '0',\r\n    translate: 'yes',\r\n    enableToolbar: true,\r\n    showToolbar: true,\r\n    placeholder: 'Enter text here...',\r\n    defaultParagraphSeparator: '',\r\n    defaultFontName: '',\r\n    defaultFontSize: '',\r\n    toolbarHiddenButtons: [['fontName', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\r\n  };\r\n\r\n  res: string;\r\n  alert: string;\r\n  aviso: number;\r\n  correcto: boolean;\r\n\r\n  @Input() idModificado: string;\r\n  @Input() infoAudio: Cancion;\r\n  @Input() qho: string;\r\n\r\n  @ViewChild('audio') audio!: ElementRef<HTMLInputElement>;\r\n\r\n\r\n  constructor(private ConfigService: ConfigService) {\r\n    this.qho = \"no\"\r\n    this.res = \"no\";\r\n    this.alert = \"no\";\r\n    this.aviso = 0;\r\n    this.correcto = true;\r\n    this.idModificado = \"\";\r\n    this.infoAudio = {\r\n      id: \"\",\r\n      nombre: \"\",\r\n      titulo: \"\",\r\n      letra: \"\",\r\n      cancion: \"\",\r\n      descarga: \"\"\r\n    };\r\n  }\r\n\r\n  limpiarAlert() {\r\n    this.alert = \"no\";\r\n    this.aviso = 0;\r\n    this.qho = \"no\";\r\n  }\r\n  capturarFile(event: any) {\r\n    const files = event.target.files[0];\r\n    this.infoAudio.cancion = files;\r\n    if (!this.comprobarExtension(files)) {\r\n      this.aviso = 3;\r\n    }\r\n  }\r\n  comprobarExtension(file: any): boolean {\r\n    let permitida = false;\r\n    this.correcto = false;\r\n    let extensiones_permitidas = ['.mp4', \".mp3\"];\r\n    let extension = (file.name.substring(file.name.lastIndexOf(\".\"))).toLowerCase();\r\n    if (extension != \"\") {\r\n      for (let i = 0; i < extensiones_permitidas.length && !permitida; i++) {\r\n        if (extensiones_permitidas[i] == extension) {\r\n          permitida = true;\r\n          this.correcto = true;\r\n        }\r\n      }\r\n    }\r\n    return permitida;\r\n  }\r\n\r\n  limpiarContenido() {\r\n    this.infoAudio.id = \"\";\r\n    this.infoAudio.nombre = \"\";\r\n    this.infoAudio.titulo = \"\";\r\n    this.infoAudio.letra = \"\";\r\n    this.infoAudio.cancion = \"\";\r\n    this.infoAudio.descarga = \"\";\r\n    this.audio.nativeElement.value = ''\r\n  }\r\n\r\n  editarAudio() {\r\n    if (this.infoAudio.titulo.trim().length === 0) {\r\n      this.alert = \"si\";\r\n    } else if (!this.correcto) {\r\n      this.aviso = 3;\r\n    } else {\r\n      this.ConfigService.editarAudio(this.idModificado, this.infoAudio).subscribe({\r\n        next: data => {\r\n          if (data.success !== false) {\r\n            this.ConfigService.editarCancion(data.data);\r\n            this.limpiarContenido();\r\n            this.aviso = 1;\r\n          }\r\n        },\r\n        error: error => {\r\n          this.aviso = 2;\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}