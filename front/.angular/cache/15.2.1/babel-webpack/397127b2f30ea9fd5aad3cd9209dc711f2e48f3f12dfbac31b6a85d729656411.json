{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Alicia/Documents/Clase/DAW/Segundo/Desafio3_DonantesSangre/donantesSangrePuertollano/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ModalPedirCitaComponent } from '../modal-pedir-cita/modal-pedir-cita.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/auth/services/auth.service\";\nimport * as i2 from \"../services/shared.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"src/app/citas/services/citas.service\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../directivas/sticky-top.directive\";\nfunction MenuComponent_li_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 14)(1, \"a\", 21);\n    i0.ɵɵtext(2, \"Modificar contenidos\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MenuComponent_li_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"li\", 14)(1, \"a\", 22);\n    i0.ɵɵtext(2, \"Iniciar sesi\\u00F3n\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction MenuComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"i\", 24);\n    i0.ɵɵelementStart(2, \"ul\", 25)(3, \"li\")(4, \"a\", 26);\n    i0.ɵɵtext(5, \"Mis citas\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"li\")(7, \"a\", 27);\n    i0.ɵɵlistener(\"click\", function MenuComponent_div_36_Template_a_click_7_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.cerrarSesion());\n    });\n    i0.ɵɵtext(8, \"Cerrar sesi\\u00F3n\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nexport class MenuComponent {\n  constructor(AuthService, SharedService, router, modal, citasService) {\n    this.AuthService = AuthService;\n    this.SharedService = SharedService;\n    this.router = router;\n    this.modal = modal;\n    this.citasService = citasService;\n    this.puedeModificar = false;\n    this.estaRegistrado = false;\n    this.puedePedirCita = true;\n  }\n  ngOnInit() {\n    const user = localStorage.getItem('user');\n    if (user) {\n      this.estaRegistrado = true;\n      this.comprobarPuedeModificar();\n    }\n    this.SharedService.comprobarPermisos.subscribe(registrado => {\n      this.estaRegistrado = registrado;\n      this.comprobarPuedeModificar();\n    });\n  }\n  comprobarPuedeModificar() {\n    if (this.estaRegistrado) {\n      this.AuthService.puedeModificar().subscribe(resp => {\n        this.puedeModificar = resp ? true : false;\n      });\n    }\n  }\n  ensenarModal() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.modal.open(ModalPedirCitaComponent);\n    })();\n  }\n  // async ensenarModalPedirCita() {\n  //   if(this.estaRegistrado) {\n  //     const id = JSON.parse(localStorage.getItem('user')!).id\n  //     const resp = await lastValueFrom(this.citasService.compHaPedidoCita(id));\n  //     this.puedePedirCita = resp.success;\n  //   }\n  //   // this.modal.open(ModalPedirCitaComponent, this.estaRegistrado, this.puedePedirCita);\n  // }\n  //TODO: sacar cuadro preguntando\n  // ensenarModal() {\n  //   if (!this.estaRegistrado) this.modal.open(ModalPedirCitaComponent);\n  //   else this.router.navigate(['/citas/pedircita']);\n  // }\n  cerrarSesion() {\n    localStorage.removeItem('user');\n    this.estaRegistrado = false;\n    this.puedeModificar = false;\n    this.router.navigate(['']);\n  }\n}\nMenuComponent.ɵfac = function MenuComponent_Factory(t) {\n  return new (t || MenuComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.SharedService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.NgbModal), i0.ɵɵdirectiveInject(i5.CitasService));\n};\nMenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: MenuComponent,\n  selectors: [[\"app-menu\"]],\n  decls: 37,\n  vars: 3,\n  consts: [[\"src\", \"../../../assets/imagenes/banner.png\", 1, \"banner\"], [\"appStickyTop\", \"\", 1, \"navbar\", \"navbar-expand-xl\"], [\"href\", \"#\", 1, \"navbar-brand\"], [\"src\", \"../../../assets/imagenes/logo.png\"], [\"type\", \"button\", \"data-bs-toggle\", \"collapse\", \"data-bs-target\", \"#menu-horizontal\", \"aria-controls\", \"menu-horizontal\", \"aria-expanded\", \"false\", \"aria-label\", \"Toggle navigation\", 1, \"navbar-toggler\", \"ms-auto\"], [1, \"fa-solid\", \"fa-bars\", \"fs-2\"], [\"id\", \"menu-horizontal\", 1, \"collapse\", \"navbar-collapse\", \"text-center\"], [1, \"navbar-nav\", \"mb-lg-0\"], [1, \"nav-item\", \"dropdown\", \"ms-lg-3\", \"me-lg-5\"], [\"href\", \"#\", \"role\", \"button\", \"data-bs-toggle\", \"dropdown\", \"aria-expanded\", \"false\", 1, \"nav-link\", \"enlace\", \"dropdown-toggle\"], [1, \"dropdown-menu\"], [\"href\", \"./donacion/sangre\", 1, \"dropdown-item\", \"enlace\"], [\"href\", \"./donacion/plasma\", 1, \"dropdown-item\", \"enlace\"], [\"href\", \"./donaci\\u00F3n/medula\", 1, \"dropdown-item\", \"enlace\"], [1, \"nav-item\", \"me-lg-5\"], [\"href\", \"./aviso\", 1, \"nav-link\", \"enlace\"], [\"href\", \"./noticias\", 1, \"nav-link\", \"enlace\"], [\"href\", \"./galeria\", 1, \"nav-link\", \"enlace\"], [1, \"nav-link\", \"enlace\", 3, \"click\"], [\"class\", \"nav-item me-lg-5\", 4, \"ngIf\"], [\"class\", \"usuario-contenedor ms-5\", 4, \"ngIf\"], [\"href\", \"./configuracion/hermandad\", 1, \"nav-link\", \"enlace\"], [\"href\", \"./auth/login/\", 1, \"nav-link\", \"enlace\"], [1, \"usuario-contenedor\", \"ms-5\"], [\"data-bs-toggle\", \"dropdown\", \"data-bs-target\", \"dropdown-user\", 1, \"fa-solid\", \"fa-user-large\", \"fs-4\", \"usuario\", \"dropdown-toggle\"], [\"aria-labelledby\", \"dropdownMenuUser\", 1, \"dropdown-menu\", \"dropdown-menu-end\"], [\"href\", \"../../citas/mostrarcitas\", 1, \"dropdown-item\"], [1, \"dropdown-item\", 3, \"click\"]],\n  template: function MenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"header\");\n      i0.ɵɵelement(1, \"img\", 0);\n      i0.ɵɵelementStart(2, \"nav\", 1)(3, \"a\", 2);\n      i0.ɵɵelement(4, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵelement(6, \"i\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"ul\", 7)(9, \"li\", 8)(10, \"a\", 9);\n      i0.ɵɵtext(11, \" Informaci\\u00F3n \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"ul\", 10)(13, \"li\")(14, \"a\", 11);\n      i0.ɵɵtext(15, \"Donaci\\u00F3n de sangre\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"li\")(17, \"a\", 12);\n      i0.ɵɵtext(18, \"Donaci\\u00F3n de plasma\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"li\")(20, \"a\", 13);\n      i0.ɵɵtext(21, \"Donaci\\u00F3n de m\\u00E9dula\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(22, \"li\", 14)(23, \"a\", 15);\n      i0.ɵɵtext(24, \"\\u00BFPuedo donar?\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(25, \"li\", 14)(26, \"a\", 16);\n      i0.ɵɵtext(27, \"Noticias\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(28, \"li\", 14)(29, \"a\", 17);\n      i0.ɵɵtext(30, \"Galer\\u00EDa\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"li\", 14)(32, \"a\", 18);\n      i0.ɵɵlistener(\"click\", function MenuComponent_Template_a_click_32_listener() {\n        return ctx.ensenarModal();\n      });\n      i0.ɵɵtext(33, \"Pedir cita\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(34, MenuComponent_li_34_Template, 3, 0, \"li\", 19);\n      i0.ɵɵtemplate(35, MenuComponent_li_35_Template, 3, 0, \"li\", 19);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(36, MenuComponent_div_36_Template, 9, 0, \"div\", 20);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(34);\n      i0.ɵɵproperty(\"ngIf\", ctx.puedeModificar);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.estaRegistrado);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.estaRegistrado);\n    }\n  },\n  dependencies: [i6.NgIf, i7.StickyTopDirective, i4.NgbNavbar],\n  styles: [\"header[_ngcontent-%COMP%]   .banner[_ngcontent-%COMP%] {\\n  height: 150px;\\n  width: 100%;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%] {\\n  background-color: var(--color-primario);\\n  z-index: 100;\\n  \\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 45px;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%] {\\n  padding-left: 4rem;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%] {\\n  border: none;\\n  padding: 0 5rem 0 0;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]:focus {\\n  box-shadow: none;\\n  color: var(--color-granate);\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] {\\n  color: var(--bs-white);\\n  padding: 0;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\\n  border-radius: 0;\\n  box-shadow: 0 3px 4px rgba(0, 0, 0, 0.2);\\n  margin-top: -2px;\\n  border: none;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\\n  padding: 0.5rem 1.5rem;\\n  margin: 0;\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover {\\n  background-color: var(--color-granate);\\n}\\nheader[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .usuario-contenedor[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: 2rem;\\n  top: 1.5rem;\\n}\\n@media (max-width: 992px) {\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%] {\\n    padding-left: 2rem;\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%] {\\n    margin-top: 0.5rem;\\n    border-top: 1px solid var(--bs-white);\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]   .enlace[_ngcontent-%COMP%]::before {\\n    width: 8px;\\n    height: 100%;\\n    top: 0;\\n    background-color: var(--bs-white);\\n    transform: scaleY(0);\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]   .enlace[_ngcontent-%COMP%]:hover {\\n    background-color: var(--color-granate);\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]   .enlace[_ngcontent-%COMP%]:hover::before {\\n    transform: scaleY(1);\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%] {\\n    background-color: var(--color-secundario);\\n    margin-top: -2px;\\n    padding: 0;\\n    box-shadow: unset;\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%] {\\n    color: var(--bs-white);\\n    text-align: center;\\n    padding: 0.7rem 0;\\n  }\\n  header[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%] {\\n    padding: 0.5rem 0;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL21lbnUvbWVudS5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDRTtFQUNFLGFBQUE7RUFDQSxXQUFBO0FBQUo7QUFHRTtFQUNFLHVDQUFBO0VBQ0EsWUFBQTtFQXlCQTs7S0FBQTtBQXZCSjtBQUFJO0VBQ0UsV0FBQTtBQUVOO0FBQ0k7RUFDRSxrQkFBQTtBQUNOO0FBRUk7RUFDRSxZQUFBO0VBQ0EsbUJBQUE7QUFBTjtBQUVNO0VBQ0UsZ0JBQUE7RUFDQSwyQkFBQTtBQUFSO0FBSUk7RUFDRSxzQkFBQTtFQUNBLFVBQUE7QUFGTjtBQVNJO0VBQ0UsZ0JBQUE7RUFDQSx3Q0FBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQVBOO0FBU007RUFDRSxzQkFBQTtFQUNBLFNBQUE7QUFQUjtBQVNRO0VBQ0Usc0NBQUE7QUFQVjtBQVlJO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQVZOO0FBYUk7RUFDRTtJQUNFLGtCQUFBO0VBWE47RUFjSTtJQUNFLGtCQUFBO0lBQ0EscUNBQUE7RUFaTjtFQWVRO0lBQ0UsVUFBQTtJQUNBLFlBQUE7SUFDQSxNQUFBO0lBQ0EsaUNBQUE7SUFDQSxvQkFBQTtFQWJWO0VBZ0JRO0lBQ0Usc0NBQUE7RUFkVjtFQWdCVTtJQUNFLG9CQUFBO0VBZFo7RUFtQk07SUFDRSx5Q0FBQTtJQUNBLGdCQUFBO0lBQ0EsVUFBQTtJQUNBLGlCQUFBO0VBakJSO0VBbUJRO0lBQ0Usc0JBQUE7SUFDQSxrQkFBQTtJQUNBLGlCQUFBO0VBakJWO0VBcUJNO0lBQ0UsaUJBQUE7RUFuQlI7QUFDRiIsInNvdXJjZXNDb250ZW50IjpbImhlYWRlciB7XHJcbiAgLmJhbm5lciB7XHJcbiAgICBoZWlnaHQ6IDE1MHB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgfVxyXG5cclxuICBuYXYge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItcHJpbWFyaW8pO1xyXG4gICAgei1pbmRleDogMTAwO1xyXG5cclxuICAgIGltZyB7XHJcbiAgICAgIHdpZHRoOiA0NXB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5uYXZiYXItYnJhbmQge1xyXG4gICAgICBwYWRkaW5nLWxlZnQ6IDRyZW07XHJcbiAgICB9XHJcblxyXG4gICAgLm5hdmJhci10b2dnbGVyIHtcclxuICAgICAgYm9yZGVyOiBub25lO1xyXG4gICAgICBwYWRkaW5nOiAwIDVyZW0gMCAwO1xyXG5cclxuICAgICAgJjpmb2N1cyB7XHJcbiAgICAgICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgICAgICBjb2xvcjogdmFyKC0tY29sb3ItZ3JhbmF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAubmF2LWxpbmsge1xyXG4gICAgICBjb2xvcjogdmFyKC0tYnMtd2hpdGUpO1xyXG4gICAgICBwYWRkaW5nOiAwO1xyXG4gICAgfVxyXG5cclxuICAgIC8qIC5kcm9wZG93bjpob3ZlciAuZHJvcGRvd24tbWVudSB7XHJcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gICAgfSAqL1xyXG5cclxuICAgIC5kcm9wZG93bi1tZW51IHtcclxuICAgICAgYm9yZGVyLXJhZGl1czogMDtcclxuICAgICAgYm94LXNoYWRvdzogMCAzcHggNHB4IHJnYmEoMCwwLDAsLjIpO1xyXG4gICAgICBtYXJnaW4tdG9wOiAtMnB4O1xyXG4gICAgICBib3JkZXI6IG5vbmU7XHJcblxyXG4gICAgICAuZHJvcGRvd24taXRlbSB7XHJcbiAgICAgICAgcGFkZGluZzogLjVyZW0gMS41cmVtO1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuXHJcbiAgICAgICAgJjpob3ZlciB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1ncmFuYXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAudXN1YXJpby1jb250ZW5lZG9yIHtcclxuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICByaWdodDogMnJlbTtcclxuICAgICAgdG9wOiAxLjVyZW07XHJcbiAgICB9XHJcblxyXG4gICAgQG1lZGlhIChtYXgtd2lkdGg6IDk5MnB4KSB7XHJcbiAgICAgIC5uYXZiYXItYnJhbmQge1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogMnJlbTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLm5hdmJhci1jb2xsYXBzZSB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogLjVyZW07XHJcbiAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWJzLXdoaXRlKTtcclxuXHJcbiAgICAgICAgLmVubGFjZSB7XHJcbiAgICAgICAgICAmOjpiZWZvcmUge1xyXG4gICAgICAgICAgICB3aWR0aDogOHB4O1xyXG4gICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICAgIHRvcDogMDtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYnMtd2hpdGUpO1xyXG4gICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlWSgwKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAmOmhvdmVyIHtcclxuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tY29sb3ItZ3JhbmF0ZSk7XHJcblxyXG4gICAgICAgICAgICAmOjpiZWZvcmUge1xyXG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGVZKDEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAuZHJvcGRvd24tbWVudSB7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICAgICAgICAgIG1hcmdpbi10b3A6IC0ycHg7XHJcbiAgICAgICAgICBwYWRkaW5nOiAwO1xyXG4gICAgICAgICAgYm94LXNoYWRvdzogdW5zZXQ7XHJcblxyXG4gICAgICAgICAgLmRyb3Bkb3duLWl0ZW0ge1xyXG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tYnMtd2hpdGUpO1xyXG4gICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgICAgIHBhZGRpbmc6IC43cmVtIDA7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAubmF2LWxpbmsge1xyXG4gICAgICAgICAgcGFkZGluZzogLjVyZW0gMDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["ModalPedirCitaComponent","i0","MenuComponent","constructor","AuthService","SharedService","router","modal","citasService","ngOnInit","user","localStorage","getItem","estaRegistrado","comprobarPuedeModificar","comprobarPermisos","subscribe","registrado","puedeModificar","resp","ensenarModal","open","cerrarSesion","removeItem","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\shared\\menu\\menu.component.ts","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\shared\\menu\\menu.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { ModalPedirCitaComponent } from '../modal-pedir-cita/modal-pedir-cita.component';\r\nimport { AuthService } from 'src/app/auth/services/auth.service';\r\nimport { SharedService } from '../services/shared.service';\r\nimport { CitasService } from 'src/app/citas/services/citas.service';\r\nimport { lastValueFrom } from 'rxjs';\r\nimport { PedirCitaModule } from 'src/app/citas/citas.module';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss']\r\n})\r\nexport class MenuComponent implements OnInit {\r\n\r\n  puedeModificar: boolean = false;\r\n  estaRegistrado: boolean = false;\r\n  puedePedirCita: boolean = true;\r\n\r\n  constructor(\r\n    private AuthService: AuthService,\r\n    private SharedService: SharedService,\r\n    private router: Router,\r\n    private modal: NgbModal,\r\n    private citasService: CitasService\r\n  ) { }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n    const user = localStorage.getItem('user');\r\n\r\n    if (user) {\r\n      this.estaRegistrado = true;\r\n\r\n      this.comprobarPuedeModificar();\r\n    }\r\n\r\n    this.SharedService.comprobarPermisos.subscribe(registrado => {\r\n      this.estaRegistrado = registrado;\r\n\r\n      this.comprobarPuedeModificar();\r\n    })\r\n  }\r\n\r\n\r\n  comprobarPuedeModificar() {\r\n    if (this.estaRegistrado) {\r\n      this.AuthService.puedeModificar().subscribe(resp => {\r\n        this.puedeModificar = (resp) ? true : false;\r\n      });\r\n    }\r\n  }\r\n\r\n  async ensenarModal() {\r\n    this.modal.open(ModalPedirCitaComponent);\r\n  }\r\n\r\n  // async ensenarModalPedirCita() {\r\n\r\n  //   if(this.estaRegistrado) {\r\n  //     const id = JSON.parse(localStorage.getItem('user')!).id\r\n\r\n  //     const resp = await lastValueFrom(this.citasService.compHaPedidoCita(id));\r\n\r\n  //     this.puedePedirCita = resp.success;\r\n  //   }\r\n\r\n  //   // this.modal.open(ModalPedirCitaComponent, this.estaRegistrado, this.puedePedirCita);\r\n  // }\r\n\r\n  //TODO: sacar cuadro preguntando\r\n\r\n  // ensenarModal() {\r\n  //   if (!this.estaRegistrado) this.modal.open(ModalPedirCitaComponent);\r\n  //   else this.router.navigate(['/citas/pedircita']);\r\n  // }\r\n\r\n  cerrarSesion() {\r\n    localStorage.removeItem('user');\r\n    this.estaRegistrado = false;\r\n    this.puedeModificar = false;\r\n    this.router.navigate(['']);\r\n  }\r\n\r\n\r\n}\r\n","<header>\r\n  <img class=\"banner\" src=\"../../../assets/imagenes/banner.png\">\r\n\r\n  <nav class=\"navbar navbar-expand-xl\" appStickyTop>\r\n\r\n    <a class=\"navbar-brand\" href=\"#\"><img src=\"../../../assets/imagenes/logo.png\"></a>\r\n\r\n    <button class=\"navbar-toggler ms-auto\" type=\"button\" data-bs-toggle=\"collapse\"\r\n      data-bs-target=\"#menu-horizontal\" aria-controls=\"menu-horizontal\" aria-expanded=\"false\"\r\n      aria-label=\"Toggle navigation\">\r\n      <i class=\"fa-solid fa-bars fs-2\"></i>\r\n    </button>\r\n\r\n    <div class=\"collapse navbar-collapse text-center\" id=\"menu-horizontal\">\r\n      <ul class=\"navbar-nav mb-lg-0\">\r\n        <li class=\"nav-item dropdown ms-lg-3 me-lg-5\">\r\n          <a class=\"nav-link enlace dropdown-toggle\" href=\"#\" role=\"button\" data-bs-toggle=\"dropdown\"\r\n            aria-expanded=\"false\">\r\n            Información\r\n          </a>\r\n          <ul class=\"dropdown-menu\">\r\n            <li><a class=\"dropdown-item enlace\" href=\"./donacion/sangre\">Donación de sangre</a></li>\r\n            <li><a class=\"dropdown-item enlace\" href=\"./donacion/plasma\">Donación de plasma</a></li>\r\n            <li><a class=\"dropdown-item enlace\" href=\"./donación/medula\">Donación de médula</a></li>\r\n          </ul>\r\n        </li>\r\n\r\n        <li class=\"nav-item me-lg-5\">\r\n          <a class=\"nav-link enlace\" href=\"./aviso\">¿Puedo donar?</a>\r\n        </li>\r\n\r\n        <li class=\"nav-item me-lg-5\">\r\n          <a class=\"nav-link enlace\" href=\"./noticias\">Noticias</a>\r\n        </li>\r\n\r\n        <li class=\"nav-item me-lg-5\">\r\n          <a class=\"nav-link enlace\" href=\"./galeria\">Galería</a>\r\n        </li>\r\n\r\n        <!-- <li class=\"nav-item me-lg-5\">\r\n          <a class=\"nav-link enlace\" href=\"#\">Galería</a>\r\n        </li> -->\r\n\r\n        <li class=\"nav-item me-lg-5\">\r\n          <a class=\"nav-link enlace\" (click)=\"ensenarModal()\">Pedir cita</a>\r\n        </li>\r\n\r\n        <!-- <li class=\"nav-item\">\r\n          <a class=\"nav-link enlace\" href=\"#\">Contacto</a>\r\n        </li> -->\r\n\r\n        <li class=\"nav-item me-lg-5\" *ngIf=\"puedeModificar\">\r\n          <a class=\"nav-link enlace\" href=\"./configuracion/hermandad\">Modificar contenidos</a>\r\n        </li>\r\n\r\n        <li class=\"nav-item me-lg-5\" *ngIf=\"!estaRegistrado\">\r\n          <a class=\"nav-link enlace\" href=\"./auth/login/\">Iniciar sesión</a>\r\n        </li>\r\n      </ul>\r\n\r\n    </div>\r\n\r\n\r\n    <div class=\"usuario-contenedor ms-5\" *ngIf=\"estaRegistrado\">\r\n\r\n      <i class=\"fa-solid fa-user-large fs-4 usuario dropdown-toggle\"\r\n        data-bs-toggle=\"dropdown\" data-bs-target=\"dropdown-user\"></i>\r\n\r\n      <ul class=\"dropdown-menu dropdown-menu-end\" aria-labelledby=\"dropdownMenuUser\">\r\n        <li><a class=\"dropdown-item\" href=\"../../citas/mostrarcitas\">Mis citas</a></li>\r\n        <li><a class=\"dropdown-item\" (click)=\"cerrarSesion()\">Cerrar sesión</a></li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n</header>\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}