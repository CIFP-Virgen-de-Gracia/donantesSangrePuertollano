{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet MenuComponent = class MenuComponent {\n  constructor(AuthService, SharedService) {\n    this.AuthService = AuthService;\n    this.SharedService = SharedService;\n    this.puedeModificar = false;\n    this.estaRegistrado = false;\n  }\n  ngOnInit() {\n    const user = localStorage.getItem('user');\n    if (user) {\n      this.estaRegistrado = true;\n      this.comprobarPuedeModificar();\n    }\n    this.SharedService.comprobarPermisos.subscribe(registrado => {\n      this.estaRegistrado = registrado;\n      this.comprobarPuedeModificar();\n    });\n  }\n  comprobarPuedeModificar() {\n    if (this.estaRegistrado) {\n      this.AuthService.puedeModificar().subscribe(resp => {\n        this.puedeModificar = resp ? true : false;\n      });\n    }\n  }\n};\nMenuComponent = __decorate([Component({\n  selector: 'app-menu',\n  templateUrl: './menu.component.html',\n  styleUrls: ['./menu.component.scss']\n})], MenuComponent);\nexport { MenuComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAS1C,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKxBC,YACUC,WAAwB,EACxBC,aAA4B;IAD5B,gBAAW,GAAXD,WAAW;IACX,kBAAa,GAAbC,aAAa;IALvB,mBAAc,GAAY,KAAK;IAC/B,mBAAc,GAAY,KAAK;EAK3B;EAIJC,QAAQ;IAEN,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACzC,IAAIF,IAAI,EAAE;MACR,IAAI,CAACG,cAAc,GAAG,IAAI;MAE1B,IAAI,CAACC,uBAAuB,EAAE;;IAGhC,IAAI,CAACN,aAAa,CAACO,iBAAiB,CAACC,SAAS,CAACC,UAAU,IAAG;MAC1D,IAAI,CAACJ,cAAc,GAAGI,UAAU;MAEhC,IAAI,CAACH,uBAAuB,EAAE;IAChC,CAAC,CAAC;EACJ;EAGAA,uBAAuB;IACrB,IAAI,IAAI,CAACD,cAAc,EAAE;MACvB,IAAI,CAACN,WAAW,CAACW,cAAc,EAAE,CAACF,SAAS,CAACG,IAAI,IAAG;QACjD,IAAI,CAACD,cAAc,GAAIC,IAAI,GAAI,IAAI,GAAG,KAAK;MAC7C,CAAC,CAAC;;EAEN;CAED;AArCYd,aAAa,eALzBD,SAAS,CAAC;EACTgB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,uBAAuB;CACpC,CAAC,GACWjB,aAAa,CAqCzB;SArCYA,aAAa","names":["Component","MenuComponent","constructor","AuthService","SharedService","ngOnInit","user","localStorage","getItem","estaRegistrado","comprobarPuedeModificar","comprobarPermisos","subscribe","registrado","puedeModificar","resp","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\shared\\menu\\menu.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { AuthService } from 'src/app/auth/services/auth.service';\r\nimport { SharedService } from '../services/shared.service';\r\n\r\n@Component({\r\n  selector: 'app-menu',\r\n  templateUrl: './menu.component.html',\r\n  styleUrls: ['./menu.component.scss']\r\n})\r\nexport class MenuComponent implements OnInit {\r\n\r\n  puedeModificar: boolean = false;\r\n  estaRegistrado: boolean = false;\r\n\r\n  constructor(\r\n    private AuthService: AuthService,\r\n    private SharedService: SharedService,\r\n  ) { }\r\n\r\n\r\n\r\n  ngOnInit() {\r\n\r\n    const user = localStorage.getItem('user');\r\n    if (user) {\r\n      this.estaRegistrado = true;\r\n\r\n      this.comprobarPuedeModificar();\r\n    }\r\n\r\n    this.SharedService.comprobarPermisos.subscribe(registrado => {\r\n      this.estaRegistrado = registrado;\r\n\r\n      this.comprobarPuedeModificar();\r\n    })\r\n  }\r\n\r\n\r\n  comprobarPuedeModificar() {\r\n    if (this.estaRegistrado) {\r\n      this.AuthService.puedeModificar().subscribe(resp => {\r\n        this.puedeModificar = (resp) ? true : false;\r\n      });\r\n    }\r\n  }\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}