{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../contenido.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@kolkov/angular-editor\";\nconst _c0 = [\"imagen\"];\nfunction AddContenidoComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27)(2, \"strong\");\n    i0.ɵɵtext(3, \"Error!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Los campos titulo y contenido son obligatorios. \");\n    i0.ɵɵelementStart(5, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function AddContenidoComponent_div_32_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddContenidoComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 29);\n    i0.ɵɵtext(2, \" La noticia se ha a\\u00F1adido correctamente. \");\n    i0.ɵɵelementStart(3, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function AddContenidoComponent_div_33_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddContenidoComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" La noticia no se ha podido a\\u00F1adir. \");\n    i0.ɵɵelementStart(3, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function AddContenidoComponent_div_34_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddContenidoComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 26)(1, \"div\", 27);\n    i0.ɵɵtext(2, \" Asegurate de que la imagen tiene extension y es una de las siguientes:PNG, JPG, png, jpg, jpeg, gif, tiff, svg, webp. \");\n    i0.ɵɵelementStart(3, \"button\", 28);\n    i0.ɵɵlistener(\"click\", function AddContenidoComponent_div_35_Template_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class AddContenidoComponent {\n  constructor(ContenidoService) {\n    this.ContenidoService = ContenidoService;\n    this.addConfig = {\n      editable: true,\n      height: '100px',\n      minHeight: '0',\n      maxHeight: 'auto',\n      width: 'auto',\n      minWidth: '0',\n      translate: 'yes',\n      enableToolbar: true,\n      showToolbar: true,\n      placeholder: 'Enter text here...',\n      defaultParagraphSeparator: '',\n      defaultFontName: '',\n      defaultFontSize: '',\n      toolbarHiddenButtons: [['fontName', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\n    };\n    this.res = \"no\";\n    this.alert = \"no\";\n    this.aviso = 0;\n    this.noticia = {\n      titulo: \"\",\n      subtitulo: \"\",\n      contenido: \"\",\n      seccion: \"noticias\",\n      imagen: \"\"\n    };\n  }\n  limpiarAlert() {\n    this.alert = \"no\";\n    this.aviso = 0;\n  }\n  capturarFile(event) {\n    const files = event.target.files[0];\n    this.noticia.imagen = files;\n  }\n  limpiarContenido() {\n    this.noticia.titulo = \"\";\n    this.noticia.subtitulo = \"\";\n    this.noticia.contenido = \"\";\n    this.noticia.imagen = \"\";\n    this.foto.nativeElement.value = '';\n  }\n  comprobarExtension(file) {\n    let permitida = false;\n    if (file != \"\") {\n      let extensiones_permitidas = ['.PNG', \".JPG\", '.png', '.jpg', '.jpeg', '.gif', '.tiff', '.svg', '.webp'];\n      let extension = file.name.substring(file.name.lastIndexOf(\".\")).toLowerCase();\n      if (extension != \"\") {\n        for (let i = 0; i < extensiones_permitidas.length && !permitida; i++) {\n          if (extensiones_permitidas[i] == extension) {\n            permitida = true;\n          }\n        }\n      }\n    } else {\n      permitida = true;\n    }\n    return permitida;\n  }\n  agregarNoticia() {\n    if (this.noticia.titulo.trim().length === 0 || this.noticia.contenido.trim().length === 0) {\n      this.alert = \"si\";\n    } else {\n      if (!this.comprobarExtension(this.noticia.imagen)) {\n        this.aviso = 3;\n      } else {\n        this.ContenidoService.añadirNoticia(this.noticia).subscribe(res => {\n          if (res.success !== false) {\n            this.aviso = 1;\n            this.ContenidoService.agregar(res.data);\n            this.limpiarContenido();\n          } else {\n            this.aviso = 2;\n          }\n        });\n      }\n    }\n  }\n}\nAddContenidoComponent.ɵfac = function AddContenidoComponent_Factory(t) {\n  return new (t || AddContenidoComponent)(i0.ɵɵdirectiveInject(i1.ContenidoService));\n};\nAddContenidoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddContenidoComponent,\n  selectors: [[\"app-add-contenido\"]],\n  viewQuery: function AddContenidoComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.foto = _t.first);\n    }\n  },\n  decls: 41,\n  vars: 9,\n  consts: [[1, \"container\", \"pb-5\"], [1, \"row\"], [1, \"col\"], [1, \"titulo\"], [\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalContenido\", 1, \"btn-secundario\", \"mt-3\"], [\"id\", \"modalContenido\", \"tabindex\", \"-1\", 1, \"modal\"], [1, \"modal-dialog\", \"modal-xl\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", \"bordeColor\"], [1, \"modal-title\", \"modalTitulo\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [1, \"col-12\"], [1, \"form-group\"], [\"for\", \"titulo\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"placeholder\", \"Escribe un titulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"subtitulo\", \"placeholder\", \"Escribe un subtitulo\", \"name\", \"subtitulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"contenido\", 3, \"config\", \"placeholder\", \"ngModel\", \"ngModelChange\"], [\"for\", \"imagen\", 1, \"mt-4\"], [\"accept\", \"image/*\", \"type\", \"file\", \"name\", \"imagen\", 1, \"form-control\", \"mb-3\", 3, \"change\"], [\"imagen\", \"\"], [\"class\", \"container mt-3 mb-2\", 4, \"ngIf\"], [1, \"modal-footer\", \"bordeArriba\"], [\"type\", \"submit\", 1, \"btn\", \"botonAdd\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"botonCerrar\", \"ms-4\", 3, \"click\"], [1, \"container\", \"mt-3\", \"mb-2\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"]],\n  template: function AddContenidoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h4\", 3);\n      i0.ɵɵtext(4, \"\\u00BFA\\u00FAn sin contenido o quieres a\\u00F1adir una nueva noticia? Haz click en A\\u00F1adir Contenido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 4);\n      i0.ɵɵtext(6, \"A\\u00F1adir Contenido\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7)(10, \"div\", 8)(11, \"h3\", 9);\n      i0.ɵɵtext(12, \"A\\u00F1adiendo Contenido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 10);\n      i0.ɵɵlistener(\"click\", function AddContenidoComponent_Template_button_click_13_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function AddContenidoComponent_Template_button_click_13_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 11)(15, \"form\", 12);\n      i0.ɵɵlistener(\"ngSubmit\", function AddContenidoComponent_Template_form_ngSubmit_15_listener() {\n        return ctx.agregarNoticia();\n      });\n      i0.ɵɵelementStart(16, \"div\", 1)(17, \"div\", 13)(18, \"div\", 14)(19, \"label\", 15);\n      i0.ɵɵtext(20, \"T\\u00EDtulo del contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"input\", 16);\n      i0.ɵɵlistener(\"ngModelChange\", function AddContenidoComponent_Template_input_ngModelChange_21_listener($event) {\n        return ctx.noticia.titulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"label\", 15);\n      i0.ɵɵtext(23, \"Subt\\u00EDtulo del contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function AddContenidoComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.noticia.subtitulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"label\", 15);\n      i0.ɵɵtext(26, \"Contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"angular-editor\", 18);\n      i0.ɵɵlistener(\"ngModelChange\", function AddContenidoComponent_Template_angular_editor_ngModelChange_27_listener($event) {\n        return ctx.noticia.contenido = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(28, \"label\", 19);\n      i0.ɵɵtext(29, \"Seleccionar Imagen:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"input\", 20, 21);\n      i0.ɵɵlistener(\"change\", function AddContenidoComponent_Template_input_change_30_listener($event) {\n        return ctx.capturarFile($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(32, AddContenidoComponent_div_32_Template, 6, 0, \"div\", 22);\n      i0.ɵɵtemplate(33, AddContenidoComponent_div_33_Template, 4, 0, \"div\", 22);\n      i0.ɵɵtemplate(34, AddContenidoComponent_div_34_Template, 4, 0, \"div\", 22);\n      i0.ɵɵtemplate(35, AddContenidoComponent_div_35_Template, 4, 0, \"div\", 22);\n      i0.ɵɵelementStart(36, \"div\", 23)(37, \"button\", 24);\n      i0.ɵɵtext(38, \"Aceptar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(39, \"button\", 25);\n      i0.ɵɵlistener(\"click\", function AddContenidoComponent_Template_button_click_39_listener() {\n        return ctx.limpiarAlert();\n      })(\"click\", function AddContenidoComponent_Template_button_click_39_listener() {\n        return ctx.limpiarContenido();\n      });\n      i0.ɵɵtext(40, \"Cerrar\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngModel\", ctx.noticia.titulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.noticia.subtitulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"config\", ctx.addConfig)(\"placeholder\", \"Enter text here...\")(\"ngModel\", ctx.noticia.contenido);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngIf\", ctx.alert !== \"no\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 2);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 3);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i4.AngularEditorComponent],\n  styles: [\".modalTitulo[_ngcontent-%COMP%] {\\n  color: var(--color-secundario);\\n  font-family: var(--tipo-textos);\\n}\\n\\n.bordeColor[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--color-secundario);\\n}\\n\\n.bordeArriba[_ngcontent-%COMP%] {\\n  border-top: 1px solid var(--color-secundario);\\n}\\n\\n.botonAdd[_ngcontent-%COMP%], .botonCerrar[_ngcontent-%COMP%] {\\n  position: relative;\\n  padding: 9px 30px;\\n  margin: 5px 0;\\n  color: var(--color-secundario);\\n  text-decoration: none;\\n  text-align: center;\\n  text-transform: uppercase;\\n  transition: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::before, .botonCerrar[_ngcontent-%COMP%]::before {\\n  content: \\\" \\\";\\n  position: absolute;\\n  top: -1px;\\n  left: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-top: 2px solid var(--color-secundario);\\n  border-left: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]::after, .botonCerrar[_ngcontent-%COMP%]::after {\\n  content: \\\" \\\";\\n  position: absolute;\\n  bottom: -1px;\\n  right: -1px;\\n  width: 20px;\\n  height: 20px;\\n  border-bottom: 2px solid var(--color-secundario);\\n  border-right: 2px solid var(--color-secundario);\\n  transition: 0.5s;\\n  transition-delay: 0.5s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover::before, .botonAdd[_ngcontent-%COMP%]:hover::after, .botonCerrar[_ngcontent-%COMP%]:hover::before, .botonCerrar[_ngcontent-%COMP%]:hover::after {\\n  width: 100%;\\n  height: 100%;\\n  transition-delay: 0s;\\n}\\n\\n.botonAdd[_ngcontent-%COMP%]:hover, .botonCerrar[_ngcontent-%COMP%]:hover {\\n  background: var(--color-secundario);\\n  color: var(--bs-white);\\n  box-shadow: 0 0 20px var(--color-granate-oscuro);\\n  transition-delay: 0.5s;\\n}\\n\\n.custom-btn[_ngcontent-%COMP%] {\\n  width: 200px;\\n  height: 40px;\\n  color: var(--bs-white);\\n  border-radius: 5px;\\n  padding: 10px 25px;\\n  background: transparent;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  position: relative;\\n  display: inline-block;\\n  box-shadow: inset 2px 2px 2px 0px rgba(255, 255, 255, 0.5), 7px 7px 20px 0px rgba(0, 0, 0, 0.1), 4px 4px 5px 0px rgba(0, 0, 0, 0.1);\\n  outline: none;\\n}\\n\\n.btn-1[_ngcontent-%COMP%] {\\n  width: 175px;\\n  height: 40px;\\n  line-height: 47px;\\n  padding: 0;\\n  border: none;\\n  background: var(--color-secundario);\\n}\\n.btn-1[_ngcontent-%COMP%]:hover {\\n  color: var(--color-granate);\\n  background: transparent;\\n  box-shadow: none;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:before, .btn-1[_ngcontent-%COMP%]:after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  height: 2px;\\n  width: 0;\\n  background: linear-gradient(320deg, var(--color-granate-oscuro) 0%, var(--color-secundario) 70%, var(--color-primario) 30%);\\n  box-shadow: -1px -1px 5px 0px #fff, 7px 7px 20px 0px rgba(0, 0, 0, 0.2), 4px 4px 5px 0px rgba(0, 0, 0, 0.1333333333);\\n  transition: 400ms ease all;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:after {\\n  right: inherit;\\n  top: 40px;\\n  left: 0;\\n  bottom: 0;\\n}\\n\\n.btn-1[_ngcontent-%COMP%]:hover:before, .btn-1[_ngcontent-%COMP%]:hover:after {\\n  width: 100%;\\n  transition: 800ms ease all;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2VzdGlvbi1jb250ZW5pZG8vYWRkLWNvbnRlbmlkby9hZGQtY29udGVuaWRvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBO0VBQ0UsOEJBQUE7RUFDQSwrQkFBQTtBQUFGOztBQUdBO0VBQ0UsZ0RBQUE7QUFBRjs7QUFHQTtFQUNFLDZDQUFBO0FBQUY7O0FBR0E7O0VBRUUsa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGFBQUE7RUFDQSw4QkFBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7RUFDQSx5QkFBQTtFQUNBLGdCQUFBO0FBQUY7O0FBR0E7O0VBRUUsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsU0FBQTtFQUNBLFVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLDZDQUFBO0VBQ0EsOENBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0FBQUY7O0FBR0E7O0VBRUUsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGdEQUFBO0VBQ0EsK0NBQUE7RUFDQSxnQkFBQTtFQUNBLHNCQUFBO0FBQUY7O0FBR0E7Ozs7RUFJRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9CQUFBO0FBQUY7O0FBR0E7O0VBRUUsbUNBQUE7RUFDQSxzQkFBQTtFQUNBLGdEQUFBO0VBQ0Esc0JBQUE7QUFBRjs7QUFHQTtFQUNFLFlBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsdUJBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7RUFDQSxrQkFBQTtFQUNBLHFCQUFBO0VBQ0EsbUlBQUE7RUFHQSxhQUFBO0FBRkY7O0FBS0E7RUFDRSxZQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0EsVUFBQTtFQUNBLFlBQUE7RUFDQSxtQ0FBQTtBQUZGO0FBSUU7RUFDRSwyQkFBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7QUFGSjs7QUFNQTs7RUFFRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsUUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsMkhBQUE7RUFDQSxvSEFDRTtFQUdGLDBCQUFBO0FBTkY7O0FBU0E7RUFDRSxjQUFBO0VBQ0EsU0FBQTtFQUNBLE9BQUE7RUFDQSxTQUFBO0FBTkY7O0FBU0E7O0VBRUUsV0FBQTtFQUNBLDBCQUFBO0FBTkYiLCJzb3VyY2VzQ29udGVudCI6WyIvL1RvZG8gSXNhXHJcbi5tb2RhbFRpdHVsbyB7XHJcbiAgY29sb3I6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGZvbnQtZmFtaWx5OiB2YXIoLS10aXBvLXRleHRvcyk7XHJcbn1cclxuXHJcbi5ib3JkZUNvbG9yIHtcclxuICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XHJcbn1cclxuXHJcbi5ib3JkZUFycmliYSB7XHJcbiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG59XHJcblxyXG4uYm90b25BZGQsXHJcbi5ib3RvbkNlcnJhciB7XHJcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gIHBhZGRpbmc6IDlweCAzMHB4O1xyXG4gIG1hcmdpbjogNXB4IDA7XHJcbiAgY29sb3I6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICB0cmFuc2l0aW9uOiAwLjVzO1xyXG59XHJcblxyXG4uYm90b25BZGQ6OmJlZm9yZSxcclxuLmJvdG9uQ2VycmFyOjpiZWZvcmUge1xyXG4gIGNvbnRlbnQ6IFwiIFwiO1xyXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICB0b3A6IC0xcHg7XHJcbiAgbGVmdDogLTFweDtcclxuICB3aWR0aDogMjBweDtcclxuICBoZWlnaHQ6IDIwcHg7XHJcbiAgYm9yZGVyLXRvcDogMnB4IHNvbGlkIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGJvcmRlci1sZWZ0OiAycHggc29saWQgdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XHJcbiAgdHJhbnNpdGlvbjogMC41cztcclxuICB0cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xyXG59XHJcblxyXG4uYm90b25BZGQ6OmFmdGVyLFxyXG4uYm90b25DZXJyYXI6OmFmdGVyIHtcclxuICBjb250ZW50OiBcIiBcIjtcclxuICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgYm90dG9tOiAtMXB4O1xyXG4gIHJpZ2h0OiAtMXB4O1xyXG4gIHdpZHRoOiAyMHB4O1xyXG4gIGhlaWdodDogMjBweDtcclxuICBib3JkZXItYm90dG9tOiAycHggc29saWQgdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XHJcbiAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgdmFyKC0tY29sb3Itc2VjdW5kYXJpbyk7XHJcbiAgdHJhbnNpdGlvbjogMC41cztcclxuICB0cmFuc2l0aW9uLWRlbGF5OiAwLjVzO1xyXG59XHJcblxyXG4uYm90b25BZGQ6aG92ZXI6OmJlZm9yZSxcclxuLmJvdG9uQWRkOmhvdmVyOjphZnRlcixcclxuLmJvdG9uQ2VycmFyOmhvdmVyOjpiZWZvcmUsXHJcbi5ib3RvbkNlcnJhcjpob3Zlcjo6YWZ0ZXIge1xyXG4gIHdpZHRoOiAxMDAlO1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB0cmFuc2l0aW9uLWRlbGF5OiAwcztcclxufVxyXG5cclxuLmJvdG9uQWRkOmhvdmVyLFxyXG4uYm90b25DZXJyYXI6aG92ZXIge1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG4gIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XHJcbiAgYm94LXNoYWRvdzogMCAwIDIwcHggdmFyKC0tY29sb3ItZ3JhbmF0ZS1vc2N1cm8pO1xyXG4gIHRyYW5zaXRpb24tZGVsYXk6IDAuNXM7XHJcbn1cclxuXHJcbi5jdXN0b20tYnRuIHtcclxuICB3aWR0aDogMjAwcHg7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGNvbG9yOiB2YXIoLS1icy13aGl0ZSk7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIHBhZGRpbmc6IDEwcHggMjVweDtcclxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgdHJhbnNpdGlvbjogYWxsIDAuM3MgZWFzZTtcclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gIGJveC1zaGFkb3c6IGluc2V0IDJweCAycHggMnB4IDBweCByZ2JhKDI1NSwgMjU1LCAyNTUsIC41KSxcclxuICAgIDdweCA3cHggMjBweCAwcHggcmdiYSgwLCAwLCAwLCAuMSksXHJcbiAgICA0cHggNHB4IDVweCAwcHggcmdiYSgwLCAwLCAwLCAuMSk7XHJcbiAgb3V0bGluZTogbm9uZTtcclxufVxyXG5cclxuLmJ0bi0xIHtcclxuICB3aWR0aDogMTc1cHg7XHJcbiAgaGVpZ2h0OiA0MHB4O1xyXG4gIGxpbmUtaGVpZ2h0OiA0N3B4O1xyXG4gIHBhZGRpbmc6IDA7XHJcbiAgYm9yZGVyOiBub25lO1xyXG4gIGJhY2tncm91bmQ6IHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pO1xyXG5cclxuICAmOmhvdmVyIHtcclxuICAgIGNvbG9yOiB2YXIoLS1jb2xvci1ncmFuYXRlKTtcclxuICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICB9XHJcbn1cclxuXHJcbi5idG4tMTpiZWZvcmUsXHJcbi5idG4tMTphZnRlciB7XHJcbiAgY29udGVudDogJyc7XHJcbiAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gIHRvcDogMDtcclxuICByaWdodDogMDtcclxuICBoZWlnaHQ6IDJweDtcclxuICB3aWR0aDogMDtcclxuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMzIwZGVnLCB2YXIoLS1jb2xvci1ncmFuYXRlLW9zY3VybykgMCUsIHZhcigtLWNvbG9yLXNlY3VuZGFyaW8pIDcwJSwgdmFyKC0tY29sb3ItcHJpbWFyaW8pIDMwJSk7XHJcbiAgYm94LXNoYWRvdzpcclxuICAgIC0xcHggLTFweCA1cHggMHB4ICNmZmYsXHJcbiAgICA3cHggN3B4IDIwcHggMHB4ICMwMDAzLFxyXG4gICAgNHB4IDRweCA1cHggMHB4ICMwMDAyO1xyXG4gIHRyYW5zaXRpb246IDQwMG1zIGVhc2UgYWxsO1xyXG59XHJcblxyXG4uYnRuLTE6YWZ0ZXIge1xyXG4gIHJpZ2h0OiBpbmhlcml0O1xyXG4gIHRvcDogNDBweDtcclxuICBsZWZ0OiAwO1xyXG4gIGJvdHRvbTogMDtcclxufVxyXG5cclxuLmJ0bi0xOmhvdmVyOmJlZm9yZSxcclxuLmJ0bi0xOmhvdmVyOmFmdGVyIHtcclxuICB3aWR0aDogMTAwJTtcclxuICB0cmFuc2l0aW9uOiA4MDBtcyBlYXNlIGFsbDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IA6CUA,+BAAsD;IAE1CA,uBAAO;IAAAA,iBAAS;IAACA,iEACzB;IAAAA,kCACqB;IADbA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IACXA,iBAAS;;;;;;IAGlCA,+BAAmD;IAE/CA,8DACA;IAAAA,kCAC2B;IAAzBA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAACA,iBAAS;;;;;;IAGxCA,+BAAmD;IAE/CA,yDACA;IAAAA,kCAC2B;IAAzBA;MAAAA;MAAA;MAAA,OAASA,oCAAc;IAAA,EAAC;IAACA,iBAAS;;;;;;IAGxCA,+BAAmD;IAE/CA,uIAEA;IAAAA,kCAC2B;IAAzBA;MAAAA;MAAA;MAAA,OAASA,qCAAc;IAAA,EAAC;IAACA,iBAAS;;;AC5DlD,OAAM,MAAOC,qBAAqB;EAwBhCC,YAAoBC,gBAAkC;IAAlC,qBAAgB,GAAhBA,gBAAgB;IAvBpC,cAAS,GAAwB;MAC/BC,QAAQ,EAAE,IAAI;MACdC,MAAM,EAAE,OAAO;MACfC,SAAS,EAAE,GAAG;MACdC,SAAS,EAAE,MAAM;MACjBC,KAAK,EAAE,MAAM;MACbC,QAAQ,EAAE,GAAG;MACbC,SAAS,EAAE,KAAK;MAChBC,aAAa,EAAE,IAAI;MACnBC,WAAW,EAAE,IAAI;MACjBC,WAAW,EAAE,oBAAoB;MACjCC,yBAAyB,EAAE,EAAE;MAC7BC,eAAe,EAAE,EAAE;MACnBC,eAAe,EAAE,EAAE;MACnBC,oBAAoB,EAAE,CAAC,CAAC,UAAU,EAAE,aAAa,EAAE,aAAa,EAAE,sBAAsB,CAAC;KAC1F;IASC,IAAI,CAACC,GAAG,GAAG,IAAI;IACf,IAAI,CAACC,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACC,OAAO,GAAG;MACbC,MAAM,EAAE,EAAE;MACVC,SAAS,EAAE,EAAE;MACbC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,UAAU;MACnBC,MAAM,EAAE;KACT;EACH;EAGAC,YAAY;IACV,IAAI,CAACR,KAAK,GAAG,IAAI;IACjB,IAAI,CAACC,KAAK,GAAG,CAAC;EAChB;EAGAQ,YAAY,CAACC,KAAU;IACrB,MAAMC,KAAK,GAAGD,KAAK,CAACE,MAAM,CAACD,KAAK,CAAC,CAAC,CAAC;IACnC,IAAI,CAACT,OAAO,CAACK,MAAM,GAAGI,KAAK;EAC7B;EAGAE,gBAAgB;IACd,IAAI,CAACX,OAAO,CAACC,MAAM,GAAG,EAAE;IACxB,IAAI,CAACD,OAAO,CAACE,SAAS,GAAG,EAAE;IAC3B,IAAI,CAACF,OAAO,CAACG,SAAS,GAAG,EAAE;IAC3B,IAAI,CAACH,OAAO,CAACK,MAAM,GAAG,EAAE;IACxB,IAAI,CAACO,IAAI,CAACC,aAAa,CAACC,KAAK,GAAG,EAAE;EAEpC;EACAC,kBAAkB,CAACC,IAAS;IAC1B,IAAIC,SAAS,GAAG,KAAK;IACrB,IAAID,IAAI,IAAI,EAAE,EAAE;MACd,IAAIE,sBAAsB,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,EAAE,OAAO,CAAC;MACxG,IAAIC,SAAS,GAAIH,IAAI,CAACI,IAAI,CAACC,SAAS,CAACL,IAAI,CAACI,IAAI,CAACE,WAAW,CAAC,GAAG,CAAC,CAAC,CAAEC,WAAW,EAAE;MAC/E,IAAIJ,SAAS,IAAI,EAAE,EAAE;QACnB,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,sBAAsB,CAACO,MAAM,IAAI,CAACR,SAAS,EAAEO,CAAC,EAAE,EAAE;UACpE,IAAIN,sBAAsB,CAACM,CAAC,CAAC,IAAIL,SAAS,EAAE;YAC1CF,SAAS,GAAG,IAAI;;;;KAIvB,MAAM;MACLA,SAAS,GAAG,IAAI;;IAElB,OAAOA,SAAS;EAClB;EAGAS,cAAc;IACZ,IAAI,IAAI,CAAC1B,OAAO,CAACC,MAAM,CAAC0B,IAAI,EAAE,CAACF,MAAM,KAAK,CAAC,IAAI,IAAI,CAACzB,OAAO,CAACG,SAAS,CAACwB,IAAI,EAAE,CAACF,MAAM,KAAK,CAAC,EAAE;MACzF,IAAI,CAAC3B,KAAK,GAAG,IAAI;KAClB,MAAM;MACL,IAAI,CAAC,IAAI,CAACiB,kBAAkB,CAAC,IAAI,CAACf,OAAO,CAACK,MAAM,CAAC,EAAE;QACjD,IAAI,CAACN,KAAK,GAAG,CAAC;OACf,MAAM;QACL,IAAI,CAACjB,gBAAgB,CAAC8C,aAAa,CAAC,IAAI,CAAC5B,OAAO,CAAC,CAAC6B,SAAS,CAAEhC,GAAG,IAAI;UAClE,IAAIA,GAAG,CAACiC,OAAO,KAAK,KAAK,EAAE;YACzB,IAAI,CAAC/B,KAAK,GAAG,CAAC;YACd,IAAI,CAACjB,gBAAgB,CAACiD,OAAO,CAAClC,GAAG,CAACmC,IAAI,CAAC;YACvC,IAAI,CAACrB,gBAAgB,EAAE;WAExB,MAAM;YACL,IAAI,CAACZ,KAAK,GAAG,CAAC;;QAElB,CAAC,CAAC;;;EAIR;;AAjGWnB,qBAAqB;mBAArBA,qBAAqB;AAAA;AAArBA,qBAAqB;QAArBA,qBAAqB;EAAAqD;EAAAC;IAAA;;;;;;;;;;;;;MDVlCvD,8BAA4B;MAGHA,wHAAoF;MAAAA,iBAAK;MAC5GA,iCACmC;MAAAA,qCAAgB;MAAAA,iBAAS;MAIlEA,8BAAqD;MAITA,yCAAmB;MAAAA,iBAAK;MAC5DA,mCAC6C;MADrCA;QAAA,OAASwD,kBAAc;MAAA,EAAC;QAAA,OAAUA,sBAAkB;MAAA,EAA5B;MACaxD,iBAAS;MAExDA,gCAAwB;MAChBA;QAAA,OAAYwD,oBAAgB;MAAA,EAAE;MAClCxD,+BAAiB;MAISA,2CAAqB;MAAAA,iBAAQ;MAEjDA,kCACoC;MAD7BA;QAAA;MAAA,EAA4B;MAAnCA,iBACoC;MAEpCA,kCAAoB;MAAAA,8CAAwB;MAAAA,iBAAQ;MAEpDA,kCAC+C;MADxCA;QAAA;MAAA,EAA+B;MAAtCA,iBAC+C;MAE/CA,kCAAoB;MAAAA,2BAAU;MAAAA,iBAAQ;MACtCA,2CACkC;MAAhCA;QAAA;MAAA,EAA+B;MAACA,iBAAiB;MAEnDA,kCAAiC;MAAAA,oCAAmB;MAAAA,iBAAQ;MAE5DA,sCACkB;MADXA;QAAA,OAAUwD,wBAAoB;MAAA,EAAC;MAAtCxD,iBACkB;MAIxBA,yEAMM;MACNA,yEAMM;MACNA,yEAMM;MACNA,yEAOM;MAENA,gCAAsC;MACOA,wBAAO;MAAAA,iBAAS;MAE3DA,mCAC0B;MADJA;QAAA,OAASwD,kBAAc;MAAA,EAAC;QAAA,OAAUA,sBAAkB;MAAA,EAA5B;MACpBxD,uBAAM;MAAAA,iBAAS;;;MArD9BA,gBAA4B;MAA5BA,4CAA4B;MAK5BA,eAA+B;MAA/BA,+CAA+B;MAILA,eAAoB;MAApBA,sCAAoB;MAUrDA,eAAkB;MAAlBA,yCAAkB;MAOlBA,eAAe;MAAfA,sCAAe;MAOfA,eAAe;MAAfA,sCAAe;MAOfA,eAAe;MAAfA,sCAAe","names":["i0","AddContenidoComponent","constructor","ContenidoService","editable","height","minHeight","maxHeight","width","minWidth","translate","enableToolbar","showToolbar","placeholder","defaultParagraphSeparator","defaultFontName","defaultFontSize","toolbarHiddenButtons","res","alert","aviso","noticia","titulo","subtitulo","contenido","seccion","imagen","limpiarAlert","capturarFile","event","files","target","limpiarContenido","foto","nativeElement","value","comprobarExtension","file","permitida","extensiones_permitidas","extension","name","substring","lastIndexOf","toLowerCase","i","length","agregarNoticia","trim","añadirNoticia","subscribe","success","agregar","data","selectors","viewQuery","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\add-contenido\\add-contenido.component.html","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\add-contenido\\add-contenido.component.ts"],"sourcesContent":["<!--Todo Isa-->\r\n<div class=\"container pb-5\">\r\n  <div class=\"row\">\r\n    <div class=\"col\">\r\n      <h4 class=\"titulo\">¿Aún sin contenido o quieres añadir una nueva noticia? Haz click en Añadir Contenido</h4>\r\n      <button type=\"button\" class=\"btn-secundario mt-3\" data-bs-toggle=\"modal\"\r\n        data-bs-target=\"#modalContenido\">Añadir Contenido</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"modal\" id=\"modalContenido\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog modal-xl modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header bordeColor\">\r\n        <h3 class=\"modal-title modalTitulo\">Añadiendo Contenido</h3>\r\n        <button (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" type=\"button\" class=\"btn-close\"\r\n          data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form (ngSubmit)=\"agregarNoticia();\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"form-group\">\r\n\r\n                <label for=\"titulo\">Título del contenido:</label>\r\n\r\n                <input [(ngModel)]=\"noticia.titulo\" type=\"text\" id=\"titulo\" name=\"titulo\" class=\"form-control mb-3\"\r\n                  placeholder=\"Escribe un titulo\" />\r\n\r\n                <label for=\"titulo\">Subtítulo del contenido:</label>\r\n\r\n                <input [(ngModel)]=\"noticia.subtitulo\" type=\"text\" id=\"subtitulo\" placeholder=\"Escribe un subtitulo\"\r\n                  name=\"subtitulo\" class=\"form-control mb-3\" />\r\n\r\n                <label for=\"titulo\">Contenido:</label>\r\n                <angular-editor name=\"contenido\" [config]=\"addConfig\" [placeholder]=\"'Enter text here...'\"\r\n                  [(ngModel)]=\"noticia.contenido\"></angular-editor>\r\n\r\n                <label class=\"mt-4\" for=\"imagen\">Seleccionar Imagen:</label>\r\n\r\n                <input (change)=\"capturarFile($event)\" accept=\"image/*\" class=\"form-control mb-3\" type=\"file\" #imagen\r\n                  name=\"imagen\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"alert!=='no'\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              <strong>Error!!</strong> Los campos titulo y contenido son obligatorios.\r\n              <button (click)=\"limpiarAlert()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"\r\n                aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===1\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n              La noticia se ha añadido correctamente.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n                (click)=\"limpiarAlert()\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===2\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              La noticia no se ha podido añadir.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n                (click)=\"limpiarAlert()\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===3\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              Asegurate de que la imagen tiene extension y es una de las siguientes:PNG, JPG, png, jpg, jpeg, gif, tiff,\r\n              svg, webp.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"\r\n                (click)=\"limpiarAlert()\"></button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-footer bordeArriba\">\r\n            <button type=\"submit\" class=\"btn botonAdd\">Aceptar</button>\r\n\r\n            <button type=\"button\" (click)=\"limpiarAlert()\" (click)=\"limpiarContenido()\" class=\"btn botonCerrar ms-4\"\r\n              data-bs-dismiss=\"modal\">Cerrar</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","//Todo Isa\r\nimport { Component, ViewChild, ElementRef } from '@angular/core';\r\nimport { Contenido } from '../Interfaces/Contenido.interface';\r\nimport { ContenidoService } from '../contenido.service';\r\nimport { AngularEditorConfig } from '@kolkov/angular-editor';\r\n\r\n@Component({\r\n  selector: 'app-add-contenido',\r\n  templateUrl: './add-contenido.component.html',\r\n  styleUrls: ['./add-contenido.component.scss']\r\n})\r\nexport class AddContenidoComponent {\r\n  addConfig: AngularEditorConfig = {\r\n    editable: true,\r\n    height: '100px',\r\n    minHeight: '0',\r\n    maxHeight: 'auto',\r\n    width: 'auto',\r\n    minWidth: '0',\r\n    translate: 'yes',\r\n    enableToolbar: true,\r\n    showToolbar: true,\r\n    placeholder: 'Enter text here...',\r\n    defaultParagraphSeparator: '',\r\n    defaultFontName: '',\r\n    defaultFontSize: '',\r\n    toolbarHiddenButtons: [['fontName', 'insertImage', 'insertVideo', 'insertHorizontalRule']]\r\n  };\r\n  res: string;\r\n  alert: string;\r\n  aviso: number;\r\n  noticia: Contenido;\r\n\r\n  @ViewChild('imagen') foto!: ElementRef<HTMLInputElement>;\r\n\r\n  constructor(private ContenidoService: ContenidoService) {\r\n    this.res = \"no\";\r\n    this.alert = \"no\";\r\n    this.aviso = 0\r\n    this.noticia = {\r\n      titulo: \"\",\r\n      subtitulo: \"\",\r\n      contenido: \"\",\r\n      seccion: \"noticias\",\r\n      imagen: \"\"\r\n    }\r\n  }\r\n\r\n\r\n  limpiarAlert() {\r\n    this.alert = \"no\";\r\n    this.aviso = 0;\r\n  }\r\n\r\n\r\n  capturarFile(event: any): any {\r\n    const files = event.target.files[0];\r\n    this.noticia.imagen = files;\r\n  }\r\n\r\n\r\n  limpiarContenido() {\r\n    this.noticia.titulo = \"\";\r\n    this.noticia.subtitulo = \"\";\r\n    this.noticia.contenido = \"\";\r\n    this.noticia.imagen = \"\";\r\n    this.foto.nativeElement.value = ''\r\n\r\n  }\r\n  comprobarExtension(file: any): boolean {\r\n    let permitida = false;\r\n    if (file != \"\") {\r\n      let extensiones_permitidas = ['.PNG', \".JPG\", '.png', '.jpg', '.jpeg', '.gif', '.tiff', '.svg', '.webp'];\r\n      let extension = (file.name.substring(file.name.lastIndexOf(\".\"))).toLowerCase();\r\n      if (extension != \"\") {\r\n        for (let i = 0; i < extensiones_permitidas.length && !permitida; i++) {\r\n          if (extensiones_permitidas[i] == extension) {\r\n            permitida = true;\r\n          }\r\n        }\r\n      }\r\n    } else {\r\n      permitida = true;\r\n    }\r\n    return permitida;\r\n  }\r\n\r\n\r\n  agregarNoticia() {\r\n    if (this.noticia.titulo.trim().length === 0 || this.noticia.contenido.trim().length === 0) {\r\n      this.alert = \"si\";\r\n    } else {\r\n      if (!this.comprobarExtension(this.noticia.imagen)) {\r\n        this.aviso = 3;\r\n      } else {\r\n        this.ContenidoService.añadirNoticia(this.noticia).subscribe((res) => {\r\n          if (res.success !== false) {\r\n            this.aviso = 1;\r\n            this.ContenidoService.agregar(res.data);\r\n            this.limpiarContenido();\r\n\r\n          } else {\r\n            this.aviso = 2;\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}