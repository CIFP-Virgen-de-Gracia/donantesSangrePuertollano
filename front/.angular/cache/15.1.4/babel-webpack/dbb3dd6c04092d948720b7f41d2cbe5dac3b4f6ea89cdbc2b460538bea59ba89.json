{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../contenido.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AddContenidoComponent_div_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"strong\");\n    i0.ɵɵtext(3, \"Error!!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Los campos titulo y contenido son obligatorios. \");\n    i0.ɵɵelementStart(5, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AddContenidoComponent_div_26_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.limpiarAlert());\n    });\n    i0.ɵɵelementEnd()()();\n  }\n}\nfunction AddContenidoComponent_div_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 25);\n    i0.ɵɵtext(2, \" La noticia se ha a\\u00F1adido correctamente. \");\n    i0.ɵɵelement(3, \"button\", 26);\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AddContenidoComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23);\n    i0.ɵɵtext(2, \" La noticia no se ha podido a\\u00F1adir. \");\n    i0.ɵɵelement(3, \"button\", 26);\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class AddContenidoComponent {\n  /*\r\n  noticiasForm: FormGroup = new FormGroup({\r\n    titulo: new FormControl('', [Validators.required]),\r\n    subtitulo: new FormControl(''),\r\n    contenido: new FormControl('', [Validators.required]),\r\n    imagen: new FormControl(''),\r\n    fileSource: new FormControl(''),\r\n    seccion: new FormControl('noticias'),\r\n  });*/\n  constructor(ContenidoService) {\n    this.ContenidoService = ContenidoService;\n    this.res = \"no\";\n    this.alert = \"no\";\n    this.aviso = 0;\n    this.noticia = {\n      titulo: \"\",\n      subtitulo: \"\",\n      contenido: \"\",\n      seccion: \"noticias\",\n      imagen: \"\"\n    };\n  }\n  limpiarAlert() {\n    this.alert = \"no\";\n    this.aviso = 0;\n  }\n  capturarFile(event) {\n    const files = event.target.files[0];\n    this.noticia.imagen = files;\n  }\n  limpiarContenido() {\n    this.noticia.titulo = \"\";\n    this.noticia.subtitulo = \"\";\n    this.noticia.contenido = \"\";\n    this.noticia.imagen = \"\";\n  }\n  agregarNoticia() {\n    /*const payload = new FormData();\r\n    payload.append('titulo', this.noticiasForm.get('titulo')?.value);\r\n    payload.append('subtitulo', this.noticiasForm.get('subtitulo')?.value);\r\n    payload.append('contenido', this.noticiasForm.get('contenido')?.value);\r\n    payload.append('seccion', this.noticiasForm.get('seccion')?.value);\r\n    payload.append('imagen',this.noticiasForm.get('fileSource')?.value);*/\n    if (this.noticia.titulo.trim().length === 0 || this.noticia.contenido.trim().length === 0) {\n      this.alert = \"si\";\n    } else {\n      this.ContenidoService.añadirNoticia(this.noticia).subscribe(res => {\n        if (res === 1) {\n          this.aviso = 1;\n          this.ContenidoService.getListado().subscribe();\n          this.limpiarContenido();\n        } else {\n          this.aviso = 2;\n        }\n      });\n    }\n  }\n}\nAddContenidoComponent.ɵfac = function AddContenidoComponent_Factory(t) {\n  return new (t || AddContenidoComponent)(i0.ɵɵdirectiveInject(i1.ContenidoService));\n};\nAddContenidoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddContenidoComponent,\n  selectors: [[\"app-add-contenido\"]],\n  decls: 34,\n  vars: 6,\n  consts: [[\"type\", \"button\", \"data-bs-toggle\", \"modal\", \"data-bs-target\", \"#modalContenido\", 1, \"btn\", \"botonNoticia\", \"ms-5\", \"mb-5\"], [\"id\", \"modalContenido\", \"tabindex\", \"-1\", 1, \"modal\"], [1, \"modal-dialog\", \"modal-xl\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [3, \"ngSubmit\"], [1, \"row\"], [1, \"col-12\"], [1, \"form-group\"], [\"for\", \"titulo\"], [\"type\", \"text\", \"id\", \"titulo\", \"name\", \"titulo\", \"placeholder\", \"Escribe un titulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"subtitulo\", \"placeholder\", \"Escribe un subtitulo\", \"name\", \"subtitulo\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"rows\", \"10\", \"placeholder\", \"Escribe tu contenido...\", \"id\", \"contenido\", \"name\", \"contenido\", 1, \"form-control\", \"mb-3\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"imagen\"], [\"accept\", \"image/*\", \"type\", \"file\", \"id\", \"imagen\", \"name\", \"imagen\", 1, \"form-control\", 3, \"change\"], [\"class\", \"container mt-3 mb-2\", 4, \"ngIf\"], [1, \"modal-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", 3, \"click\"], [1, \"container\", \"mt-3\", \"mb-2\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\"], [\"type\", \"button\", \"data-bs-dismiss\", \"alert\", \"aria-label\", \"Close\", 1, \"btn-close\"]],\n  template: function AddContenidoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"button\", 0);\n      i0.ɵɵtext(1, \"A\\u00F1adir Contenido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"div\", 1)(3, \"div\", 2)(4, \"div\", 3)(5, \"div\", 4)(6, \"h3\", 5);\n      i0.ɵɵtext(7, \"A\\u00F1adiendo Contenido\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(8, \"button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 7)(10, \"form\", 8);\n      i0.ɵɵlistener(\"ngSubmit\", function AddContenidoComponent_Template_form_ngSubmit_10_listener() {\n        return ctx.agregarNoticia();\n      });\n      i0.ɵɵelementStart(11, \"div\", 9)(12, \"div\", 10)(13, \"div\", 11)(14, \"label\", 12);\n      i0.ɵɵtext(15, \"T\\u00EDtulo del contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"input\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function AddContenidoComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.noticia.titulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"label\", 12);\n      i0.ɵɵtext(18, \"Subt\\u00EDtulo del contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 14);\n      i0.ɵɵlistener(\"ngModelChange\", function AddContenidoComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.noticia.subtitulo = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"label\", 12);\n      i0.ɵɵtext(21, \"Contenido:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"textarea\", 15);\n      i0.ɵɵlistener(\"ngModelChange\", function AddContenidoComponent_Template_textarea_ngModelChange_22_listener($event) {\n        return ctx.noticia.contenido = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"label\", 16);\n      i0.ɵɵtext(24, \"Seleccionar Imagen:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"input\", 17);\n      i0.ɵɵlistener(\"change\", function AddContenidoComponent_Template_input_change_25_listener($event) {\n        return ctx.capturarFile($event);\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(26, AddContenidoComponent_div_26_Template, 6, 0, \"div\", 18);\n      i0.ɵɵtemplate(27, AddContenidoComponent_div_27_Template, 4, 0, \"div\", 18);\n      i0.ɵɵtemplate(28, AddContenidoComponent_div_28_Template, 4, 0, \"div\", 18);\n      i0.ɵɵelementStart(29, \"div\", 19)(30, \"button\", 20);\n      i0.ɵɵtext(31, \"Aceptar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"button\", 21);\n      i0.ɵɵlistener(\"click\", function AddContenidoComponent_Template_button_click_32_listener() {\n        return ctx.limpiarAlert();\n      });\n      i0.ɵɵtext(33, \"Close\");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"ngModel\", ctx.noticia.titulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.noticia.subtitulo);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.noticia.contenido);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.alert !== \"no\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.aviso === 2);\n    }\n  },\n  dependencies: [i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm],\n  styles: [\".dropzone[_ngcontent-%COMP%] {\\n  height: 150px;\\n  min-width: 100px;\\n  display: table;\\n  background-color: #eee;\\n  border: dashed 1px #aaa;\\n  border-radius: 10px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.centered[_ngcontent-%COMP%] {\\n  text-align: center;\\n}\\n\\n.desaparecer[_ngcontent-%COMP%] {\\n  display: none;\\n}\\n\\n.text-wrapped[_ngcontent-%COMP%] {\\n  vertical-align: middle;\\n  display: table-cell;\\n}\\n\\n.seleccion[_ngcontent-%COMP%] {\\n  color: blue;\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n\\n.seleccion[_ngcontent-%COMP%]:hover {\\n  color: red;\\n  cursor: pointer;\\n  text-decoration: none;\\n}\\n\\n.botonNoticia[_ngcontent-%COMP%] {\\n  color: white;\\n  background-color: var(--color-secundario);\\n}\\n.botonNoticia[_ngcontent-%COMP%]:hover {\\n  color: white;\\n  background-color: black;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvZ2VzdGlvbi1jb250ZW5pZG8vYWRkLWNvbnRlbmlkby9hZGQtY29udGVuaWRvLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsY0FBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxhQUFBO0FBRUY7O0FBQUE7RUFDRSxzQkFBQTtFQUNBLG1CQUFBO0FBR0Y7O0FBREE7RUFDRSxXQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0FBSUY7O0FBRkE7RUFDRSxVQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0FBS0Y7O0FBSEE7RUFDRSxZQUFBO0VBQ0EseUNBQUE7QUFNRjtBQUxFO0VBQ0UsWUFBQTtFQUNBLHVCQUFBO0FBT0oiLCJzb3VyY2VzQ29udGVudCI6WyIuZHJvcHpvbmUge1xyXG4gIGhlaWdodDogMTUwcHg7XHJcbiAgbWluLXdpZHRoOiAxMDBweDtcclxuICBkaXNwbGF5OiB0YWJsZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlO1xyXG4gIGJvcmRlcjogZGFzaGVkIDFweCAjYWFhO1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XHJcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG59XHJcblxyXG4uY2VudGVyZWQge1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4uZGVzYXBhcmVjZXJ7XHJcbiAgZGlzcGxheTogbm9uZTtcclxufVxyXG4udGV4dC13cmFwcGVkIHtcclxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xyXG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XHJcbn1cclxuLnNlbGVjY2lvbntcclxuICBjb2xvcjpibHVlO1xyXG4gIGN1cnNvcjpwb2ludGVyO1xyXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG4uc2VsZWNjaW9uOmhvdmVye1xyXG4gIGNvbG9yOnJlZDtcclxuICBjdXJzb3I6cG9pbnRlcjtcclxuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbn1cclxuLmJvdG9uTm90aWNpYXtcclxuICBjb2xvcjp3aGl0ZTtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb2xvci1zZWN1bmRhcmlvKTtcclxuICAmOmhvdmVye1xyXG4gICAgY29sb3I6d2hpdGU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOmJsYWNrO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AddContenidoComponent","constructor","ContenidoService","titulo","subtitulo","contenido","seccion","imagen","limpiarAlert","alert","aviso","capturarFile","event","files","target","noticia","limpiarContenido","agregarNoticia","trim","length","añadirNoticia","subscribe","res","getListado","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\add-contenido\\add-contenido.component.html","C:\\Users\\Alicia\\Documents\\Clase\\DAW\\Segundo\\Desafio3_DonantesSangre\\donantesSangrePuertollano\\front\\src\\app\\gestion-contenido\\add-contenido\\add-contenido.component.ts"],"sourcesContent":["<button type=\"button\" class=\"btn botonNoticia ms-5 mb-5\" data-bs-toggle=\"modal\" data-bs-target=\"#modalContenido\">Añadir\r\n  Contenido</button>\r\n\r\n<div class=\"modal\" id=\"modalContenido\" tabindex=\"-1\">\r\n  <div class=\"modal-dialog modal-xl modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h3 class=\"modal-title\">Añadiendo Contenido</h3>\r\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <form (ngSubmit)=\"agregarNoticia();\">\r\n          <div class=\"row\">\r\n            <div class=\"col-12\">\r\n              <div class=\"form-group\">\r\n\r\n                <label for=\"titulo\">Título del contenido:</label>\r\n\r\n                <input\r\n                [(ngModel)]=\"noticia.titulo\"\r\n                type=\"text\"\r\n                id=\"titulo\"\r\n                name=\"titulo\"\r\n                class=\"form-control mb-3\"\r\n                placeholder=\"Escribe un titulo\"/>\r\n\r\n                <label for=\"titulo\">Subtítulo del contenido:</label>\r\n\r\n                <input\r\n                [(ngModel)]=\"noticia.subtitulo\"\r\n                type=\"text\"\r\n                id=\"subtitulo\"\r\n                placeholder=\"Escribe un subtitulo\"\r\n                name=\"subtitulo\"\r\n                class=\"form-control mb-3\"/>\r\n\r\n                <label for=\"titulo\">Contenido:</label>\r\n\r\n                <textarea\r\n                [(ngModel)]=\"noticia.contenido\"\r\n                class=\"form-control mb-3\"\r\n                rows=\"10\"\r\n                placeholder=\"Escribe tu contenido...\"\r\n                id=\"contenido\"\r\n                name=\"contenido\"></textarea>\r\n\r\n                <label for=\"imagen\">Seleccionar Imagen:</label>\r\n\r\n                <input\r\n                (change)=\"capturarFile($event)\"\r\n                accept=\"image/*\"\r\n                class=\"form-control\"\r\n                type=\"file\"\r\n                id=imagen\r\n                name=\"imagen\"/>\r\n\r\n                <!--<div class=\"dropzone w-100 mt-3\">\r\n                <div class=\"text-wrapped p-1 w-100\">\r\n                  <div class=\"centered\">\r\n                    Arrastra y suelta tu imagen aquí o\r\n                    <a class=\"seleccion\" (click)=\"imagen.click()\">búscala pinchando aquí</a>\r\n                  </div>\r\n                </div>\r\n              </div>-->\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"alert!=='no'\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              <strong>Error!!</strong> Los campos titulo y contenido son obligatorios.\r\n              <button (click)=\"limpiarAlert()\" type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===1\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\r\n              La noticia se ha añadido correctamente.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n          <div *ngIf=\"aviso===2\" class=\"container mt-3 mb-2\">\r\n            <div class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\r\n              La noticia no se ha podido añadir.\r\n              <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\"></button>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"modal-footer\">\r\n            <button type=\"submit\" class=\"btn btn-primary\">Aceptar</button>\r\n\r\n            <button\r\n            type=\"button\"\r\n            (click)=\"limpiarAlert()\"\r\n            class=\"btn btn-secondary\"\r\n            data-bs-dismiss=\"modal\">Close</button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\nimport { Contenido } from '../Interfaces/Contenido.interface';\r\nimport { ContenidoService } from '../contenido.service';\r\nimport { FormControl, FormGroup, Validators, FormsModule } from '@angular/forms';\r\n@Component({\r\n  selector: 'app-add-contenido',\r\n  templateUrl: './add-contenido.component.html',\r\n  styleUrls: ['./add-contenido.component.scss']\r\n})\r\nexport class AddContenidoComponent {\r\n  res: string = \"no\";\r\n  alert: string = \"no\";\r\n  aviso: number = 0\r\n  noticia: Contenido = {\r\n    titulo: \"\",\r\n    subtitulo: \"\",\r\n    contenido: \"\",\r\n    seccion: \"noticias\",\r\n    imagen:\"\"\r\n  }\r\n  /*\r\n  noticiasForm: FormGroup = new FormGroup({\r\n    titulo: new FormControl('', [Validators.required]),\r\n    subtitulo: new FormControl(''),\r\n    contenido: new FormControl('', [Validators.required]),\r\n    imagen: new FormControl(''),\r\n    fileSource: new FormControl(''),\r\n    seccion: new FormControl('noticias'),\r\n  });*/\r\n\r\n  constructor(private ContenidoService: ContenidoService) {\r\n  }\r\n\r\n  limpiarAlert() {\r\n    this.alert = \"no\";\r\n    this.aviso = 0;\r\n  }\r\n  capturarFile(event: any): any {\r\n    const files = event.target.files[0];\r\n    this.noticia.imagen = files;\r\n  }\r\n  limpiarContenido() {\r\n    this.noticia.titulo = \"\";\r\n    this.noticia.subtitulo = \"\";\r\n    this.noticia.contenido = \"\";\r\n    this.noticia.imagen = \"\";\r\n  }\r\n  agregarNoticia() {\r\n    /*const payload = new FormData();\r\n    payload.append('titulo', this.noticiasForm.get('titulo')?.value);\r\n    payload.append('subtitulo', this.noticiasForm.get('subtitulo')?.value);\r\n    payload.append('contenido', this.noticiasForm.get('contenido')?.value);\r\n    payload.append('seccion', this.noticiasForm.get('seccion')?.value);\r\n    payload.append('imagen',this.noticiasForm.get('fileSource')?.value);*/\r\n\r\n    if (this.noticia.titulo.trim().length === 0 || this.noticia.contenido.trim().length === 0) {\r\n      this.alert = \"si\";\r\n    } else {\r\n\r\n      this.ContenidoService.añadirNoticia(this.noticia).subscribe((res) => {\r\n        if (res === 1) {\r\n          this.aviso = 1;\r\n          this.ContenidoService.getListado().subscribe();\r\n          this.limpiarContenido();\r\n        } else {\r\n          this.aviso = 2;\r\n        }\r\n      });\r\n    }\r\n\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}